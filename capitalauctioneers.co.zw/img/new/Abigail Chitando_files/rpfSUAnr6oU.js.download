if (self.CavalryLogger) { CavalryLogger.start_js(["FaNYW"]); }

__d("AdsAdgroupPreviewSwitchToFormatReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b=a.get("formatIndexMap").set(b.data.adgroupIndex,b.data.formatIndex);return a.merge({formatIndexMap:b})}};e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataAction",["Laminar","AdsAdgroupPreviewSwitchToFormatReducerPlugin","AdsAdgroupPreviewsV2UIDataProvider","AdsAdgroupPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAdgroupPreviewSwitchToFormatReducerPlugin"),b("AdsAdgroupPreviewsV2UIDataProvider"),{})]},function(){return[b("Laminar").__createLogger("AdsAdgroupPreviewLoggerPlugins.AdsAdgroupPreviewSwitchToFormatDataLoggerPlugin",b("AdsAdgroupPreviewLoggerPlugins").AdsAdgroupPreviewSwitchToFormatDataLoggerPlugin,{})]},"AdgroupPreview.SWITCH_TO_FORMAT");e.exports=a}),null);
__d("AdsCanvasSetTemplateVideoPreviewReadyReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.set(c.elementID,b("LoadObject").withValue(!0))}};e.exports=a}),null);
__d("AdsCanvasTemplateVideoPreviewProviderPlugin",["AdsCanvasElementDataLoader","LoadObjectMap","LoadObjectOperations","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){a(function(a){return a.merge(Array.from(b.templateVideoElementIDs).map(function(c){return[c,a.get(c).setOperation(b.operation)]}))})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){g(a,{templateVideoElementIDs:c,operation:b("LoadObjectOperations").LOADING}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){return b("AdsCanvasElementDataLoader").getTemplateVideoElement(a).then(function(a){return a.preview_ready})}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsCanvasTemplateVideoPreviewProvider",["Laminar","AdsCanvasTemplateVideoPreviewProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCanvasTemplateVideoPreviewProviderPlugin"),"AdsCanvasTemplateVideoPreviewProviderPlugin")}),null);
__d("AdsCanvasSetTemplateVideoPreviewReadyAction",["Laminar","AdsCanvasSetTemplateVideoPreviewReadyReducerPlugin","AdsCanvasTemplateVideoPreviewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsCanvasSetTemplateVideoPreviewReadyReducerPlugin"),b("AdsCanvasTemplateVideoPreviewProvider"),{})]},function(){return[]},"AdsCanvasSetTemplateVideoPreviewReadyActionPlugin");e.exports=a}),null);
__d("AdsCanvasSetTemplateVideoPreviewReadyActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsCanvasSetTemplateVideoPreviewReadyActionPlugin"}}),null);
__d("AdsCanvasUnpublishedDocUpdatedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"CANVAS.UNPUBLISHED_DOC_UPDATED"}}),null);
__d("AdsInsightsAdCommentsDataProvider",["Laminar","AdsInsightsAdCommentsDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsInsightsAdCommentsDataProviderPlugin"),"AdsInsightsAdCommentsDataProviderPlugin")}),null);
__d("AdsInsightsAdCommentsLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.comments)}};e.exports=a}),null);
__d("AdsInsightsAdCommentsLoadedDataAction",["Laminar","AdsInsightsAdCommentsLoadedDataReducerPlugin","AdsInsightsAdCommentsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsInsightsAdCommentsLoadedDataReducerPlugin"),b("AdsInsightsAdCommentsDataProvider"),{})]},function(){return[]},"AD_COMMENTS_LOADED");e.exports=a}),null);
__d("AdsInsightsAdCommentsLoadingDataReducerPlugin",["mapSet"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.merge(b("mapSet")(c.adIDs,function(b){return[b,a.get(b).loading()]}))}};e.exports=a}),null);
__d("AdsInsightsAdCommentsLoadingDataAction",["Laminar","AdsInsightsAdCommentsLoadingDataReducerPlugin","AdsInsightsAdCommentsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsInsightsAdCommentsLoadingDataReducerPlugin"),b("AdsInsightsAdCommentsDataProvider"),{})]},function(){return[]},"AD_COMMENTS_LOADING");e.exports=a}),null);
__d("AdsInsightsAdCommentsDataProviderPlugin",["regeneratorRuntime","AdsGraphAPI","AdsInsightsAdCommentsLoadedDataAction","AdsInsightsAdCommentsLoadingDataAction","LoadObjectMap","immutable","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Record({instagram:b("immutable").List(),facebook:b("immutable").List()}),h=b("AdsGraphAPI").get(e.id);function i(a){__p&&__p();var c,d,e,f,i;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(h.object("ad",a).edge("adcreatives").get({fields:"effective_instagram_story_id,effective_object_story_id"}));case 2:c=l.sent;d=c.data;e=d[0].effective_object_story_id;f=d[0].effective_instagram_story_id;i={facebook:b("immutable").List(),instagram:b("immutable").List()};if(!e){l.next=11;break}l.next=10;return b("regeneratorRuntime").awrap(j(e));case 10:i.facebook=l.sent;case 11:if(!f){l.next=15;break}l.next=14;return b("regeneratorRuntime").awrap(k(f));case 14:i.instagram=l.sent;case 15:return l.abrupt("return",g(i));case 16:case"end":return l.stop()}},null,this)}function j(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(h.object("post",a).get({fields:"comments.order(reverse_chronological){attachment,comments,comment_count,created_time,from,id,like_count,message,message_tags,permalink_url}"}));case 2:c=e.sent;d=c.comments;return e.abrupt("return",b("immutable").List(d&&d.data||[]));case 5:case"end":return e.stop()}},null,this)}function k(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(h.object("post",a).get({fields:"comments.order(reverse_chronological){attachment,message,is_hidden,mentioned_instagram_users,instagram_comment_id,instagram_user{has_profile_picture,profile_pic,username},comment_type,created_at}"}));case 2:c=e.sent;d=c.comments;return e.abrupt("return",b("immutable").List(d&&d.data||[]));case 5:case"end":return e.stop()}},null,this)}a={initialState:b("LoadObjectMap").create(function(a){b("AdsInsightsAdCommentsLoadingDataAction").dispatch({adIDs:a},{line:"142",module:"AdsInsightsAdCommentsDataProviderPlugin.js"}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(a,i),function(a){b("AdsInsightsAdCommentsLoadedDataAction").dispatch({comments:a},{line:"144",module:"AdsInsightsAdCommentsDataProviderPlugin.js"})})})};e.exports=a}),null);
__d("AdsInsightsSetExportDialogAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_SET_EXPORT_DIALOG");e.exports=a}),null);
__d("AdsInsightsShowExportMenuAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_SHOW_EXPORT_MENU");e.exports=a}),null);
__d("AdsInsightsToggleExportDialogAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_TOGGLE_EXPORT_DIALOG");e.exports=a}),null);
__d("AdsInsightsToggleExportMenuAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_TOGGLE_EXPORT_MENU");e.exports=a}),null);
__d("AdsInsightsToggleShareLinkDialogAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_TOGGLE_SHARE_LINK_DIALOG");e.exports=a}),null);
__d("AdsInsightsToggleSummaryBreakdownAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_TOGGLE_SUMMARY_BREAKDOWN");e.exports=a}),null);
__d("AdsInsightsToggleTimeRangeSelectorPopoverAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_TOGGLE_TIME_RANGE_SELECTOR_POPOVER");e.exports=a}),null);
__d("AdsMerchantOverlaysVideoRenderingStatusProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{isRenderingVideo:!1,isRenderingVideoSuccessful:!0,expectedRenderingTimeInSeconds:null,renderingIdentifier:null}};e.exports=a}),null);
__d("AdsMerchantOverlaysVideoRenderingStatusProvider",["Laminar","AdsMerchantOverlaysVideoRenderingStatusProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMerchantOverlaysVideoRenderingStatusProviderPlugin"),"AdsMerchantOverlaysVideoRenderingStatusProviderPlugin")}),null);
__d("CreativeEventSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAC2_PLACEMENT_EDITOR:"PAC2_PLACEMENT_EDITOR"})}),null);
__d("AdsPlacementEditorLogger",["AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMediaFormat","AdsPlacementAssetCustomizationLoggerEvents","AdsPlacementEditorEvents","CreativeEventSource","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementEditorEvents").PlacementEditorEvents,h={logOpenEvent:function(a,c,d,e){var f;b("AdsInterfacesLogger").log({eventName:g.PLACEMENT_EDITOR_OPEN,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:(f={},f.adgroup_id=a,f.event_source=c,f.media_format=d,f.customized_placement_list=e!=null?e.toArray():null,f.creative_event_source=b("CreativeEventSource").PAC2_PLACEMENT_EDITOR,f)})},logEvent:function(a,c,d,e){b("AdsInterfacesLogger").log({eventName:a,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:(a={},a.adgroup_id=c,a.media_format=d,a.customized_placement_list=e!=null?e.toArray():null,a.creative_event_source=b("CreativeEventSource").PAC2_PLACEMENT_EDITOR,a)})},logVideoThumbnailCustomizeEvent:function(a,c){var d;b("AdsInterfacesLogger").log({data:(d={},d.customized_placement=c!=null?c.toArray():null,d),eventName:b("AdsPlacementAssetCustomizationLoggerEvents").CUSTOM_VIDEO_THUMBNAIL_CHANGE,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION});h.logEvent(g.PLACEMENT_EDITOR_VIDEO_THUMBNAIL_CUSTOMIZE,a,b("AdsMediaFormat").VIDEO,c)},logVideoCaptionsCustomizeEvent:function(a,c){var d;b("AdsInterfacesLogger").log({data:(d={},d.customized_placement=c!=null?c.toArray():null,d),eventName:b("AdsPlacementAssetCustomizationLoggerEvents").CUSTOM_VIDEO_CAPTION_CHANGE,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION});h.logEvent(g.PLACEMENT_EDITOR_VIDEO_CAPTION_CUSTOMIZE,a,b("AdsMediaFormat").VIDEO,c)},logCropEvent:function(a,c,d,e){var f;b("AdsInterfacesLogger").log({eventName:g.PLACEMENT_EDITOR_CROP,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:(f={},f.adgroup_id=a,f.media_format=c,f.customized_placement_list=d!=null?d.toArray():null,f.crop_ratios=e,f.creative_event_source=b("CreativeEventSource").PAC2_PLACEMENT_EDITOR,f)})},logVideoCropFinish:function(a,c,d){b("AdsInterfacesLogger").log({eventName:d?g.PLACEMENT_EDITOR_VIDEO_CROP_SUCCESSFUL:g.PLACEMENT_EDITOR_VIDEO_CROP_FAILED,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:(d={},d.adgroup_id=a,d.customized_placement_list=c!=null?c.toArray():null,d.creative_event_source=b("CreativeEventSource").PAC2_PLACEMENT_EDITOR,d)})}};e.exports=h}),null);
__d("AdsPlacementEditorLoggerPlugin",["AdsMediaFormat","AdsPlacementEditorLogger","first","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){if(a==="image")return b("AdsMediaFormat").IMAGE;else return b("AdsMediaFormat").VIDEO};a={log:function(a){var c;a.assetGroup!=null?c=b("immutable").List([a.assetGroup]):a.assetGroupForAssetKey!=null&&(c=a.assetGroupForAssetKey);b("AdsPlacementEditorLogger").logOpenEvent(b("first")(a.adgroupIDs)||"",a.entryPoint,g(a.format),c)}};e.exports=a}),null);
__d("AdsPlacementEditorReducerPlugins",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,b){if(b.assetGroup!=null)return{assetKey:null,assetGroup:b.assetGroup,format:b.format,initialTool:b.initialTool,isNewCustomization:Boolean(b.isNewCustomization),isVisible:!0};else if(b.assetKey!=null)return{assetGroup:null,assetKey:b.assetKey,format:b.format,initialTool:b.initialTool,isNewCustomization:Boolean(b.isNewCustomization),isVisible:!0};return a}};b={reduce:function(a,b){return{assetKey:null,assetGroup:null,format:null,initialTool:null,isNewCustomization:!1,isVisible:!1}}};e.exports={onClose:b,onOpen:a}}),null);
__d("AdsOpenPlacementEditorAction",["Laminar","ifRequired","AdsPlacementEditorReducerPlugins","AdsPlacementEditorProvider","AdsPlacementEditorLoggerPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsAdsOpenPlacementEditorReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("Laminar").__createReducer(b("AdsPlacementEditorReducerPlugins").onOpen,b("AdsPlacementEditorProvider"),{}),b("ifRequired")("AdsUEditorAdgroupConvertToLatestPACSpecReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[b("Laminar").__createLogger("AdsPlacementEditorLoggerPlugin",b("AdsPlacementEditorLoggerPlugin"),{})]},"PLACEMENT_EDITOR.OPEN");e.exports=a}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("previewFormatMap",a.get("previewFormatMap").set(b.data.adgroupIndex,b.data.previewFormats))}};e.exports=a}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction",["Laminar","AdsPreviewsV2SetPreviewFormatsForAdgroupReducerPlugin","AdsAdgroupPreviewsV2UIDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPreviewsV2SetPreviewFormatsForAdgroupReducerPlugin"),b("AdsAdgroupPreviewsV2UIDataProvider"),{})]},function(){return[]},"PREVIEWS_V2.SET_PREVIEW_FORMATS_FOR_ADGROUP");e.exports=a}),null);
__d("AdsVideoCaptionUpdatePreviewDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"UPDATE_PREVIEW"}}),null);
__d("AdsIXIGCollectionPreviewNotice.react",["fbt","ContextualLayerUpdateOnScroll","React","SimpleNUXMessage","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage("170559627181036")},d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser("170559627181036"),d.setState({nuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return!this.state.nuxShown?null:b("React").createElement("div",null,b("React").createElement("div",{ref:"ref"}),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"left",behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return a.refs.ref},position:"above",shown:this.state.nuxShown,width:"normal",onCloseButtonClick:this.$1},g._("This ad can now show on Instagram Feed, but it may display differently. You can preview how it will look.")))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("adsUEditorCanvasIDFromAdgroupSelector",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedFieldUtils","AdsCanvasAdUtils","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","adsCreateSelector","adsGetUniformValueSelector","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").linkURL))],function(a){a=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(a,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);return b("isAdsCanvasLink")(a)?b("AdsCanvasAdUtils").getCanvasID(a):null},{name:e.id});e.exports=a}),null);
__d("adsUEditorCanvasFromAdgroupSelector",["AdsCanvasConstants","AdsCanvasDocumentStore","adsCreateSelector","adsUEditorCanvasIDFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX;a=b("adsCreateSelector")([b("adsUEditorCanvasIDFromAdgroupSelector"),b("AdsCanvasDocumentStore").getByID],function(a,b){if(a==null)return null;var c=b(a);return c.isLoading()||!c.hasValue()?null:b(a+g).getValue()},{name:e.id});e.exports=a}),null);
__d("adsUEditorCanvasElementsFromAdgroupSelector",["AdsCanvasConstants","AdsCanvasElementStore","AdsLoadObjectUtils","adsCreateSelector","adsUEditorCanvasFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX;a=b("adsCreateSelector")([b("adsUEditorCanvasFromAdgroupSelector"),b("AdsCanvasElementStore").getByID],function(a,c){if(a==null)return null;a=a.elements.map(function(a){return a.id});var d=a.map(c);return b("AdsLoadObjectUtils").anyLoadingOrEmpty(d.toArray())?null:a.map(function(a){return c(a+g).getValue()})},{name:e.id});e.exports=a}),null);
__d("adsUEditorAdgroupCanvasSynchronizerSelector",["AdsBulkValueUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupCreativeFormat","AdsUnifiedCreativeAPIFields","RichMediaEditorStore","adsAccountGK","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorCanvasElementsFromAdgroupSelector","adsUEditorCanvasFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.map(function(a){return a.adgroup.id})},{name:e.id+".adgroupIDsSelector"});c=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").pageID)],function(a){return b("AdsBulkValueUtils").getUniformValue(a)},{name:e.id+".pageIDSelector"});d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a.map(function(a){return b("AdsUEditorAdgroupAdObjectsUtils").getCreativeFormat(a,!1)});return a.every(function(a){return a===b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS})},{name:e.id+".isCollectionFormatSelector"});f=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").retailerItemIDs)],function(a){return b("AdsBulkValueUtils").getUniformValue(a)},{name:e.id+".retailerItemIDsSelector"});a=b("adsCreateSelector")([a,b("adsUEditorAccountSelector"),b("adsUEditorCanvasFromAdgroupSelector"),b("adsUEditorCanvasElementsFromAdgroupSelector"),d,c,f,b("RichMediaEditorStore").getDocumentEditState],function(a,c,d,e,f,g,h,i){c=b("adsAccountGK").legacy(c,"show_in_feed_merged_shopping_gk","SHOW_IN_FEED_MERGED_SHOPPING_TEMPLATE");return d==null||e==null?{adgroupIDs:a,canvas:null,canvasSaveState:i,elements:null,isCollectionFormat:f,pageID:g,retailerItemIDs:h,shouldSynchronizeAdgroupToCanvas:c}:{adgroupIDs:a,canvas:d,canvasSaveState:i,elements:e,isCollectionFormat:f,pageID:g,retailerItemIDs:h,shouldSynchronizeAdgroupToCanvas:c}},{name:e.id});e.exports=a}),null);
__d("adsUEditorIXIGCollectionPreviewNoticeSelector",["AdsCanvasInstagramConstants","AdsUEditorCampaignInstagramSelectors","adsCreateSelector","adsUEditorAdgroupCanvasSynchronizerSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCanvasInstagramConstants").IG_COLLECTION_FALLBACK_TEMPLATE_ID;a=b("adsCreateSelector")([b("adsUEditorAdgroupCanvasSynchronizerSelector"),b("AdsUEditorCampaignInstagramSelectors").someHaveInstagramPlacement],function(a,b){var c=a.canvas;c=!!c&&(c.getSourceTemplateID()===null||g.indexOf(c.getSourceTemplateID())!==-1)&&a.isCollectionFormat&&b;return{eligibleForNux:c}},{name:e.id});e.exports=a}),null);
__d("AdsIXIGCollectionPreviewNoticeContainer.react",["AdsFluxContainer","AdsIXIGCollectionPreviewNotice.react","AdsUEditorContextType","React","adsUEditorIXIGCollectionPreviewNoticeSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorIXIGCollectionPreviewNoticeSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return b("adsUEditorIXIGCollectionPreviewNoticeSelector")(a)};var d=c.prototype;d.render=function(){return!this.state.eligibleForNux?null:b("React").createElement(b("AdsIXIGCollectionPreviewNotice.react"),null)};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("AdsCanvasTemplateVideoPreviewUtils",["AdsCanvasElementDataLoader","AdsCanvasSetTemplateVideoPreviewReadyAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e3,h=30,i={},j={},k={startPolling:function(a){__p&&__p();j[a]==null&&(j[a]=0),j[a]+=1,b("promiseDone")(b("AdsCanvasElementDataLoader").getTemplateVideoElement(a).then(function(c){__p&&__p();if(c.preview_ready){b("AdsCanvasSetTemplateVideoPreviewReadyAction").dispatch({elementID:a},{line:"37",module:"AdsCanvasTemplateVideoPreviewUtils.js"});return}if(j[a]>h){k.stopPolling(a);return}i[a]=setTimeout(function(){k.startPolling(a)},g)}))},stopPolling:function(a){clearTimeout(i[a]),delete i[a],delete j[a]}};e.exports=k}),null);
__d("AdsDCONoticeUtils",["cx","fbt","AdsHelpTrayUIActions","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getDuplicationNoticeForCM:function(){return h._("The ad set you selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getNotExportedWarning:function(){return h._("Ads using dynamic creative can't be imported or exported. You can still manage and edit these ads in Ads Manager.")},getDraftAndPublishedMixedStateNotice:function(){return h._("One or more of the ad sets you've selected uses dynamic creative and has already been confirmed. The setting for dynamic creative can't be changed in confirmed ad sets.")},getGeneralDCOMixedStateNotice:function(){return h._("One or more of the ad sets you've selected uses dynamic creative and can't be edited with other ad sets. Please edit dynamic creative ad sets separately.")},getCannotCreateAdInAdsetWithExistingDCOAdNotice:function(){return h._("The ad set you selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getDeletionDialogBody:function(){return h._("You have selected at least one ad with dynamic creative. Deleting this type of ad will automatically delete the ad set as well.")},getNoAssetOption:function(){return h._("No values provided")},getCTATooltip:function(){return h._("Add a button that matches the action you want people to take when they see your ad. You can select up to 5 calls to action for your ad.")},getPreviewEntryDisabledTooltip:function(){return h._("To see more variations, upload more creative assets.")},getImageTooltip:function(){return h._("Add up to 10 images to use in your ad.")},getWebsiteURLTooltip:function(){return h._("Enter the website URL you want to promote. (Ex: http:\/\/www.example.com\/page) Only one URL can be promoted in your ad.")},getDisplayURLTooltip:function(){return h._("This is the URL that will be shown to people who see your ad. It can be a shortened or reformatted link, but it must direct to the same place as your destination URL. Only 1 display link can be used in your ad. This won't appear in all placements.")},openHelpTray:function(a){return function(){b("AdsHelpTrayUIActions").pushCMSIDToHistory(a)}},getCTASelectionDisabledTooltip:function(a){return h._("Choose up to {Max number of CTA buttons allowed} call to actions for ads with dynamic creative.",[h._param("Max number of CTA buttons allowed",a)])},getDCOAdgroupInsightsTipMessage:function(){return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"white",display:"block",size:"meta1",weight:"bold"},i.adgroupInsightsTipTitle),b("React").createElement(b("SUIText.react"),{className:"_3-8x",display:"block",shade:"white",size:"meta1"},i.adgroupInsightsTipDesc))},getDuplicateValueErrorMessage:function(a){return h._("Please enter a unique {Field Name} for each field.",[h._param("Field Name",a)])},getTextLimitErrorMessage:function(a){return h._("This field must be at most {Max number of characters allowed} characters long.",[h._param("Max number of characters allowed",a)])},getAddButtonDisabledTooltip:function(a,b){return h._("You can only add up to {Max number of values allowed} {Field Name}.",[h._param("Max number of values allowed",a),h._param("Field Name",b)])},selectVideos:h._("Select Videos"),campaignTourStep1Title:h._("Upload Your Assets"),campaignTourStep1:h._("Provide your individual creative assets (like images and headlines). You should feel comfortable automatically mixing and matching all these assets together."),campaignTourStep2Title:h._("Deliver Multiple Ad Variations"),campaignTourStep2:h._("We'll generate multiple variations using your individual assets and optimize to deliver the ones that work well for your audience."),campaignTourStep3Title:h._("Learn What Works For Your Audience"),campaignTourStep3:h._("Get insights about which assets performed best in your campaign, so that you can create better ad creative over time."),adgroupTourTitle:h._("Create Ads with Dynamic Creative"),adgroupTourDesc:h._("Now you can add multiple creative assets and create your ad. Our system will automatically find the most effective combinations of creative assets for your audience."),adgroupTourButton:h._("Take the Tour"),adgroupTourStep1Title:h._("Images or Videos"),adgroupTourStep1Desc:h._("See how different images or videos perform in your ad."),adgroupTourStep2Title:h._("Text, Headlines and Other Copy"),adgroupTourStep2Desc:h._("Use the button to quickly add different versions of your copy."),adgroupTourStep3Title:h._("Calls to Action"),adgroupTourStep3Desc:h._("Select multiple calls of action to see which one your audience responds to most."),adgroupInsightsTipTitle:h._("New! Dynamic Creative Asset Breakdown"),adgroupInsightsTipDesc:h._("Now you can view results at the creative-asset level for ads that use dynamic creative."),adgroupPreviewTip:h._("You can see other variations of your ad here."),cannotUseDCOCampaignInCF:h._("To use this ad set please edit using Quick Creation. Ads with dynamic creative aren't supported with guided creation.")};e.exports=i}),null);
__d("AdsAssetDropdownPicker.react",["ix","cx","fbt","invariant","AdsCallToActionTypes","AdsDCONoticeUtils","AdsLoadState_LEGACY","AdsRichSelector.react","FDSSpinner.react","Image.react","React","ScaledImage.react","VideoCreatorProductType","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("AdsRichSelector.react").Option,l=b("AdsDCONoticeUtils").getNoAssetOption(),m=276;function n(a,c,d){return b("React").createElement("div",{className:"_4v9p"},b("React").createElement(b("ScaledImage.react"),{height:24,imageSize:{height:c,width:d},src:a,width:50}))}function o(a){a=a.video;var b=a.title,c=a.description;a=a.id;if(b!=null&&b!=="")return b;return c!=null&&c!==""?c:i._("Video ({video ID})",[i._param("video ID",a)])}function p(a,c){a=a.video.creator_product===b("VideoCreatorProductType").SLIDESHOW;return c?a?g("711703"):g("567281"):a?g("706268"):g("567280")}function q(a,c){var d,e=a.value;a=a.index;d=e.format==="video"?n((d=e.thumbnailUrl)!=null?d:e.video.preferredThumbnail.uri,e.video.height,e.video.width):n(e.url,e.height,e.width);var f=e.format==="video"?o(e):e.name;return b("React").createElement(k,{className:"_4v9q",icon:d,key:e.format+"-"+a,label:f,metaData:{format:e.format,index:a},value:c},function(a){a=a.highlighted;return b("React").createElement("span",{className:"_4va4"},b("React").createElement(b("Image.react"),{className:"_6_fk",src:e.format==="video"?p(e,a):a?g("504179"):g("557844")})," ",f)})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a,b){c.props.onSelectAssetAtIndex(a.value,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){__p&&__p();if(this.props.assets.length===0)return[b("React").createElement(k,{className:"_4v9q",key:0,label:l,value:0},l)];var a=this.props;switch(a.mode){case"text-asset":return a.assets.map(function(c,d){c=c.get(a.fieldName);typeof c==="string"||j(0,6266);c.trim().length===0&&(c=i._("-"));return b("React").createElement(k,{className:"_4v9q",key:d,label:c,value:d},b("React").createElement("span",{className:"_4va4"},c))});case"cta-asset":return a.assets.map(function(a,c){a=b("AdsCallToActionTypes").TYPES[a];a=a&&a.text;return b("React").createElement(k,{className:"_4v9q",key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))});case"video-asset":return a.assets.map(function(a,c){var d;d=n((d=a.thumbnailUrl)!=null?d:a.video.preferredThumbnail.uri,a.video.height,a.video.width);a=o(a);return b("React").createElement(k,{className:"_4v9q",icon:d,key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))});case"automatic-asset":return a.assets.map(q);default:return a.assets.map(function(a,c){var d=n(a.url,a.height,a.width);a=a.name;return b("React").createElement(k,{className:"_4v9q",icon:d,key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))})}};d.render=function(){var a=this.props;return a.mode==="video-asset"&&a.assets.some(function(a){return a.video.loadState===b("AdsLoadState_LEGACY").LOADING})?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("AdsRichSelector.react"),{className:"_4vaa",disabled:a.assets.length===0,maxwidth:m,size:"large",tooltip:a.helpText,useMenuDividers:!0,onChange:this.$1},this.$2())};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsAdgroupPreviewUpdateTimestampStore",["AdsCanvasElementSaveSuccessDataActionFlux","AdsCanvasSetTemplateVideoPreviewReadyActionFlux","AdsCanvasUnpublishedDocUpdatedDataActionFlux","AdsDataAtom","AdsMutatePostCTASuccessDataActionFlux","AdsVideoAdsVideoCaptionEditSuccessDataActionFlux","AdsVideoCaptionUpdatePreviewDataActionFlux","FluxReduceStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record({lastForceUpdateTimeStamp:0});var g=b("gkx")("779516"),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new h()};d.__getActionTypes=function(){return g?["CrStActionTypes.PAGE_EDIT_SUCCESS",b("AdsCanvasElementSaveSuccessDataActionFlux").actionType,b("AdsCanvasSetTemplateVideoPreviewReadyActionFlux").actionType,b("AdsCanvasUnpublishedDocUpdatedDataActionFlux").actionType,b("AdsMutatePostCTASuccessDataActionFlux").actionType,b("AdsVideoAdsVideoCaptionEditSuccessDataActionFlux").actionType,b("AdsVideoCaptionUpdatePreviewDataActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;var d=c.timestamp!=null?c.timestamp:Date.now();switch(c.type){case b("AdsVideoAdsVideoCaptionEditSuccessDataActionFlux").actionType:case b("AdsVideoCaptionUpdatePreviewDataActionFlux").actionType:return!b("gkx")("677856")?a:a.set("lastForceUpdateTimeStamp",d);case"CrStActionTypes.PAGE_EDIT_SUCCESS":case b("AdsCanvasUnpublishedDocUpdatedDataActionFlux").actionType:case b("AdsMutatePostCTASuccessDataActionFlux").actionType:case b("AdsCanvasElementSaveSuccessDataActionFlux").actionType:case b("AdsCanvasSetTemplateVideoPreviewReadyActionFlux").actionType:return a.set("lastForceUpdateTimeStamp",d)}return a};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("AdsDataAtom"))}),null);
__d("AdsAdgroupPreviewsLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={COMPONENT_CLAMP:"preview-component-clamp",PAGINATION:"pagination",SELECTOR:"selector"};e.exports=a}),null);
__d("AdsInsightsEmptySectionIcon",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AD_SET:null,CAUTION_TRIANGLE:null,CAUTION_TRIANGLE_OUTLINE:null,LINE_CHART:null,MAGNIFYING_GLASS:null,PLUS_CIRCLE:null,TOOLS:null,NO_DATA:null});e.exports=a}),null);
__d("AdsInsightsEmptySectionReason",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ERROR:null,INSPECT_AD_SET:null,MANAGEMENT_TABLE_ERROR:null,REPORTING_TABLE_ERROR:null,NO_ACTIVITY_HISTORY:null,NO_ADS_CREATED:null,NO_DELIVERY:null,NO_FILTER_RESULTS:null,UNDER_CONSTRUCTION:null,VIDEO_RETENTION_TOO_FEW_VIDEO_VIEW:"",VIDEO_RETENTION_CAMPAIGN_START_BEFORE_CUTOFF:"",VIDEO_RETENTION_NOT_VIDEO_ADS:""});e.exports=a}),null);
__d("AdsInsightsViewAction",["AdsInsightsSetExportDialogAction","AdsInsightsShowExportMenuAction","AdsInsightsToggleExportDialogAction","AdsInsightsToggleExportMenuAction","AdsInsightsToggleShareLinkDialogAction","AdsInsightsToggleSummaryBreakdownAction","AdsInsightsToggleTimeRangeSelectorPopoverAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={toggleTimeRangeSelectorPopover:function(a){b("AdsInsightsToggleTimeRangeSelectorPopoverAction").dispatch({shown:a},{line:"29",module:"AdsInsightsViewAction.js"})},showExportMenu:function(){b("AdsInsightsShowExportMenuAction").dispatch({},{line:"35",module:"AdsInsightsViewAction.js"})},toggleExportMenu:function(a){b("AdsInsightsToggleExportMenuAction").dispatch({shown:a},{line:"39",module:"AdsInsightsViewAction.js"})},setExportDialog:function(a,c){b("AdsInsightsSetExportDialogAction").dispatch({dialog:a,logData:{source:c}},{line:"45",module:"AdsInsightsViewAction.js"})},toggleSummaryBreakdown:function(a){b("AdsInsightsToggleSummaryBreakdownAction").dispatch({show:a},{line:"55",module:"AdsInsightsViewAction.js"})},toggleExportDialog:function(a){b("AdsInsightsToggleExportDialogAction").dispatch({shown:a},{line:"61",module:"AdsInsightsViewAction.js"})},toggleShareLinkDialog:function(a){b("AdsInsightsToggleShareLinkDialogAction").dispatch({shown:a},{line:"67",module:"AdsInsightsViewAction.js"})}};e.exports=a}),null);
__d("AdsInsightsEmptySection.react",["cx","fbt","ix","AdsInsightsEmptySectionIcon","AdsInsightsEmptySectionReason","AdsInsightsViewAction","AdsObjectTypes","AdsObjectTypeUtils","AdsObjectUtils","AdsPECreationStoreUtils","ErrorMarker.react","FDSButton.react","FDSText.react","Image.react","React","expectationViolation","nullthrows","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d,e,f,g,i;switch(this.props.reason){case b("AdsInsightsEmptySectionReason").ERROR:a=b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE_OUTLINE;c=h._("Something Went Wrong");d=h._("There was a problem loading your data. Please try again later.");break;case b("AdsInsightsEmptySectionReason").INSPECT_AD_SET:a=b("AdsInsightsEmptySectionIcon").AD_SET;c=h._("No Ad Set Selected");d=h._("Please select an ad set to inspect.");break;case b("AdsInsightsEmptySectionReason").MANAGEMENT_TABLE_ERROR:a=b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE;c=h._("We're having trouble loading the data you've requested.");d=h._("Try narrowing the time range or applying filters.");e=h._("Export");f=function(){b("AdsInsightsViewAction").setExportDialog("export","tableError")};break;case b("AdsInsightsEmptySectionReason").REPORTING_TABLE_ERROR:a=b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE;c=h._("We're having trouble loading the data you've requested.");d=h._("You can save your report for faster loading next time. If you're working with a large amount of data, you can also try removing metrics or columns, narrowing the time range or applying filters.");break;case b("AdsInsightsEmptySectionReason").NO_ACTIVITY_HISTORY:a=b("AdsInsightsEmptySectionIcon").LINE_CHART;c=h._("No Activity During Selected Date Range");d=h._("Try again with a different date range. Keep in mind that new activity can take up to 15 minutes to show in this table.");break;case b("AdsInsightsEmptySectionReason").NO_ADS_CREATED:g=b("AdsObjectTypes").ADGROUP;i=b("nullthrows")(b("AdsObjectTypeUtils").toObjectLevel(g));a=b("AdsInsightsEmptySectionIcon").PLUS_CIRCLE;c=h._("No Results Found");d=h._("You haven't created any {Object type, e.g. 'Ad Set'} yet.",[h._param("Object type, e.g. 'Ad Set'",b("AdsObjectUtils").getNameFromObjectType(g,0,b("AdsObjectUtils").LOWERCASE))]);e=h._("Create {Object type, e.g. 'Ad Set'}",[h._param("Object type, e.g. 'Ad Set'",b("AdsObjectUtils").getNameFromObjectType(g,1,b("AdsObjectUtils").CAPITALIZE))]);f=function(){return b("AdsPECreationStoreUtils").clickCreateButtonForQuickCreate(i)};break;case b("AdsInsightsEmptySectionReason").NO_FILTER_RESULTS:a=b("AdsInsightsEmptySectionIcon").MAGNIFYING_GLASS;c=this.props.objectType?h._("No {Object type, e.g. 'Ad Set'} Found",[h._param("Object type, e.g. 'Ad Set'",b("AdsObjectUtils").getNameFromObjectType(this.props.objectType,0,b("AdsObjectUtils").CAPITALIZE))]):h._("No Results Found");d=h._("Try your search again using fewer filters.");break;case b("AdsInsightsEmptySectionReason").NO_DELIVERY:a=b("AdsInsightsEmptySectionIcon").LINE_CHART;c=h._("No Activity During Selected Date Range");d=h._("Please select a different date range and try your search again.");e=h._("Change Date");f=function(){b("AdsInsightsViewAction").toggleTimeRangeSelectorPopover(!0)};break;case b("AdsInsightsEmptySectionReason").UNDER_CONSTRUCTION:a=b("AdsInsightsEmptySectionIcon").TOOLS;c=h._("Feature Currently Unavailable");d=h._("The feature is currently under construction.");break;case b("AdsInsightsEmptySectionReason").VIDEO_RETENTION_CAMPAIGN_START_BEFORE_CUTOFF:a=b("AdsInsightsEmptySectionIcon").NO_DATA;c=h._("Data Unavailable");d=h._("A graph only displays for campaigns that start on or after Oct 13, 2018.");break;case b("AdsInsightsEmptySectionReason").VIDEO_RETENTION_TOO_FEW_VIDEO_VIEW:a=b("AdsInsightsEmptySectionIcon").NO_DATA;c=h._("Data Unavailable");d=h._("A graph only displays for videos with 1000 or more plays.");break;case b("AdsInsightsEmptySectionReason").VIDEO_RETENTION_NOT_VIDEO_ADS:a=b("AdsInsightsEmptySectionIcon").NO_DATA;c=h._("Data Unavailable");d=h._("Video performance charts are only available for video ads.");break;default:b("expectationViolation")("invalid empty state reason")}d=this.props.customSubtitle!=null&&this.props.customSubtitle!==""?this.props.customSubtitle:d;c=this.props.customTitle!=null&&this.props.customTitle!==""?this.props.customTitle:c;g=e&&f&&this.props.showButton?b("React").createElement(b("FDSButton.react"),{label:e,margin:"_3-8y",onClick:f}):null;g=b("React").createElement("div",{className:"_2ql1"},b("React").createElement("div",{className:"_2ql2"},b("React").createElement(b("Image.react"),{className:"_3-96",src:this.$1(a)}),b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header3",textAlign:"center",weight:"bold"},c),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body1",textAlign:"center"},d),g));return this.props.reason===b("AdsInsightsEmptySectionReason").MANAGEMENT_TABLE_ERROR||this.props.reason===b("AdsInsightsEmptySectionReason").REPORTING_TABLE_ERROR?b("React").createElement(b("ErrorMarker.react"),null,g):g};d.$1=function(a){__p&&__p();switch(a){case b("AdsInsightsEmptySectionIcon").AD_SET:return i("639267");case b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE:return i("639268");case b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE_OUTLINE:return i("639269");case b("AdsInsightsEmptySectionIcon").LINE_CHART:return i("639270");case b("AdsInsightsEmptySectionIcon").MAGNIFYING_GLASS:return i("639271");case b("AdsInsightsEmptySectionIcon").PLUS_CIRCLE:return i("639272");case b("AdsInsightsEmptySectionIcon").TOOLS:return i("639273");case b("AdsInsightsEmptySectionIcon").NO_DATA:return i("705925");default:return i("639271")}};return c}(b("React").PureComponent);a.defaultProps={objectType:null,reason:b("AdsInsightsEmptySectionReason").ERROR,showButton:!0};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Comments.react",["ix","cx","fbt","AdsCCCategory","AdsInsightsEmptySection.react","AdsInsightsEmptySectionReason","AdsPreviewApiFormats","AdsStaticGuidanceCard.react","FDSSpinner.react","FDSText.react","Image.react","React","asset","loadObjectComponent","moment","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){return a.map(function(a){var b=l(a);a=(((a=a)!=null?(a=a.comments)!=null?a.data:a:a)||[]).map(function(a){return l(a,!0)});return[b].concat(a)}).toArray()}function k(a){return a.map(function(a){if(a.instagram_user==null)return null;var b=a.instagram_user.has_profile_picture?a.instagram_user.profile_pic:"/images/icons/instagram/instagram_default_profile_pic.jpg",c="https://instagram.com/"+a.instagram_user.username;return m(a.id,b,c,a.instagram_user.username,a.message,a.attachment,a.created_at,!1)}).toArray()}function l(a,b){b===void 0&&(b=!1);var c="https://graph.facebook.com/"+a.from.id+"/picture?type=square",d="https://facebook.com/"+a.from.id;return m(a.id,c,d,a.from.name,a.message,a.attachment,a.created_time,b)}function m(a,c,d,e,f,g,h,i){var j;g=g==null?void 0:(g=g.media)==null?void 0:g.image;g&&(j=b("React").createElement("div",{className:"_6rd5"},b("React").createElement(b("Image.react"),{height:g.height,src:g.src,width:g.width})));return b("React").createElement("div",{className:"_6o_p"+(i?" _6o_q":""),key:a},b("React").createElement(b("Image.react"),{className:"_6oy0",src:c}),b("React").createElement("div",null,b("React").createElement("a",{className:"_6rda",href:d,target:"_blank"},e)," ",f,j,b("React").createElement("div",{className:"_6oy1"},b("moment")(h).fromNow())))}var n=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return b("React").createElement("div",{className:"_6oy2"},b("React").createElement(b("Image.react"),{className:"_3-96",src:g("656971")}),b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header3",textAlign:"center",weight:"bold"},this.props.title),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body1",textAlign:"center"},this.props.subtitle))};return a}(b("React").Component),o=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return b("React").createElement(n,{subtitle:i._("There are no comments on this ad."),title:i._("No Comments Found")})};return a}(b("React").Component),p=b("loadObjectComponent")({error:function(){return b("React").createElement(b("AdsInsightsEmptySection.react"),{reason:b("AdsInsightsEmptySectionReason").ERROR})},empty:function(){return b("React").createElement(n,{subtitle:i._("Failed to load comments for this ad."),title:i._("Unexpected Error Occurred")})},loading:function(){return b("React").createElement("div",{className:"_6rdb"},b("React").createElement(b("FDSSpinner.react"),null))},loaded:function(a,c){__p&&__p();var d=[];switch(c.format){case b("AdsPreviewApiFormats").INSTAGRAM_STANDARD:d=k(a.instagram);break;case b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD:case b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD:case b("AdsPreviewApiFormats").MOBILE_FEED_BASIC:d=j(a.facebook);break;default:a=i._("Comments Not Supported");var e=i._("Comments are not supported for this placement.");return b("React").createElement(n,{subtitle:e,title:a})}if(d.length===0)return b("React").createElement(o,null);else{var f;c.format===b("AdsPreviewApiFormats").INSTAGRAM_STANDARD&&(f=b("React").createElement("div",{className:"_6rd6"},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"notice_that_instagram_comment_replies_are_not_displayed",textData:[{type:"PARAGRAPH",data:{text:i._("Replies to Instagram comments are not shown.")}}]}})));return b("React").createElement("div",null,f,d)}}});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isDraft?a=b("React").createElement(o,null):this.props.isDynamicAd?a=b("React").createElement(n,{subtitle:i._("Comment previews are not supported for dynamic ads."),title:i._("Comments Not Supported")}):a=b("React").createElement(p,{format:this.props.format,object:this.props.commentsLO});return b("React").createElement("div",{className:"_6oy3"},a)};return c}(b("React").Component);e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Selector.react",["AdsInterfacesLogEvents","AdsInterfacesLogger","ContextualLayerHideOnScroll","Image.react","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","SUIText.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=340,h=320;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=function(){var a;b("AdsInterfacesLogger").log({eventName:"preview_format_dropdown_opened",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION,data:(a={},a.event_source=d.props.entrypoint,a)})};d.$1=function(a){d.setState({selectedAdFormat:a});var b=d.props.previewPlugins.toIndexedSeq().toJS().map(function(a){a=a.apiFormat;return a}).indexOf(a);d.props.onPreviewItemSelected?d.props.onPreviewItemSelected(b):d.props.onPreviewFormatSelected&&d.props.onPreviewFormatSelected(a)};d.state={selectedAdFormat:c.defaultAdFormat||c.previewPlugins.toIndexedSeq().get(0).apiFormat};return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.defaultAdFormat!==this.state.selectedAdFormat&&this.setState({selectedAdFormat:a.defaultAdFormat})};d.render=function(){var a=[];this.props.previewPlugins.toIndexedSeq().toJS().forEach(function(c){a.push(b("React").createElement(b("SUISelectorOption.react"),{"data-testid":"preview-selector-item-"+c.apiFormat,icon:b("React").createElement(b("Image.react"),{src:c.icon}),key:c.apiFormat,theme:b("SUIBusinessTheme"),value:c.apiFormat},b("React").createElement(b("SUIText.react"),{shade:"medium",size:"meta1",weight:"bold"},c.name)))});return b("React").createElement(b("SUISelector.react"),{buttonHeight:this.props.height,contextualLayerBehaviors:{ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll")},"data-testid":"preview-selector",dropdownWidth:h,maxHeight:g,menuAlignment:this.props.menuAlignment,theme:b("SUIBusinessTheme"),value:this.state.selectedAdFormat,width:this.props.width,onChange:this.$1,onOpen:this.$2},a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Header.react",["cx","fbt","invariant","AdsAdgroupPreviewsLoggingConstants","AdsAdgroupPreviewsV2NavigationSection.react","AdsAdgroupPreviewsV2Selector.react","AdsIXIGCollectionPreviewNoticeContainer.react","AdsPreviewSelectorEntrypoints","AdsUEditorContextType","CountryNames","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FlexLayout.react","React","SUIBusinessThemeContainer.react","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={},k={width:210};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectedCountry:d.props.selectedCountry},d.$2=function(a){d.setState({selectedCountry:a}),d.props.onCountryChange(a)},d.$4=function(a){d.$5(1)},d.$3=function(a){d.$5(-1)},d.$1=function(a){d.props.onChange&&d.props.onChange(a,b("AdsAdgroupPreviewsLoggingConstants").SELECTOR)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.index,d=a.maxIndex;a=a.minIndex;d>=a||i(0,1077);var e={};Object.keys(b("CountryNames")).forEach(function(a){e[b("CountryNames")[a]]=a});var f=Object.keys(e).sort().map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a,value:e[a]},a)});return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_5q46"},b("React").createElement(b("FlexLayout.react"),null,b("gkx")("700048")&&!!this.context.adgroupEditorContext?b("React").createElement(b("AdsIXIGCollectionPreviewNoticeContainer.react"),null):null,b("React").createElement(b("AdsAdgroupPreviewsV2Selector.react"),babelHelpers["extends"]({defaultAdFormat:this.props.previewPlugins.toIndexedSeq().get(c).apiFormat,entrypoint:b("AdsPreviewSelectorEntrypoints").AD_LEVEL,previewPlugins:this.props.previewPlugins,onPreviewItemSelected:this.$1},this.props.fixedWidthSelector===!0?k:j)),this.props.customHeaderComponent,this.props.showCountryDropdown==!0&&b("React").createElement("div",{style:{margin:"0px 8px"}},b("React").createElement(b("FDSDropdownSelector.react"),{placeholder:"Select country",value:this.state.selectedCountry,onChange:this.$2},f))),b("React").createElement(b("AdsAdgroupPreviewsV2NavigationSection.react"),{className:"_5q47",handleDecrementClick:this.$3,handleIncrementClick:this.$4,index:c,maxIndex:d,minIndex:a,nextLabel:h._("Next Ad Format"),previousLabel:h._("Previous Ad Format")})))};d.$5=function(a){var c=this.props.maxIndex-this.props.minIndex+1,d=this.props.index;d=(d+a)%c;this.props.onChange&&this.props.onChange(d,b("AdsAdgroupPreviewsLoggingConstants").PAGINATION)};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;a.defaultProps={index:0};e.exports=a}),null);
__d("LatchBoundary.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.shouldRender;this.$1=this.$1||a;return this.$1?b("React").Children.only(this.props.children):null};return c}(b("React").Component);e.exports=a}),null);
__d("LoadingContext.react",["React"],(function(a,b,c,d,e,f){a=b("React").createContext({loading:!0,setLoading:function(a){}});e.exports=a}),null);
__d("AdsAdgroupPreviewsV2.react",["cx","fbt","AdsAdgroupPreviewsLoggingConstants","AdsAdgroupPreviewsV2Comments.react","AdsAdgroupPreviewsV2DCOPreviewEntry.react","AdsAdgroupPreviewsV2Header.react","AdsAdgroupPreviewsV2Section.react","AdsAdgroupSpecUtils","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCCCategory","AdsDynamicPreviewItemTypes","AdsImageLegacy","AdsLoadState_LEGACY","AdsMediaFormat","AdsObjectivesV2Utils","AdsOpenPlacementEditorAction","AdsPlacementAssetUtils","AdsPlacementEditorEvents","AdsPlacementEditorLogger","AdsPreviewApiFormats","AdsPreviewsV2Constants","AdsStaticGuidanceCard.react","AdsUEditorAdgroupAddCustomizationVideoDataAction","AdsUEditorStorifyUtil","LatchBoundary.react","LoadingContext.react","OptimisticAdPreviewUtils","React","StorifyFunnelLoggerAction","StorifyUtils","XUICarousel.react","XUICarouselItem.react","adsOptimisticPreviewQESelector","areEqual","deepCompare","emptyFunction","immutable","isAdsManagerAdsPreviewScrollFixEnabled.gkx","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsPlacementEditorEvents").PlacementEditorEntryPoints,j=0;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectedCountry:null,dynamicCustomization:babelHelpers["extends"]({},d.props.previewSpec.dynamicCustomization),loadingPreviews:b("immutable").Set()},d.$1=!1,d.$2=b("React").createRef(),d.$8=function(a,b){b===void 0&&(b=!0);return function(){var c=d.state.loadingPreviews,e=b?c.remove(a):c.add(a);d.setState(function(){return{loadingPreviews:e}});d.context.setLoading(e.has(a));d.$2.current&&d.$2.current.forceChange()}},d.$9=function(a){__p&&__p();var c,e=d.props,f=e.hostID,g=e.placementImageProps;e=e.placementVideoProps;c=(c=g)!=null?c:e;e=g!=null?b("AdsMediaFormat").IMAGE:b("AdsMediaFormat").VIDEO;var h=i.PREVIEW;a=b("AdsPlacementAssetUtils").getAssetGroupsFromFormats(b("immutable").List([a.apiFormat]));var j=a.first();if(c==null){b("recoverableViolation")("[L1_PREVIEW] Placement props should not be null when trying to open placement editor","ads_advertiser_experience");return}if(f==null){b("recoverableViolation")("[L1_PREVIEW] Host ID should not be null when trying to open placement editor","ads_advertiser_experience");return}if(j==null){b("recoverableViolation")("[L1_PREVIEW] Asset groups should not be empty when trying to open placement editor","ads_advertiser_experience");return}var k=c.adgroupIDs,l=c.assets,m=c.campaignIDs,n=c.placementsByAssetGroup,o=c.validAssetGroupsByAsset,p=!b("AdsPlacementAssetUtils").isAssetGroupCustomized(j,o),q;if(p){c=b("AdsPlacementAssetUtils").getBaseAssetLabel(c);l=l.get(c);switch(e){case b("AdsMediaFormat").IMAGE:q=new(b("AdsImageLegacy"))(babelHelpers["extends"]({},l,{crops:g!=null?g.cropsByAsset.get(c):null}));b("AdsPlacementAssetUtils").addCustomizationImage(j,q,k,m,f,n,o);break;case b("AdsMediaFormat").VIDEO:g=l.format==="video"?l.video.id:null;if(g==null){b("recoverableViolation")("[L1_PREVIEW] Base asset must be a video when trying to open placement editor for video","ads_advertiser_experience");return}if(o==null){b("recoverableViolation")("[L1_PREVIEW] Valid asset groups must be set when trying to add placement editor customizations","ads_advertiser_experience");return}l=b("AdsPlacementAssetUtils").getAssetLabelIfSingleValidAssetGroup(j,o);b("AdsUEditorAdgroupAddCustomizationVideoDataAction").dispatch({adgroupIDs:k,campaignIDs:m,existingLabel:l,hostID:f,isBaseAsset:l===c,placements:n.get(j),videoID:g},{line:"510",module:"AdsAdgroupPreviewsV2.react.js"});break}}o="video_asset";e===b("AdsMediaFormat").IMAGE&&(o=b("StorifyUtils").isStorifyBetaEligible(j)?"template_picker":"image_asset");b("AdsPlacementEditorLogger").logOpenEvent(k[0],h,e,a);b("AdsOpenPlacementEditorAction").dispatch({adgroupIDs:k,assetGroup:j,entryPoint:h,format:e===b("AdsMediaFormat").IMAGE?"image":"video",initialTool:o,isNewCustomization:p},{line:"537",module:"AdsAdgroupPreviewsV2.react.js"});e===b("AdsMediaFormat").IMAGE&&b("AdsUEditorStorifyUtil").maybeInitStorify(j,k[0],{initialAction:b("StorifyFunnelLoggerAction").CLICK_CUSTOMIZE_BUTTON_IN_PREVIEW,image:q,hostID:f},d.props.accountID,d.props.accountCapabilities)},d.$7=function(a){d.$3(a,d.props.previewSpec)},d.$4=function(a,b,c){c===void 0&&(c=!0);var e=d.props.previewSpec.previewPlugins;d.props.onAdFormatIndexChange(e.toIndexedSeq().get(a).apiFormat,a,d.props.previewSpec.adgroupIndex,c,b)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return!b("areEqual")(this.props,a)||!b("areEqual")(this.state,c)};d.componentDidMount=function(){var a=this.props.previewSpec.previewPlugins.valueSeq().toJS().map(function(a){return a.apiFormat});this.props.setPreviewFormatsForAdgroup(a,this.props.previewSpec.adgroupIndex)};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c;this.$1=!1;if(!b("areEqual")((c=this.props.previewSpec.adgroupSpec)!=null?c.creative:c,(c=a.previewSpec.adgroupSpec)!=null?c.creative:c)||!b("areEqual")((c=this.props.previewSpec.dynamicCustomization)!=null?c:{},(c=a.previewSpec.dynamicCustomization)!=null?c:{})||this.props.previewRenderType!==a.previewRenderType){this.$1=!0;j++;b("areEqual")((c=this.props.previewSpec.dynamicCustomization)!=null?c:{},(c=a.previewSpec.dynamicCustomization)!=null?c:{})||this.$3(this.state.selectedCountry,a.previewSpec)}c=this.props.previewSpec.previewPlugins;var d=a.previewSpec.previewPlugins;if(c.size===0||d.size===0)return;var e=d.size;a=a.formatIndex;var f=b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")();a==null||a>=e||a<0?(f?this.$2.current&&this.$2.current.setIndex(0):this.refs.carousel&&this.refs.carousel.setIndex(0),this.$4(0,b("AdsAdgroupPreviewsLoggingConstants").COMPONENT_CLAMP,!1)):f?this.$2.current&&this.$2.current.setIndex(a):this.refs.carousel&&this.refs.carousel.setIndex(a);e=d.valueSeq().toJS().map(function(a){return a.apiFormat});f=c.valueSeq().toJS().map(function(a){return a.apiFormat});b("deepCompare")(e,f)||this.props.setPreviewFormatsForAdgroup(e,this.props.previewSpec.adgroupIndex)};d.shouldOptimisticallyUpdate=function(a){var c=new(b("AdsAPIAdgroupRecord"))(this.props.previewSpec.adgroupSpec),d=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c);c=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,this.props.adgroupSpecPathPlugin);return b("OptimisticAdPreviewUtils").shouldUpdate(this.props.optimisticAdPreviewQEParams,a,d,c)};d.render=function(){__p&&__p();var a=this.props.previewSpec;a=a.objective;var c=this.props.hideAdgroupPreview?"none":"block";if(!b("AdsObjectivesV2Utils").isObjectiveSupported(a))return null;a=b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")();a=(a?"":"_39ui")+(a?" _7p9x":"");if(this.props.previewSpec.previewPlugins.size===0)return b("React").createElement("div",{className:a,style:{display:c}},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"error_message_that_ad_set_doesn't_have_placements_selected",textData:[{type:"PARAGRAPH",data:{text:h._("No placements have been selected for the ad set containing this ad. Please update the placement section.")}}]}}));var d=this.props.previewSpec.previewPlugins,e=this.props.formatIndex||0;(e<0||e>=d.size)&&(e=0);d=null;this.props.enableComment&&this.props.comments&&(d=b("React").createElement(b("AdsAdgroupPreviewsV2Comments.react"),{commentsLO:this.props.comments,format:this.props.format,isDraft:this.props.isDraft||!1,isDynamicAd:this.props.previewSpec.useDCOPreviewEntry||this.props.previewSpec.dynamicPreviewItemType!==b("AdsDynamicPreviewItemTypes").NONE||b("AdsAssetFeedUtils").isSpecUsingAssetFeed(this.props.previewSpec.adgroupSpec)}));return b("React").createElement("div",{className:a,"data-testid":"preview-carousel",style:{display:c}},this.$5(e),b("React").createElement(b("AdsAdgroupPreviewsV2DCOPreviewEntry.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,previewSpec:babelHelpers["extends"]({},this.props.previewSpec,{dynamicCustomization:this.state.dynamicCustomization})}),b("React").createElement("div",{className:b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")()?"":"_6ox-"},this.$6(e),d))};d.$5=function(a){var c=this.props.previewSpec.previewPlugins;return b("React").createElement(b("AdsAdgroupPreviewsV2Header.react"),{customHeaderComponent:this.props.customHeaderComponent,fixedWidthSelector:this.props.fixedWidthSelector,index:a,maxIndex:c.size-1,minIndex:0,previewPlugins:c,selectedCountry:this.state.selectedCountry,showCountryDropdown:this.props.showCountryDropdown,onChange:this.$4,onCountryChange:this.$7})};d.$6=function(a){__p&&__p();var c=this,d=this.$10(),e=this.props,f=e.previewSpec,g=e.placementImageProps;e=e.placementVideoProps;var i=this.props,k=i.customContainerHeight;i=i.width;var l=b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")(),m=((g=g)!=null?g:e)!=null;g=d&&d.loadState===b("AdsLoadState_LEGACY").ERROR;var n=k>b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT?k-b("AdsPreviewsV2Constants").HEADER_HEIGHT:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT;if(g)return b("React").createElement("div",{style:{marginBottom:"16px",marginLeft:"16px",marginRight:"16px"}},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"ad_preview_is_unavailable_because_the_page_post_cannot_be_loaded",textData:[{type:"PARAGRAPH",data:{text:h._("Sorry, we can't show a preview, because the Page post of this ad is unavailable.")}}]}}));var o=f.adgroupIndex,p=f.adgroupSpec;e=f.previewPlugins;d=e.valueSeq().toJS();var q=e.some(function(a,c){return a.apiFormat===b("AdsPreviewApiFormats").INSTAGRAM_STORY});k=d.map(function(d,e){var g=d.apiFormat,h=Math.abs(a-e)<=(c.props.renderMore?1:0),i=!c.props.hideAdgroupPreview&&a===e,k=c.shouldOptimisticallyUpdate(g),r="adgroup-"+o+"-"+g;k||(r+="-"+j);d=b("React").createElement(b("AdsAdgroupPreviewsV2Section.react"),{accountCapabilities:c.props.accountCapabilities,accountID:c.props.accountID,adgroupSpec:p,adgroupSpecPathPlugin:c.props.adgroupSpecPathPlugin,eligibilityInformation:c.props.eligibilityInformation,endDateTimeStamp:c.props.endDateTimeStamp,format:g,hasInstagramStoryFormat:q,hasOverlayedVideoRendering:c.props.hasOverlayedVideoRendering,imageURL:c.props.imageURL,isEdit:c.$1,isStorifyEnabled:c.props.isStorifyEnabled,key:r,lastForceUpdateTimeStamp:c.props.lastForceUpdateTimeStamp,optimisticAdPreviewQEParams:c.props.optimisticAdPreviewQEParams,placementAssetSelectorProps:c.props.placementImageProps,plugin:d,previewParent:c.props.previewParent,previewRenderType:c.props.previewRenderType,previewSpec:babelHelpers["extends"]({},f,{dynamicCustomization:c.state.dynamicCustomization}),processingInstagramOrganicVideo:c.props.processingInstagramOrganicVideo,sectionHeight:l?c.state.loadingPreviews.has(e)?n:void 0:n,shouldLogLoading:i,shouldOptimisticallyUpdate:k,shouldRenderIGStoryRecommendation:c.props.shouldRenderIGStoryRecommendation,shouldRenderInstreamVideoPACUpsell:c.props.shouldRenderInstreamVideoPACUpsell,shouldShowPlacementEditorEntry:m&&c.props.shouldShowPlacementEditorEntry,startDateTimeStamp:c.props.startDateTimeStamp,onFinishedLoading:l?c.$8(e):void 0,onPlacementEditorClick:c.$9,onStartedLoading:l?c.$8(e,!1):void 0});return b("React").createElement(b("XUICarouselItem.react"),{key:g,style:{width:c.props.width}},b("React").createElement(b("LatchBoundary.react"),{key:r,shouldRender:h},d))});return l?b("React").createElement(b("XUICarousel.react"),{autoViewportHeight:!0,autoViewportWidth:!0,initialAutoplay:!1,initialIndex:a,ref:this.$2,resizeViewport:"resized",wrapAround:!1},k):b("React").createElement(b("XUICarousel.react"),{initialAutoplay:!1,initialIndex:a,ref:"carousel",resizeViewport:"disabled",viewportHeight:n,viewportWidth:i,wrapAround:!1},k)};d.$10=function(){var a=this.props.previewSpec,c=a.adgroupSpec;a=a.pagePostDetails;c=b("AdsAdgroupSpecUtils").getPagePostID(c);return a&&a[c]};d.$3=function(a,b){var c=babelHelpers["extends"]({},b.dynamicCustomization);a!==null&&(c=babelHelpers["extends"]({},b.dynamicCustomization,{country:a}));this.setState({selectedCountry:a,dynamicCustomization:c})};return c}(b("React").Component);a.defaultProps={customContainerHeight:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT,isStorifyEnabled:!1,renderMore:!0,shouldShowPlacementEditorEntry:!1,width:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_WIDTH,onAdFormatIndexChange:b("emptyFunction")};a.contextType=b("LoadingContext.react");e.exports=a}),null);
__d("AdsPEAdgroupSelectionEditStatusStore",["AdsAdgroupDraftFragmentStore","AdsDataAtom","FluxReduceStore","adsCreateStoreSelector","adsMgmtAdgroupSelectedIdsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({newIDs:[],oldIDs:[]}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,b("AdsDataAtom"))||this;c.getSelectionNewCount=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(c)],function(){return c.$AdsPEAdgroupSelectionEditStatusStore5().length},e.id);c.getSelectionOldCount=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(c)],function(){return c.$AdsPEAdgroupSelectionEditStatusStore6().length},e.id);c.$AdsPEAdgroupSelectionEditStatusStore1=[].concat(b("adsMgmtAdgroupSelectedIdsSelector").getStores(),[b("AdsAdgroupDraftFragmentStore")]);c.$AdsPEAdgroupSelectionEditStatusStore2=c.$AdsPEAdgroupSelectionEditStatusStore1.map(function(a){return a.getDispatchToken()});return c}var d=c.prototype;d.getInitialState=function(){return new g({oldIDs:this.$AdsPEAdgroupSelectionEditStatusStore3(),newIDs:this.$AdsPEAdgroupSelectionEditStatusStore4()})};d.reduce=function(a){b("AdsDataAtom").waitFor(this.$AdsPEAdgroupSelectionEditStatusStore2);return!this.$AdsPEAdgroupSelectionEditStatusStore1.some(function(a){return a.hasChanged()})?a:a.set("oldIDs",this.$AdsPEAdgroupSelectionEditStatusStore3()).set("newIDs",this.$AdsPEAdgroupSelectionEditStatusStore4())};d.$AdsPEAdgroupSelectionEditStatusStore5=function(){return this.getState().newIDs};d.$AdsPEAdgroupSelectionEditStatusStore6=function(){return this.getState().oldIDs};d.$AdsPEAdgroupSelectionEditStatusStore4=function(){return b("adsMgmtAdgroupSelectedIdsSelector")().filter(function(a){return b("AdsAdgroupDraftFragmentStore").isNew(a)})};d.$AdsPEAdgroupSelectionEditStatusStore3=function(){return b("adsMgmtAdgroupSelectedIdsSelector")().filter(function(a){return!b("AdsAdgroupDraftFragmentStore").isNew(a)})};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsAssetFeedVideoAssetsUtils",["invariant","AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsLoadState_LEGACY","LoadObject","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[];a={getVideoAssetIDs:function(a){return!a?[]:a.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID)}).toArray().filter(Boolean)},getVideoThumbnailUrlMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);d!=null&&c.set(d,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL))});return c},getVideoCaptionIDsMap:function(a){__p&&__p();var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=a.get(b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);a instanceof b("immutable").List&&(a=a.map(String).toArray());Array.isArray(a)||(a=h);c.set(d,a)}});return c},getVideoAssetsSelect:function(a,c,d,e){__p&&__p();a instanceof Array||g(0,4024);if(a.length===0)return b("LoadObject").empty();if(c.some(function(a){return a&&a.loadState!==b("AdsLoadState_LEGACY").LOADED}))return b("LoadObject").loading();a=a.reduce(function(a,b){var f=c.get(b);f&&(a[b]={captionIDs:e.get(b)||[],format:"video",thumbnailUrl:d.get(b),video:f});return a},{});return b("LoadObject").withValue(b("immutable").Map(a))}};e.exports=a}),null);
__d("AdsVideoAssetSelectors",["invariant","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsMixedValue","AdsUEditorAdgroupBulkSelectors","AdsVideoStore","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);c=b("adsCreateSelector")([a],function(a){if(!a||a instanceof b("AdsMixedValue"))return null;a=b("AdsBulkValueUtils").getUniformValue(a,null);typeof a!=="string"||g(0,6123);return a},{name:e.id+".assetFeedVideoListSelector"});d=b("adsCreateSelector")([c],b("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs,{name:e.id+".videoAssetIDsSelector"});f=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("AdsVideoStore").get(a)},e.id+".videoInfoStoreSelector");f=b("adsCreateMapSelector")(d,f,e.id+".videoInfoMapSelector");var h=b("adsCreateSelector")([c],b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap,{name:e.id+".videoThumbnailUrlMapSelector"}),i=b("adsCreateSelector")([c],b("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap,{name:e.id+".videoCaptionIDsMapSelector"});h=b("adsCreateSelector")([d,f,h,i],b("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect,{name:e.id+".videoAssetsSelector"});e.exports={assetFeedBulkVideoAssetListSelector:a,assetFeedVideoListSelector:c,videoAssetsSelector:h,videoAssetIDsSelector:d,videoInfoMapSelector:f}}),null);
__d("AdsVideoPlacementAssetCustomizationSelectors",["invariant","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsBulkValueUtils","AdsDLOAdgroupFieldUtils","AdsDLOLanguageUtils","AdsLocalizedPlacementsUtils","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsVideoAssetSelectors","LoadObject","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","firstx","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACBodyAssetInfoByMediaAssetLabel;c=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACCustomizedVideoAssetLabelSelector;d=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACShouldSortAssetGroupsByPreferredOrderSelector;f=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;var h=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,i=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,j=b("AdsVideoAssetSelectors").assetFeedVideoListSelector,k=b("AdsVideoAssetSelectors").videoAssetsSelector,l=b("AdsVideoAssetSelectors").videoInfoMapSelector,m=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath());m=b("adsCreateSelector")([b("adsUEditorAccountSelector"),m,j],function(a,c,d){if(c instanceof b("AdsMixedValue")||!d)return null;a=b("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(b("AdsBulkValueUtils").getUniformValue(c,null),b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);c=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);a=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);d=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(d,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,c);var e=d.map(function(a){return b("nullthrows")(b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID))});return{labels:c,placementsByLabel:a,videoIDsByLabel:e,videoAssetsByLabel:d}},{name:e.id+".assetFeedAdgroupInfoSelector"});d=b("adsCreateSelector")([f,d],function(a,c){if(a==null)return null;a=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a.assetGroups);return c?i(a):a},{name:e.id+".assetGroupsSelector"});function n(a,c,d,e,f,g){__p&&__p();if(!c)return null;var h=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE),i=b("nullthrows")(c).placementsByLabel;a=i.filter(function(a){return a.isEmpty()});if(!a.isEmpty()&&f!=null){a=b("firstx")(a.keys());var j=b("immutable").Set(i.values()).map(function(a){return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a)}).filter(Boolean).flatten();f=b("immutable").Set(f).subtract(j).map(function(a){return b("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(a)}).filter(Boolean).flatten();i=i.set(a,b("immutable").List(f))}return c.videoIDsByLabel.map(function(a,c){a=d.get(a);if(!a)return b("immutable").List();a=e(a,i.get(c),h,g.capabilities);return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a)}).filter(function(a){return a.size!==0})}var o=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),m,l,f,d,b("adsUEditorAccountSelector")],function(a,b,c,d,e,f){return n(a,b,c,function(a,b,c,d){return b},e,f)},{name:e.id+".assetGroupsByAssetSelector"});l=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),m,l,d,b("adsUEditorAccountSelector")],function(a,c,d,e,f){return n(a,c,d,b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo,e,f)},{name:e.id+".validAssetGroupsByAssetSelector"});var p=b("adsCreateSelector")([m,f,k,l],function(a,c,d,e){if(d.isLoading())return b("LoadObject").loading();return d.isEmpty()||!a||a.labels.size===0||!c||!e?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector"}),q=b("adsCreateSelector")([k],function(a){if(a.isLoading())return b("LoadObject").loading();return a.isEmpty()?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoDLOCanRenderFromAssetFeedSelector"});a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),p,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),m,f,k,l,o,a,c,d],function(a,c,d,e,f,h,i,j,k,l,m){__p&&__p();if(h.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||h.isEmpty()||!e||e.labels.size===0||!f||!i||!j||!m)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));var n=h.getValueEnforcing();c=e.videoAssetsByLabel.map(function(a){var c=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(c!=null){c=n.get(c);c.format==="video"||g(0,13926);c=babelHelpers["extends"]({},c);a=a.get(b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL);typeof a==="string"&&(c.thumbnailUrl=a);return c}}).filter(Boolean);h=b("firstx")(d).adgroup;var o=b("AdsAssetFeedUtils").isDLOAdgroupFromRecord(h);h=(h=h.creative)==null?void 0:(h=h.asset_feed_spec)==null?void 0:h.videos;o=o&&h!=null&&h.size>1;return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:m,basePlacementGroup:null,bodyInfoByAssetLabel:k,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],customizedAssetLabels:l,assetsPlacements:e.placementsByLabel,placementsByAssetGroup:f.placementsByAssetGroup,isUsingPlatformCustomizationUI:!1,labels:e.labels,validAssetGroupsByAsset:i,assetGroupsByAsset:j,hasLanguageSpecificMedia:o})},{name:e.id+".adsUEditorAdgroupVideoPACAssetFeedSelector"});c=b("adsCreateSelector")([b("adsUEditorAccountSelector"),q,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),f,k,h],function(a,c,d,e,f,h){__p&&__p();if(f.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||f.isEmpty()||!e)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));c=f.getValueEnforcing();f=b("firstx")(d).adgroup;var i=b("getByPath")(f,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);i=i.size>1;var j=b("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(f);f=b("AdsDLOAdgroupFieldUtils").getVideoValue(f,j,!0).fieldValue.videoID;f!=null&&f!==""||g(0,762);j=b("immutable").Map([[h.basePlacementGroup,c.get(f)]]);c=b("immutable").List.of(h.basePlacementGroup);return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:j,assetGroups:e.assetGroups,assetsPlacements:b("immutable").Map(),basePlacementGroup:h.basePlacementGroup,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasLSC:i,placementsByAssetGroup:b("immutable").Map(),isUsingPlatformCustomizationUI:!0,labels:c,validAssetGroupsByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorAdgroupVideoDLOAssetFeedSelector"});d=b("adsCreateSelector")([b("adsUEditorAccountSelector"),q,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),f,k,h,j],function(a,c,d,e,f,g,h){__p&&__p();if(f.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||f.isEmpty()||!e)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));c=f.getValueEnforcing();f=h?h.map(function(a){return a.get("video_id").toString()}):b("immutable").List();return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:e.assetGroups,assetsPlacements:b("immutable").Map(),basePlacementGroup:g.basePlacementGroup,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasDCO:!0,placementsByAssetGroup:b("immutable").Map(),isUsingPlatformCustomizationUI:!0,labels:f,validAssetGroupsByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorAdgroupVideoDCOAssetFeedSelector"});e.exports={validAssetGroupsByAssetSelector:l,assetGroupsByAssetSelector:o,assetFeedAdgroupInfoSelector:m,adsUEditorAdgroupVideoPACAssetFeedSelector:a,adsUEditorAdgroupVideoDLOAssetFeedSelector:c,adsUEditorAdgroupVideoDCOAssetFeedSelector:d,adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector:p,adsUEditorAdgroupVideoDLOCanRenderFromAssetFeedSelector:q,adsUEditorAdgroupVideoDCOCanRenderFromAssetFeedSelector:q}}),null);
__d("AdsVideoPlacementAssetSelectorSelectors",["AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsCarteAssetCustomizationSpecSelectors","AdsImageIDClasses","AdsImageInfoStore","AdsLoadState_LEGACY","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsVideoStore","LoadObject","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","firstx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteHasDCAssetCustomizationAssetFeedSelector;c=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteSelectedSegmentVideoDataSelector;var g=b("AdsImageIDClasses").AdsImageID;d=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupIsUsingPlatformCustomizationUISelector;f=b("AdsPlacementAssetCustomizationSelectors").adsUEditorPACShouldSortAssetGroupsByPreferredOrderSelector;var h=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,i=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,j=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,k=b("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder,l=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID),m=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL),n=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH),o=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CAPTION_IDS),p=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path),q=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return a==null||a===""?null:b("AdsVideoStore").get(a)},e.id+".videoInfoStoreSelector");l=b("adsCreateSelector")([a,c,l,p],function(a,c,d,e){__p&&__p();if(!a&&(b("AdsBulkValueUtils").isNullValue(d)||d instanceof b("AdsMixedValue")))return null;a=a?b("AdsBulkValueUtils").getUniformValueOrDefault(c.videoID,null):b("AdsBulkValueUtils").getUniformValue(d,null);c=e.getValues().map(function(a){return a!=null&&a.instagram!=null&&a.instagram.video_id!=null?a.instagram.video_id:null}).filter(function(a,b,c){return c.indexOf(a)===b});if(c.length>1)return null;d=c.length===0?null:c[0];return{baseVideoID:a,instagramCustomizationVideoID:d}},{name:e.id+".platformVideoIDsSelector"});var r=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSizeURL(a)},e.id+".imageURLStoreSelector"),s=b("adsCreateSelector")([b("adsUEditorAccountSelector"),n],function(a,c){c=b("AdsBulkValueUtils").getUniformValue(c,null);return c!=null&&c!==""?[g.fromAcountAndHash(a.account_id,c)]:[]},{name:e.id+".imageIDsFromHashSelector"});s=b("adsCreateMapSelector")(s,r,e.id+".imageURLMapSelector");r=b("adsCreateSelector")([l],function(a){var b=[];a&&a.baseVideoID!=null&&a.baseVideoID!==""&&b.push(a.baseVideoID);a&&a.instagramCustomizationVideoID!=null&&a.instagramCustomizationVideoID!==""&&b.push(a.instagramCustomizationVideoID);return b},{name:e.id+".videoIDsSelector"});r=b("adsCreateMapSelector")(r,q,e.id+".videoInfoMapSelector");q=b("adsCreateSelector")([b("adsUEditorAccountSelector"),s,p,l,a,c,o,r,n,m,b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c,d,e,f,h,i,j,k,l,m){__p&&__p();if(e==null)return b("LoadObject").empty();var n=e.baseVideoID!=null&&e.baseVideoID!==""?j.get(e.baseVideoID):null;j=e.instagramCustomizationVideoID!=null&&e.instagramCustomizationVideoID!==""?j.get(e.instagramCustomizationVideoID):null;if(n&&n.loadState!==b("AdsLoadState_LEGACY").LOADED||j&&j.loadState!==b("AdsLoadState_LEGACY").LOADED){e=n==null?void 0:n.error;return n&&n.loadState===b("AdsLoadState_LEGACY").ERROR&&e!=null?b("LoadObject").withError(e):b("LoadObject").loading()}e=null;if(m){m=b("firstx")(m);m=m.adgroup;e=m.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_THUMBNAIL_SOURCE)}var o;if(n){m=f?b("AdsBulkValueUtils").getUniformValueOrDefault(h.imageHash,null):b("AdsBulkValueUtils").getUniformValue(k,null);k=f?b("AdsBulkValueUtils").getUniformValueOrDefault(h.imageURL,null):b("AdsBulkValueUtils").getUniformValue(l,null);if((k==null||k==="")&&m!=null&&m!==""){h=g.fromAcountAndHash(a.account_id,m);l=c.get(h);if(l.isLoading())return b("LoadObject").loading();else l.hasValue()&&(k=l.getValueEnforcing())}a=f?null:b("AdsBulkValueUtils").getUniformValue(i,null);a!=null&&a instanceof b("immutable").List&&(a=a.map(String).toArray());o={captionIDs:a||[],format:"video",thumbnailUrl:k,thumbnailSource:e,video:n}}var p;if(j){m=null;var q;c=b("AdsBulkValueUtils").getUniformValue(d,null);c!=null&&c.instagram!=null&&(m=c.instagram.image_url,q=c.instagram.caption_ids);q!=null&&q instanceof b("immutable").List&&(q=q.map(String).toArray());p={captionIDs:q||[],format:"video",thumbnailUrl:m,video:j}}return b("LoadObject").withValue({baseVideo:o,instagramCustomizationVideo:p})},{name:e.id+".videosSelector"});s=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),h,d,i,l,r,f,b("adsUEditorAccountSelector")],function(a,c,d,e,f,g,h,i){__p&&__p();if(d.isLoading())return b("LoadObject").loading();if(f==null)return b("LoadObject").empty();d=d.getValueEnforcing();var j=[];f.baseVideoID!=null&&f.baseVideoID!==""&&j.push(e.basePlacementGroup);(f.instagramCustomizationVideoID!=null&&f.instagramCustomizationVideoID!==""||d)&&e.customizationPlacementGroups.length>0&&j.push(e.customizationPlacementGroups[0]);var l,m=b("immutable").Map(),n,o;if(!d&&j.length===1&&c!=null){l=b("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(c.assetGroups);m=c.placementsByAssetGroup;var p=f.baseVideoID!=null?g.get(f.baseVideoID):null;if(p){e=l.filter(function(c){c=m.get(c);var d=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE);d=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo(p,b("nullthrows")(c),d,i.capabilities);return d.size===c.size});n=b("immutable").Map((c={},c[j[0]]=b("immutable").List(e),c));o=b("immutable").Map((g={},g[j[0]]=b("immutable").List(l),g))}}return b("LoadObject").withValue({assetGroups:h?k(l||[]):l||[],isUsingPlatformCustomizationUI:d,labels:b("immutable").List(j),placementsByAssetGroup:m,validAssetGroupsByAsset:n||b("immutable").Map(),assetGroupsByAsset:o||b("immutable").Map()})},{name:e.id+".nonAssetFeedAdgroupInfoSelector"});p=b("adsCreateSelector")([s,q],function(a,c){if(c.isLoading()||a.isLoading())return b("LoadObject").loading();if(c.isEmpty()||a.isEmpty())return b("LoadObject").withValue(!1);if(c.hasError())return b("LoadObject").withError(c.getErrorEnforcing());a=c.getValueEnforcing();c=a.baseVideo;return c==null?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector"});a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),p,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),s,i,q],function(a,c,d,e,f,g){__p&&__p();if(c.isLoading()||g.isLoading()||e.isLoading())return b("LoadObject").loading();if(g.hasError())return b("LoadObject").withError(g.getErrorEnforcing());if(!c.getValueEnforcing()||g.isEmpty()||e.isEmpty())return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from non asset feed"));c=a.account_id;a=g.getValueEnforcing();g=a.baseVideo;if(g==null)return b("LoadObject").withError(new Error("An initial video must be selected to use the placement asset selector"));var h={};g&&(h[f.basePlacementGroup]=g);a.instagramCustomizationVideo&&(h[j.INSTAGRAM]=a.instagramCustomizationVideo);return b("LoadObject").withValue(babelHelpers["extends"]({accountID:c,adgroupIDs:d.map(function(a){return a.adgroup.id}),campaignIDs:d.map(function(a){return a.campaign.id}),assets:b("immutable").Map(h)},e.getValueEnforcing(),f))},{name:e.id+".adsUEditorAdgroupVideoPACNonAssetFeedSelector"});e.exports={nonAssetFeedAdgroupInfoSelector:s,adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector:p,adsUEditorAdgroupVideoPACNonAssetFeedSelector:a}}),null);
__d("AdsUEditorAdgroupInstreamVideoPACSelectors",["AdsAccountUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsUEditorCampaignSelectors","AdsVideoPlacementAssetCustomizationSelectors","AdsVideoPlacementAssetSelectorSelectors","AdsVideoSpecsUtils","adsCreateSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups;a=b("AdsVideoPlacementAssetCustomizationSelectors").adsUEditorAdgroupVideoPACAssetFeedSelector;c=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector;d=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideoPACNonAssetFeedSelector;f=b("adsCreateSelector")([b("adsUEditorAccountSelector"),c,a,d,b("AdsUEditorCampaignSelectors").eligibilityInformation],function(a,c,d,e,f){__p&&__p();if(!b("AdsAccountUtils").hasCapabilityFromList(f.capabilities,"VERTICAL_VIDEO_PAC_INSTREAM_UPSELL"))return!1;if(c.isLoading()||!c.hasValue())return!1;a=c.getValue();if(a&&e.isLoading()||!a&&d.isLoading())return!1;c=a?e.getValue():d.getValue();a=b("AdsPlacementAssetEligibilityUtils").getVideoWithSpecificPlacement(c,g.FACEBOOK_INSTREAM);return!!a&&b("AdsVideoSpecsUtils").isInvalidFacebookInstreamVideoInPACFlow(f,a)},{name:e.id});e.exports={AdsUEditorAdgroupInstreamVideoPACUpsellSelector:f}}),null);
__d("AdsPlacementMediaRecommendationUtils",["AdsCreativeSingleImageSpecRequirement","AdsCreativeSingleVideoSpecRequirement","AdsImageValidation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getImageRecommendationSpecs:function(a,c,d){var e=b("AdsCreativeSingleImageSpecRequirement").adCreativeSingleImageSpecRequirements.find(function(b){return b.publisherPlatform===a&&b.position===c&&(d==null||b.devicePlatform===d)});return e==null?void 0:e.recommendedSpecs},getVideoRecommendationSpecs:function(a,c,d){var e=b("AdsCreativeSingleVideoSpecRequirement").adCreativeSingleVideoSpecRequirements.find(function(b){return b.publisherPlatform===a&&b.position===c&&(d==null||b.devicePlatform===d)});return e==null?void 0:e.recommendedSpecs},isRecommendedAspectRatio:function(a,c){__p&&__p();if(c==null)return!0;var d=!1;c=c.filter(Boolean).reduce(function(a,b){return[].concat(b,a)},[]).reduce(function(c,e){if(e.minAspectRatio==null&&e.maxAspectRatio==null)return c;d=!0;return c||b("AdsImageValidation").validateAspectRatio(a,e.maxAspectRatio,e.minAspectRatio,e.aspectRatioTolerance)},!1);return!d||c},isRecommendedImageAspectRatio:function(a,b,c,d){b=g.getImageRecommendationSpecs(b,c,d);c=b?b.map(function(a){return a.aspectRatios}):null;return g.isRecommendedAspectRatio(a,c)},isRecommendedVideoAspectRatio:function(a,b,c,d){b=g.getVideoRecommendationSpecs(b,c,d);c=b?b.map(function(a){return a.aspectRatios}):null;return g.isRecommendedAspectRatio(a,c)}};e.exports=g}),null);
__d("adsUEditorInstagramStoryImageCropsSelector",["AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetUtils","adsCreateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsImagePlacementAssetCustomizationSelectors").adsPlacementAssetAdgroupDataSelector;c=b("adsCreateSelector")([a],function(a){if(a==null||a.assetsPlacements==null)return null;var c=a.cropsByAsset;a=b("AdsPlacementAssetUtils").getAssetLabelForPlacement(a.assetsPlacements,b("AdsAPIPublisherPlatform").INSTAGRAM,b("AdsAPIInstagramPosition").STORY);if(a==null)return null;c=c.get(a);return c instanceof b("immutable").Map?c.toJS():c},{name:e.id+".adsUEditorInstagramStoryImageCropsSelector"});e.exports=c}),null);
__d("adsUEditorVideoPlacementAssetSelector",["AdsVideoPlacementAssetCustomizationSelectors","AdsVideoPlacementAssetSelectorSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsVideoPlacementAssetCustomizationSelectors").adsUEditorAdgroupVideoPACAssetFeedSelector;c=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideoPACNonAssetFeedSelector;d=b("adsCreateSelector")([a,c],function(a,b){a=a.hasValue()?a:b;return a.getValue()},{name:e.id+".adsUEditorVideoPlacementAssetSelector"});e.exports=d}),null);
__d("AdsUEditorIGStoryMediaRecommendationSelectors",["AdImageSpecs","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetCustomizationGroups","AdsLoadStateUtils_LEGACY","AdsPlacementAssetEligibilityUtils","AdsPlacementMediaRecommendationUtils","AdsUEditorAdgroupStorifySelector","adsCreateSelector","adsUEditorInstagramStoryImageCropsSelector","adsUEditorVideoPlacementAssetSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorAdgroupStorifySelector").adsUEditorAdgroupStorifyAssetSelector;c=b("adsCreateSelector")([a,b("adsUEditorVideoPlacementAssetSelector"),b("adsUEditorInstagramStoryImageCropsSelector")],function(a,c,d){__p&&__p();if(!b("gkx")("909475"))return!1;c=b("AdsPlacementAssetEligibilityUtils").getVideoWithSpecificPlacement(c,b("AdsAssetCustomizationGroups").INSTAGRAM_STORY);if(c!=null){if(!b("AdsLoadStateUtils_LEGACY").isLoaded(c))return!1;c=c.width/c.height;return!b("AdsPlacementMediaRecommendationUtils").isRecommendedVideoAspectRatio(c,b("AdsAPIPublisherPlatform").INSTAGRAM,b("AdsAPIInstagramPosition").STORY)}else if(a.hasValue()){if(d&&Object.prototype.hasOwnProperty.call(d,b("AdImageSpecs").INSTAGRAM_STORY_CROP.cropKey))return!1;c=a.getValueEnforcing();d=c.width/c.height;return!b("AdsPlacementMediaRecommendationUtils").isRecommendedImageAspectRatio(d,b("AdsAPIPublisherPlatform").INSTAGRAM,b("AdsAPIInstagramPosition").STORY)}return!1},{name:e.id+".shouldShowSelector"});e.exports={shouldShowSelector:c}}),null);
__d("adsAdgroupPreviewsV2FormatIndexSelector",["AdsAdgroupPreviewsV2UIDataProvider","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdgroupPreviewsV2UIDataProvider").toFluxSelector();c=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.adgroupIndex},e.id+".adgroupIndexPropSelector");d=b("adsCreateSelector")([a,c],function(a,b){return a.formatIndexMap.get(b)},{name:e.id+".adsAdgroupPreviewsV2FormatIndexSelector"});e.exports=d}),null);
__d("adsAdgroupPreviewsV2FormatSelector",["adsAdgroupPreviewsV2FormatIndexSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.previewPlugins},e.id+".AdsPreviewPluginsSelector");c=b("adsCreateSelector")([b("adsAdgroupPreviewsV2FormatIndexSelector"),a],function(a,b){b=b.keySeq();var c,d=a;a>=0&&(a>=b.size&&(d=0),c=b.get(d));return c},{name:e.id+".adsAdgroupPreviewsV2FormatSelector"});e.exports=c}),null);
__d("adsAdgroupPreviewsV2RenderTypeSelector",["AdsAdgroupPreviewsV2UIDataProvider","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdgroupPreviewsV2UIDataProvider").toFluxSelector();c=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.adgroupIndex},e.id+".adgroupIndexPropSelector");d=b("adsCreateSelector")([a,c],function(a,b){return a.previewRenderTypeMap.get(b)},{name:e.id+".adsAdgroupPreviewsV2RenderTypeSelector"});e.exports=d}),null);
__d("adsUEditorCanvasAdgroupTemplateVideoPreviewSelector",["AdsCanvasConstants","AdsCanvasDocumentStore","AdsCanvasTemplateVideoPreviewProvider","LoadObject","RichMediaElementTypeConstant","adsCreateSelector","adsUEditorCanvasIDFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX,h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a=b("adsCreateSelector")([b("adsUEditorCanvasIDFromAdgroupSelector"),b("AdsCanvasDocumentStore").getByID],function(a,c){if(a==null)return b("LoadObject").empty();var d=c(a);return d.isLoading()||d.isEmpty()?b("LoadObject").loading():c(a+g).map(function(a){a=a.elements.find(function(a){return a.elementType===h.TEMPLATE_VIDEO});return a==null?b("LoadObject").empty():b("LoadObject").withValue(a.id)})},{name:e.id+".adsUEditorTemplateVideoElementIDFromAdgroupSelector"});c=b("adsCreateSelector")([a,b("AdsCanvasTemplateVideoPreviewProvider").toFluxSelector()],function(a,c){return a.map(function(a){return c.get(a).map(function(c){return b("LoadObject").withValue({elementID:a,isPreviewReady:c})})})},{name:e.id});e.exports=c}),null);
__d("adsUEditorAdgroupLinkPostFormatSelector",["AdsAPIAdgroupRecordUtils","AdsUEditorAdgroupBulkSelectors"],(function(a,b,c,d,e,f){"use strict";a=b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(b("AdsAPIAdgroupRecordUtils").getLinkPostFormat);e.exports=a}),null);
__d("adsUEditorUseExistingPostSelector",["adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";e.exports=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return!a.some(function(a){a=a.adgroup;return!!(a==null?void 0:(a=a.creative)==null?void 0:a.object_story_spec)})},{name:e.id})}),null);
__d("adsUEditorShouldShowPlacementEditorInPreviewSelector",["AdsAssetFeedUtils","AdsBulkValueUtils","AdsImagePlacementAssetCustomizationSelectors","AdsLinkPostFormat","AdsPlacementAssetCustomizationSelectors","AdsUEditorAdgroupSelectors","adsCreateSelector","adsUEditorAdgroupLinkPostFormatSelector","adsUEditorSelectedAdgroupIDsSelector","adsUEditorUseExistingPostSelector","gkx"],(function(a,b,c,d,e,f){__p&&__p();a=b("AdsImagePlacementAssetCustomizationSelectors").adsPlacementAssetAdgroupDataSelector;c=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupIsUsingPlatformCustomizationUISelector;d=b("AdsUEditorAdgroupSelectors").adgroups.some(b("AdsAssetFeedUtils").isDLOAdgroupFromSpec);f=b("adsCreateSelector")([c,d,b("adsUEditorAdgroupLinkPostFormatSelector"),b("adsUEditorSelectedAdgroupIDsSelector"),b("adsUEditorUseExistingPostSelector"),a],function(a,c,d,e,f,g){if(e.length>1)return!1;e=g!=null;g=!e||((e=g==null?void 0:g.assetGroups.length)!=null?e:0)>1;e=g&&a.hasValue()&&a.getValue()===!1;g=b("AdsBulkValueUtils").getUniformValue(d,null);return b("gkx")("868654")&&!f&&e&&!c&&g===b("AdsLinkPostFormat").SINGLE},{name:e.id+".adsUEditorShouldShowPlacementEditorInPreviewSelector"});e.exports=f}),null);
__d("AdsAdgroupPreviewsV2Container.react",["AdsAdgroupDraftFragmentStore","AdsAdgroupPreviewsV2.react","AdsAdgroupPreviewSwitchToFormatDataAction","AdsAdgroupPreviewUpdateTimestampStore","AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignRecordUtils","AdsAudienceDirectConfig","AdsCanvasTemplateVideoPreviewUtils","AdsDefaultAdgroupSpecPathPlugin","AdsFluxContainer","AdsImageInfoStoreUtils","AdsImagePlacementAssetCustomizationSelectors","AdsInsightsAdCommentsDataProvider","AdsInstagramVideoUploaderDataProvider","AdsMediaFormat","AdsMerchantOverlaysVideoRenderingStatusProvider","AdsPEAdgroupSelectionEditStatusStore","AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction","AdsSelectorUtils","AdsSimpleTipShowTipDataAction","AdsSimpleTipTypes","AdsUEditorAdgroupInstreamVideoPACSelectors","AdsUEditorCampaignSelectors","AdsUEditorContextType","LoadObject","MouseEventAccumulator.react","React","adsAdgroupPreviewsV2FormatIndexSelector","adsAdgroupPreviewsV2FormatSelector","adsAdgroupPreviewsV2RenderTypeSelector","adsCreateAdAccountGKSelector","adsOptimisticPreviewQESelector","adsUEditorCanvasAdgroupTemplateVideoPreviewSelector","adsUEditorSelectedAdgroupsSelector","adsUEditorShouldShowPlacementEditorInPreviewSelector","AdsUEditorIGStoryMediaRecommendationSelectors","adsUEditorVideoPlacementAssetSelector","getByPath","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImagePlacementAssetCustomizationSelectors").adsPlacementAssetAdgroupDataSelector,h=b("AdsImagePlacementAssetCustomizationSelectors").adsUEditorPlacementAssetSelectorPropsSelector,i=b("AdsInstagramVideoUploaderDataProvider").toFluxStore(),j=b("AdsUEditorAdgroupInstreamVideoPACSelectors").AdsUEditorAdgroupInstreamVideoPACUpsellSelector;a=b("React").Component;var k=b("AdsMerchantOverlaysVideoRenderingStatusProvider").toFluxStore(),l=b("AdsInsightsAdCommentsDataProvider").toFluxSelector(),m=b("adsCreateAdAccountGKSelector")("storify_beta");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.state={adgroupSpecPathPlugin:b("AdsDefaultAdgroupSpecPathPlugin"),comments:b("LoadObject").loading(),eligibilityInformation:null,format:null,formatIndex:0,isDraft:!1,isStorifyEnabled:!1,optimisticAdPreviewQEParams:{isOptimisticCarouselAdPreviewEnabled:!1,isOptimisticDesktopImageAdPreviewEnabled:!1,isOptimisticEmptyImageAdPreviewEnabled:!1,isOptimisticIgAdPreviewEnabled:!1,isOptimisticImageAdPreviewEnabled:!1,isOptimisticVideoAdPreviewEnabled:!1,isOptimisticAnInterstitialEnabled:!1,isOptimisticInstantArticlesEnabled:!1},lastForceUpdateTimeStamp:0,hasOverlayedVideoRendering:!1,placementImageProps:b("LoadObject").withValue(null),placementVideoProps:null,processingInstagramOrganicVideo:!1,shouldRenderIGStoryRecommendation:!1,shouldRenderInstreamVideoPACUpsell:!1,shouldShowPlacementEditorEntry:!1,previewRenderType:null,templateVideoPreviewData:b("LoadObject").empty()};return c}var d=c.prototype;d.componentDidMount=function(){b("AdsSimpleTipShowTipDataAction").dispatch({tip:b("AdsSimpleTipTypes").DYNAMIC_ADS_UPSELL_ADGROUP_PREVIEW_V2},{line:"177",module:"AdsAdgroupPreviewsV2Container.react.js"})};d.componentWillUnmount=function(){var a=this.state.templateVideoPreviewData.getValue();a!=null&&b("AdsCanvasTemplateVideoPreviewUtils").stopPolling(a.elementID)};d.componentDidUpdate=function(a,c){__p&&__p();a=this.state.templateVideoPreviewData;if(a!==c.templateVideoPreviewData){if(a.isLoading()||a.isEmpty())return;c=a.getValueEnforcing();a=c.elementID;c=c.isPreviewReady;if(c)return;b("AdsCanvasTemplateVideoPreviewUtils").startPolling(a)}};c.getStores=function(a,c){a=c.adgroupEditorContext;c=[].concat(b("adsAdgroupPreviewsV2FormatIndexSelector").getStores(),b("adsAdgroupPreviewsV2FormatSelector").getStores(),b("adsAdgroupPreviewsV2RenderTypeSelector").getStores(),l.getStores(),b("adsOptimisticPreviewQESelector").getStores(),[b("AdsAdgroupPreviewUpdateTimestampStore"),i,k],b("AdsSelectorUtils").getStores([j,b("adsUEditorCanvasAdgroupTemplateVideoPreviewSelector"),h,b("adsUEditorShouldShowPlacementEditorInPreviewSelector"),b("AdsUEditorIGStoryMediaRecommendationSelectors").shouldShowSelector,b("AdsUEditorCampaignSelectors").eligibilityInformation,b("adsUEditorSelectedAdgroupsSelector"),b("gkx")("910654")?null:g,m].filter(Boolean),a));return c};c.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;d=j(a);var e=c.previewSpec,f=b("AdsAdgroupPreviewUpdateTimestampStore").getState().get("lastForceUpdateTimeStamp"),n=b("adsAdgroupPreviewsV2FormatIndexSelector")(c),o=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:e.objective,promotedObjectType:b("AdsAPICampaignRecordUtils").getPromotedObjectType(e.objective,e.campaign)}),p=i.getState().get("isProcessing"),q=k.getState();q=q.isRenderingVideo;var r=b("adsAdgroupPreviewsV2FormatSelector")(c),s=b("AdsAdgroupDraftFragmentStore").isNew(e.adgroupSpec.id);if(c.enableComment&&!s){var t=l().get(e.adgroupSpec.id);t=!r||t.isEmpty()?b("LoadObject").loading():t}else t=b("LoadObject").empty();var u=b("adsOptimisticPreviewQESelector")(),v=b("getByPath")(e.adgroupSpec,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.STATIC_FALLBACK_SPEC.path);v=v?b("adsAdgroupPreviewsV2RenderTypeSelector")(c):null;var w=b("adsUEditorCanvasAdgroupTemplateVideoPreviewSelector")(a),x=b("adsUEditorSelectedAdgroupsSelector")(a);x=x[e.adgroupIndex];e=x!=null?b("AdsAPIAdgroupRecordUtils").getSingleMediaType(x):null;x=b("LoadObject").withValue(null);var y=null,z=!1;if(e===b("AdsMediaFormat").IMAGE){if(b("gkx")("910654"))x=h(a);else{var A=g(a);A!=null&&(x=h(babelHelpers["extends"]({},A,a)))}z=m()}else e===b("AdsMediaFormat").VIDEO&&(y=b("adsUEditorVideoPlacementAssetSelector")(a));A=b("AdsUEditorCampaignSelectors").eligibilityInformation(a);e=c.canShowPlacementEditorEntry&&b("adsUEditorShouldShowPlacementEditorInPreviewSelector")(a);c=b("AdsUEditorIGStoryMediaRecommendationSelectors").shouldShowSelector(a);return{adgroupSpecPathPlugin:o,comments:t,eligibilityInformation:A,format:r,formatIndex:n,isDraft:s,isStorifyEnabled:z,optimisticAdPreviewQEParams:u,lastForceUpdateTimeStamp:f,hasOverlayedVideoRendering:q,placementImageProps:x,placementVideoProps:y,processingInstagramOrganicVideo:p,shouldRenderIGStoryRecommendation:c,shouldRenderInstreamVideoPACUpsell:d,shouldShowPlacementEditorEntry:e,previewRenderType:v,templateVideoPreviewData:w}};d.render=function(){var a=this,c=this.props.previewSpec;c.adgroupSpec=b("AdsImageInfoStoreUtils").generateFullSizeURLAdgroup(c.adgroupSpec);return b("React").createElement(b("MouseEventAccumulator.react"),{render:function(c){c=c.hover;return b("React").createElement(b("AdsAdgroupPreviewsV2.react"),{accountCapabilities:a.props.accountCapabilities,accountID:a.props.accountID,adgroupSpecPathPlugin:a.state.adgroupSpecPathPlugin,comments:a.state.comments,customContainerHeight:a.props.customContainerHeight,customHeaderComponent:a.props.customHeaderComponent,eligibilityInformation:a.state.eligibilityInformation,enableComment:a.props.enableComment,endDateTimeStamp:a.props.endDateTimeStamp,fixedWidthSelector:a.props.fixedWidthSelector,format:a.state.format,formatIndex:a.state.formatIndex,hasOverlayedVideoRendering:a.state.hasOverlayedVideoRendering,hideAdgroupPreview:a.props.hideAdgroupPreview,hostID:a.context.adgroupEditorContext.hostID,imageURL:a.props.imageURL,isDraft:a.state.isDraft,isStorifyEnabled:a.state.isStorifyEnabled,lastForceUpdateTimeStamp:a.state.lastForceUpdateTimeStamp,optimisticAdPreviewQEParams:a.state.optimisticAdPreviewQEParams,placementImageProps:a.state.placementImageProps.getValue(),placementVideoProps:a.state.placementVideoProps,previewParent:a.props.previewParent,previewRenderType:a.state.previewRenderType,previewSpec:a.props.previewSpec,processingInstagramOrganicVideo:a.state.processingInstagramOrganicVideo,renderMore:c,setPreviewFormatsForAdgroup:a.$1,shouldRenderIGStoryRecommendation:a.state.shouldRenderIGStoryRecommendation,shouldRenderInstreamVideoPACUpsell:a.state.shouldRenderInstreamVideoPACUpsell,shouldShowPlacementEditorEntry:a.state.shouldShowPlacementEditorEntry,showCountryDropdown:a.props.showCountryDropdown,startDateTimeStamp:a.props.startDateTimeStamp,width:a.props.width,onAdFormatIndexChange:a.$2})}})};d.$2=function(a,c,d,e,f){b("AdsAdgroupPreviewSwitchToFormatDataAction").dispatch({data:{format:a,formatIndex:c,adgroupIndex:d,shouldLog:e,loggingSource:f}},{line:"449",module:"AdsAdgroupPreviewsV2Container.react.js"})};d.$1=function(a,c){b("AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction").dispatch({data:{previewFormats:a,adgroupIndex:c}},{line:"464",module:"AdsAdgroupPreviewsV2Container.react.js"})};return c}(a);c.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(c,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("AdsDCOPreviewUtils",["invariant","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){return a&&a.filter(function(a){return a.get(b("AdsAPIAdAssetFeedBodiesFields").TEXT).trim().length>0})},i=function(a,c,d){return a.setIn(d,b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(c.getIn(d),0))},j={normalizeAdgroupForPreview:function(a){return!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a)?a:a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,h).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,h)},getDefaultSingleAssetAdgroup:function(a){var c;b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a)||g(0,3891);var d=[b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES].reduce(function(b,c){return i(b,a,c)},j.removeMediaAssetFromAdgroup(a));if(a.hasIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)&&b("AdsAssetFeedFieldUtils").getSingleValueAssetForType((c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images,0))return i(d,a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);else if(a.hasIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS))return i(d,a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);return d},removeMediaAssetFromAdgroup:function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)},updateSingleAssetAdgroupField:function(a,c,d,e){return c.setIn(e,b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),d))},updateFullCarouselAssetAdgroupField:function(a,c,d,e){__p&&__p();var f=b("AdsAssetFeedFieldUtils").getAssetsForType(a.getIn(e)),h=e.concat("0"),i=e.concat(d),j=b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),0);j instanceof b("immutable").List||j==null||g(0,3892);a=b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),d);a instanceof b("immutable").List||a==null||g(0,3893);if(j&&a){d=j.get(0);j=a.get(0);return c.setIn(e,f).setIn(i,d).setIn(h,j)}return c.setIn(e,f)},getValidAdVariationCount:function(a){a=(a=a.creative)==null?void 0:a.asset_feed_spec;if(a==null)return 0;var b=a.images&&a.images.length||0,c=a.videos&&a.videos.length||0,d=a.bodies&&a.bodies.length||1,e=a.call_to_action_types&&a.call_to_action_types.length||0,f=a.titles&&a.titles.length||1;a=a.descriptions&&a.descriptions.length||1;e=e*f*a||1;return(b+c)*e*d}};e.exports=j}),null);
__d("AdsDynamicCreativeOptimizationLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CAMPAIGN_DYNAMIC_CREATIVE_SECTION_MOUNTED:"dco_campaign_dynamic_creative_section_mounted",NOTIFICATION_DIALOG_CONFIRMED:"dco_notification_dialog_confirmed",NOTIFICATION_DIALOG_DISMISSED:"dco_notification_dialog_dismissed",NOTIFICATION_DIALOG_OPEN:"dco_notification_dialog_open",DCO_FLOW_INITIATED:"dco_flow_initiated",DCO_FLOW_BYPASS_MODAL:"dco_flow_bypass_modal",DCO_CONVERSION_WITHOUT_ADGROUP:"dco_conversion_without_adgroup",DCO_CONVERSION_REFETCH_ADGROUP:"dco_conversion_refetch_adgroup",PREVIEW_ENTRY_MOUNTED:"dco_preview_entry_mounted",CLICK_ASSET_DROPDOWNS:"dco_click_asset_dropdowns",CLICK_TO_OPEN_PREVIEW_DIALOG:"dco_click_to_open_preview_dialog",CLOSE_PREVIEW_DIALOG:"dco_close_preview_dialog",SELECT_IMAGES_DIALOG_SHOW:"dco_select_images_dialog_show",SELECT_IMAGES_DIALOG_HIDE:"dco_select_images_dialog_hide",CTA_DROPDOWN_OPENED:"cta_dropdown_opened"});e.exports=a}),null);
__d("AdsAdgroupPreviewsV2DCOPreviewEntry.react",["cx","fbt","AdsDCONoticeUtils","AdsDCOPreviewDialogContainer.react","AdsDCOPreviewUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsIntelligentBlueTip.react","AdsInterfacesLogEvents","AdsInterfacesLogger","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIButton.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="dynamic_creative_preview_entry_button",j="ax_ads_adgroup_dco_preview_entry_tip";function k(a){a.accountID;a=a.validateCondition;return b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:i,messageID:j,position:"left",validateCondition:a})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isDialogShown:!1},d.$1=function(){d.setState({isDialogShown:!1}),b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLOSE_PREVIEW_DIALOG,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},d.$2=function(){d.setState({isDialogShown:!0}),b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLICK_TO_OPEN_PREVIEW_DIALOG,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},d.$4=function(){return!d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").PREVIEW_ENTRY_MOUNTED,eventCategory:b("AdsInterfacesLogEvents").EventCategory.AD_EDIT})};d.$3=function(){var a=b("AdsDCOPreviewUtils").getValidAdVariationCount(this.props.previewSpec.adgroupSpec);return a<=1};d.render=function(){__p&&__p();var a=this.props.previewSpec,c=a.adgroupSpec;a=a.useDCOPreviewEntry;if(a!==!0)return null;a=c==null?void 0:c.id;c=this.state.isDialogShown?b("React").createElement(b("AdsDCOPreviewDialogContainer.react"),{adgroupID:a,adgroupIndex:this.props.previewSpec.adgroupIndex,onHide:this.$1}):null;a=b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIText.react"),{display:"block",shade:"medium",size:"meta1",weight:"bold"},h._("This is an example.")));var d=this.$3();d=b("React").createElement("div",null,b("React").createElement(k,{accountID:this.props.accountID,validateCondition:this.$4}),b("React").createElement(b("SUIButton.react"),{"data-testid":"preview-dco-variations-button",disabled:d,id:i,label:h._("View More Variations"),theme:b("SUIBusinessTheme"),tooltip:d?b("AdsDCONoticeUtils").getPreviewEntryDisabledTooltip():null,onClick:this.$2}));return b("React").createElement("div",{className:"_17gl"},b("React").createElement("div",{className:"_17hm"},a,d),c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=g._("The preview ad will automatically refresh when you select a new option for any asset.");b=g._("Preview Possible Ad Variations");e.exports={BODY:a,TITLE:b}}),null);
__d("AdsDCOCarouselPreviewNuxConfig",["AdsCCCategory","AdsDynamicCreativeCarouselPreviewMoreVariationsNUX","AdsRecommendationTipConfig"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,{category:b("AdsCCCategory").ACTIVE_FEEDBACK,header:b("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX").TITLE,messageID:"dco_carousel_preview_more_variations",textData:[{type:"PARAGRAPH",data:{text:b("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX").BODY}}]})||this}return c}(b("AdsRecommendationTipConfig"));e.exports={AdsDCOCarousePreviewNuxConfig:a}}),null);
__d("AdsDCOFieldsLabels",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={AUTOMATIC_FORMAT_LABEL:g._("Images, Videos and Slideshows"),AUTOMATIC_FORMAT_LABEL_SAP:g._("Images and Videos")};e.exports=a}),null);
__d("AdsLinkDescriptionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({NEWS_FEED:null,GENERAL:null});e.exports=a}),null);
__d("AdsLinkDescriptionUtils",["fbt","invariant","AdsLinkDescriptionTypes","AdsObjectStorySpecFieldLabels","ApiObjectStorySpecLinkFields"],(function(a,b,c,d,e,f,g,h){"use strict";a={getLabel:function(a){switch(a){case b("AdsLinkDescriptionTypes").NEWS_FEED:return g._("News Feed Link Description");case b("AdsLinkDescriptionTypes").GENERAL:return b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").DESCRIPTION);default:h(0,1576,a)}}};e.exports=a}),null);
__d("AdsDCOPreviewAssetSelectionPanel.react",["cx","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetDropdownPicker.react","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCreativeFieldLabels","AdsDCOCarouselPreviewNuxConfig","AdsDCOFieldsLabels","AdsIntelligentComponentsMessageGroupEnum","AdsIntelligentInlineNux.react","AdsLabeledField.react","AdsLinkDescriptionTypes","AdsLinkDescriptionUtils","AdsObjectStorySpecFieldLabels","ApiAdCreativeFields","ApiCallToActionFields","ApiObjectStorySpecLinkFields","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsDCOCarouselPreviewNuxConfig").AdsDCOCarousePreviewNuxConfig;function i(a){return a.isDisabled===!0?null:b("React").createElement(b("AdsLabeledField.react"),{className:"_3-98",label:a.label},a.children)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,a)},d.$2=function(a){d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,a),d.props.objective===b("AdsAPIObjectives").LEAD_GENERATION&&d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,a)},d.$3=function(a){d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,a)},d.$4=function(a){d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,a)},d.$5=function(a){d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,a)},d.$6=function(a){d.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,a)},d.$7=function(a,b){if(b==null)return;b.format==="video"?d.$6(b.index):b.format==="image"&&d.$4(b.index)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$8=function(a){a=this.props.fullAssetsAdgroup.getIn(a);return a?a.toArray():[]};d.$9=function(){var a=new h();a=a.getTipProps();var c=a.category,d=a.header,e=a.messageID;a=a.textData;return b("React").createElement("div",{className:"_3-98"},b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:c,header:d,textData:a},messageGroup:b("AdsIntelligentComponentsMessageGroupEnum").CREATION_AND_EDITING_L1,messageID:e}))};d.$10=function(){__p&&__p();var a=b("AdsAssetFeedUtils").hasSingleVideoFormat(this.props.fullAssetsAdgroup),c=b("AdsAssetFeedUtils").hasSingleImageFormat(this.props.fullAssetsAdgroup),d=b("AdsAssetFeedUtils").hasAutomaticFormat(this.props.fullAssetsAdgroup),e=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);if(a)return b("React").createElement(i,{label:b("AdsCreativeFieldLabels").get(b("ApiAdCreativeFields").VIDEO_ID)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.props.videoAssets,mode:"video-asset",onSelectAssetAtIndex:this.$6}));if(c||e)return b("React").createElement(i,{label:b("AdsCreativeFieldLabels").get(b("ApiAdCreativeFields").IMAGE_HASH)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.props.imageAssets,mode:"image-asset",onSelectAssetAtIndex:this.$4}));if(d){c=this.props.imageAssets.map(function(a,b){return{value:a,index:b}});e=this.props.videoAssets.map(function(a,b){return{value:a,index:b}});return b("React").createElement(i,{isDisabled:a,label:b("AdsDCOFieldsLabels").AUTOMATIC_FORMAT_LABEL},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:c.concat(e),mode:"automatic-asset",onSelectAssetAtIndex:this.$7}))}return null};d.render=function(){var a=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);a=a?this.$9():null;var c=b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(this.props.fullAssetsAdgroup);return b("React").createElement("div",null,a,b("React").createElement(i,{label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").MESSAGE)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),fieldName:b("AdsAPIAdAssetFeedBodiesFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$1})),this.$10(),b("React").createElement(i,{isDisabled:!c,label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").NAME)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),fieldName:b("AdsAPIAdAssetFeedTitlesFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$5})),b("React").createElement(i,{isDisabled:this.props.objective===b("AdsAPIObjectives").APP_INSTALLS||!c,label:b("AdsLinkDescriptionUtils").getLabel(b("AdsLinkDescriptionTypes").NEWS_FEED)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),fieldName:b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$3})),b("React").createElement(i,{isDisabled:!c,label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION).get(b("ApiCallToActionFields").TYPE)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES),mode:"cta-asset",onSelectAssetAtIndex:this.$2})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsDCOPreviewDialog.react",["cx","fbt","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDCOPreviewAssetSelectionPanel.react","AdsDCOPreviewPanelContainer.react","AdsDCOPreviewUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsModalBodyNoPadding.react","LayerFadeOnHide","React","SUIBusinessThemeContainer.react","SUIModal.react","SUIModalCloseButton.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react","areEqual"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=864;function j(a){return b("React").createElement("div",{className:"_4edn"},b("React").createElement(b("AdsDCOPreviewPanelContainer.react"),{adgroup:a.adgroup.toJS()}))}function k(a){return b("React").createElement("div",{className:"_4edo"},b("React").createElement(b("AdsDCOPreviewAssetSelectionPanel.react"),{fullAssetsAdgroup:a.fullAssetsAdgroup,imageAssets:a.imageAssets,objective:a.objective,videoAssets:a.videoAssets,onSelectAssetbyPathAtIndex:a.onSelectAssetbyPathAtIndex}))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={singleAssetAdgroup:b("AdsDCOPreviewUtils").getDefaultSingleAssetAdgroup(d.props.fullAssetsAdgroup),fullCarouselAssetAdgroup:d.props.fullAssetsAdgroup},d.$2=function(a,c){var e=b("AdsAssetFeedUtils").hasCarouselFormat(d.props.fullAssetsAdgroup);if(!e)d.setState(function(e){e=b("AdsDCOPreviewUtils").updateSingleAssetAdgroupField(d.props.fullAssetsAdgroup,d.$1(a)?b("AdsDCOPreviewUtils").removeMediaAssetFromAdgroup(e.singleAssetAdgroup):e.singleAssetAdgroup,c,a);return{singleAssetAdgroup:e}});else{e=b("AdsDCOPreviewUtils").updateFullCarouselAssetAdgroupField(d.props.fullAssetsAdgroup,d.state.fullCarouselAssetAdgroup,c,a);d.setState({fullCarouselAssetAdgroup:e})}b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLICK_ASSET_DROPDOWNS,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){return b("areEqual")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)||b("areEqual")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)};d.render=function(){var a=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalCloseButton.react"),{onClick:this.props.onHide})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Preview Ad Variations")}),isShown:!0,width:i,onHide:this.props.onHide},b("React").createElement(b("AdsModalBodyNoPadding.react"),null,b("React").createElement("div",{className:"_4edp","data-testid":"preview-dco-variations"},b("React").createElement(k,{fullAssetsAdgroup:this.props.fullAssetsAdgroup,imageAssets:this.props.imageAssets,objective:this.props.objective,videoAssets:this.props.videoAssets,onSelectAssetbyPathAtIndex:this.$2}),b("React").createElement(j,{adgroup:a?this.state.fullCarouselAssetAdgroup:this.state.singleAssetAdgroup})))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsUEditorAdgroupImageDCOAssetSelectors",["invariant","AdsAccountStore","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsImageAssetSelectors","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageAssetSelectors").imageAssetsSelector;var h=50;function i(a,c){var d=b("immutable").Map();c!=null&&(d=b("immutable").Map(c.map(function(c,d){return[""+d,b("AdsAssetSelectorsUtils").getImageID(a,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").URL))]})));return b("AdsAssetSelectorsUtils").compactMap(d)}function j(a,c){__p&&__p();if(!a||!c)return b("immutable").Map();c.size===a.size||g(0,4026);return c.map(function(c,d){c.format==="image"||g(0,4027);d=parseInt(d,10);d>=0&&d<=h||g(0,15014);a||g(0,4029);d=a.get(d);d=b("AdsAssetFeedFieldUtils").getImageAssetCrops(d);return babelHelpers["extends"]({},c,{crops:d?d.toJS():d})})}var k=b("adsCreateSelector")([a],function(a){return a.map(function(a){if(!a)return b("immutable").Map();var c={};a.forEach(function(a,b){a.format==="image"&&(c[b]=a)});return b("immutable").Map(c)})},{name:e.id+".dcoImageAssetsSelector"});c=b("adsCreateStoreSelector")([].concat(b("AdsAccountStore").getSelectedAccount_LEGACY.getStores(),k.getStores()),function(a){var c=b("AdsAccountStore").getSelectedAccount_LEGACY();c=k({assetImageIDs:i(c.account_id,a)});return c.map(function(b){return j(a,b)})},e.id+".adsUEditorAdgroupDCOImageAssetByIndexSelector");e.exports={adsUEditorAdgroupDCOImageAssetByIndexSelector:c}}),null);
__d("AdsDCOPreviewDialogContainer.react",["invariant","AdsAdgroupCombinedStore","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsDCOPreviewDialog.react","AdsFluxContainer","AdsSelectorUtils","AdsUEditorAdgroupImageDCOAssetSelectors","AdsUEditorContextType","AdsVideoStore","LoadingDialog.react","LoadObject","React","adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsUEditorAdgroupImageDCOAssetSelectors").adsUEditorAdgroupDCOImageAssetByIndexSelector,i={mode:"loading"};function j(a){return a.valueSeq().toArray()}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("AdsAdgroupCombinedStore"),b("AdsVideoStore")].concat(b("AdsSelectorUtils").getStores([h]))};c.getImageAssets=function(a){a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);a=h(a);return a.isLoading()?b("LoadObject").loading():b("LoadObject").withValue(j(a.getValueEnforcing()))};c.getVideoAssets=function(a){__p&&__p();a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);var c=b("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs(a);a=b("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect(c,b("immutable").Map(b("AdsVideoStore").getAll(c)),b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap(a),b("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap(a));if(a.isLoading())return b("LoadObject").loading();if(a.isEmpty())return b("LoadObject").withValue([]);var d=a.getValueEnforcing();a=c.reduce(function(a,b,c){a[c]=d.get(b);return a},{});c=j(b("immutable").Map(a));return b("LoadObject").withValue(c)};c.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;d=!1;var e=null,f=null,h=null,j=null;a=b("adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector")(a);if(!a.isDone())d=!0;else{a=a.getValueEnforcing();e=a[c.adgroupIndex].adgroup;f=a[c.adgroupIndex].campaignGroup;a=this.getImageAssets(e);a.isLoading()?d=!0:h=a.getValueEnforcing();c=this.getVideoAssets(e);c.isLoading()?d=!0:j=c.getValueEnforcing()}if(d)return i;else{c=(a=f)==null?void 0:a.objective;e!=null&&j!=null&&h!=null&&c!=null||g(0,4140);return{adgroup:e,imageAssets:h,mode:"shown",objective:c,videoAssets:j}}};var d=c.prototype;d.render=function(){return this.state.mode==="loading"?b("React").createElement(b("LoadingDialog.react"),null):b("React").createElement(b("AdsDCOPreviewDialog.react"),{fullAssetsAdgroup:this.state.adgroup,imageAssets:this.state.imageAssets,objective:this.state.objective,videoAssets:this.state.videoAssets,onHide:this.props.onHide})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("AdsDCOPreviewPanelContainer.react",["invariant","AdsAccountStore","AdsAdgroupPreviewsV2Container.react","AdsAssetFeedUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsDynamicPreviewItemTypes","AdsFluxContainer","AdsPreviewV2Utils","AdsUEditorContextType","FDSSpinner.react","React","adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=618,i=524,j={mode:"loading"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("AdsAccountStore"),b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore")]};c.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;c=b("AdsAccountStore").getSelectedAccount_LEGACY();d=c.capabilities;c=c.account_id;a=b("adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector")(a);if(!a.isDone())return j;a=a.getValueEnforcing();var e=a[0].campaign;a=a[0].campaignGroup;return{accountCapabilities:d,accountID:c,campaign:e,campaignGroup:a,mode:"shown",objective:a.objective}};var d=c.prototype;d.render=function(){var a=this.state;if(a.mode==="loading")return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var c=b("AdsPreviewV2Utils").getPreviewPlugins(a.accountCapabilities,a.campaign,a.campaignGroup,a.objective)||b("immutable").OrderedMap(),d=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.adgroup);c={adgroupIndex:-1,adgroupSpec:this.props.adgroup,dynamicPreviewItemType:b("AdsDynamicPreviewItemTypes").NONE,campaign:a.campaign,objective:a.objective,previewPlugins:c,shouldRenderExternalLinksSection:!1,shouldRenderPreviewByID:!1,useDCOPreviewEntry:!1,isDCOPreviewWithFixedIndex:d};return b("React").createElement(b("AdsAdgroupPreviewsV2Container.react"),{accountCapabilities:a.accountCapabilities,accountID:a.accountID,customContainerHeight:h,dynamicPreviewItemType:b("AdsDynamicPreviewItemTypes").NONE,previewSpec:c,width:i})};return c}(b("React").Component);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("AdsPreviewTypeUtils",["AdsAdgroupDerivedPaths","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsChildAttachmentsUtils","AdsEmptyValue","AdsLocalUtils","AdsPreviewTypes","AdsUniformValue","AdsWebsiteAdUtils","getBulkByPath","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={fromAdgroupSpec:function(a,c){__p&&__p();var d;c=b("AdsBulkValueUtils").cleanBulkSpec(c);var e=b("getByPath")(a,b("AdsAdgroupDerivedPaths").OBJECTIVE);if(b("AdsWebsiteAdUtils").isWebsiteObjective(e)&&g._isStaticAndDynamicCarousel(c))return b("AdsPreviewTypes").AUTO_CAROUSEL;switch(e){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return b("AdsPreviewTypes").DYNAMIC_PRODUCT;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:d=c==null?void 0:(d=c.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:d.template_data;return d?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;case b("AdsLocalUtils").isLocalObjectiveSwitch(e):d=b("getByPath")(a,b("AdsAdgroupDerivedPaths").L3_PROMOTED_PAGE_ID);if(!d)return b("AdsPreviewTypes").STANDARD;e=b("getBulkByPath")(c,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);return e&&!(e instanceof b("AdsEmptyValue"))?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;default:return b("AdsPreviewTypes").STANDARD}},_isStaticAndDynamicCarousel:function(a){a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS);return!(a instanceof b("AdsUniformValue"))?!1:b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselChildAttachments(a.getValue())}};e.exports=g}),null);
__d("AdsAdgroupSharedPreviewsV2.react",["AdsAdgroupPreviewsV2.react","AdsAPICampaignGroupPaths","AdsAPICampaignRecordUtils","AdsPreviewsV2Constants","AdsPreviewTypeUtils","AdsPreviewV2Utils","React","emptyFunction","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a,b,c,e){b!==d.state.formatIndex&&d.setState({formatIndex:b})};var e=c.pluginResolver.resolve({accountType:c.accountType,objective:c.objective,promotedObjectType:b("AdsAPICampaignRecordUtils").getPromotedObjectType(c.objective,c.campaign)}),f=b("AdsPreviewV2Utils").getPreviewPlugins(c.adAccountSpec.capabilities,c.campaign,c.campaignGroup,c.objective)||b("immutable").OrderedMap();c=d.$1(c.campaignGroup);d.state={adgroupDerivedSpec:c,adgroupSpecPathPlugin:e,formatIndex:0,previewPlugins:f};return d}var d=c.prototype;d.render=function(){var a=b("AdsPreviewTypeUtils").fromAdgroupSpec(this.state.adgroupDerivedSpec,this.props.adgroupSpec);a=b("AdsPreviewV2Utils").getDynamicPreviewItemTypeForPreviewType(a);a={adgroupIndex:0,adgroupSpec:this.props.adgroupSpec,campaign:this.props.campaign,dynamicPreviewItemType:a,isShared:!0,objective:this.props.objective,previewPlugins:this.state.previewPlugins,shouldRenderPreviewByID:!0};return b("React").createElement(b("AdsAdgroupPreviewsV2.react"),{accountCapabilities:this.props.adgroupSpec.capabilities,accountID:this.props.accountID,adgroupSpecPathPlugin:this.state.adgroupSpecPathPlugin,customContainerHeight:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT-b("AdsPreviewsV2Constants").HEADER_HEIGHT,formatIndex:this.state.formatIndex,previewParent:this.props.previewParent,previewSpec:a,renderAlternatePreview:b("emptyFunction"),setPreviewFormatsForAdgroup:b("emptyFunction"),shouldRenderDesktopExLinks:!1,shouldRenderMobileExLinks:!1,width:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_WIDTH,onAdFormatIndexChange:this.$2})};d.$1=function(a){var c=b("getByPath")(a,b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID);a=a.objective;return{l3PromotedPageID:c,objective:a}};return c}(b("React").Component);e.exports=a}),null);
__d("AdsSharedPreviewV2Bootstrapper",["AdsAdgroupSharedPreviewsV2.react","AdsAdgroupSpecPathPluginResolver","AdsAPICampaignGroupRecord","AdsAPICampaignRecord","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c){var d=new(b("AdsAPICampaignRecord"))(a.campaignSpec),e=new(b("AdsAPICampaignGroupRecord"))(a.campaignGroupSpec);d={accountID:a.accountID,accountType:a.accountType,adAccountSpec:a.adAccountSpec,adgroupSpec:a.adgroupSpec,campaign:d,campaignGroup:e,objective:a.objective,pluginResolver:b("AdsAdgroupSpecPathPluginResolver"),previewParent:"AdsSharedPreviewV2Bootstrapper"};b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("AdsAdgroupSharedPreviewsV2.react"),d,c)}};e.exports=a}),null);