if (self.CavalryLogger) { CavalryLogger.start_js(["nyarF"]); }

__d("WebFeedRequestWaterfallLogger",["csx","DOM","FBLogger","FeedRequestWaterfallTypedLoggerLite","LitestandStream"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FeedRequestWaterfallTypedLoggerLite").log;a=function(){__p&&__p();function a(a,b){b===void 0&&(b=!1),this.$1=0,this.$2="none",this.$3=a,b&&(this.$2="started")}var c=a.prototype;c.$4=function(){try{return b("DOM").scry(b("LitestandStream").getStreamRoot(),"._7cqq").length}catch(a){b("FBLogger")("web_feed_request_waterfall").mustfix("Unable to determine number of stories in DOM: %s",a.message);return 0}};c.$5=function(){return this.$4()-this.$1};c.start=function(){if(this.$2!=="none"){b("FBLogger")("feed_request_waterfall").mustfix("start() was called with an invalid state: %s",this.$2);return}this.$2="started";h({event:"client_sent_request",client_query_id:this.$3});this.$1=this.$4()};c.success=function(){if(this.$2!=="started"){b("FBLogger")("feed_request_waterfall").mustfix("success() was called with an invalid state: %s.",this.$2);return}this.$2="complete";var a=this.$5();h({event:"client_received_response",client_query_id:this.$3,number_of_stories:a});h({event:"client_rendered_success",client_query_id:this.$3,number_of_stories:a})};c.failed=function(a){if(this.$2!=="started"){b("FBLogger")("feed_request_waterfall").mustfix("failed() was called with an invalid state: %s.",this.$2);return}this.$2="complete";(a==null?void 0:a.error)===408&&h({event:"client_network_timeout",client_query_id:this.$3,number_of_stories:this.$5()})};return a}();e.exports=a}),null);