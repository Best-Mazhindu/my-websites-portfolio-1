if (self.CavalryLogger) { CavalryLogger.start_js(["+ptW2"]); }

__d("LeafletTileLayer.react",["LeafletLayer.react","React","areEqual","leaflet"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;var g=b("leaflet").TileLayer.extend({getTileUrl:function(a){return this._url.includes("{quadkey}")?b("leaflet").Util.template(this._url,b("leaflet").Util.extend({quadkey:this._getQuad(a)},this.options)):b("leaflet").TileLayer.prototype.getTileUrl.call(this,a)},_getQuad:function(a){var b=this._getZoomForUrl(),c,d,e=[];for(;b>0;b--)d=0,c=1<<b-1,(a.x&c)!==0&&(d+=1),(a.y&c)!==0&&(d+=2),e.push(d);return e.join("")}});c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("LeafletLayer.react"),babelHelpers["extends"]({},this.props,{onCreateLayer:h,onUpdateLayer:i}))};return c}(b("React").Component);c.propTypes={options:a.object,urlTemplate:a.string.isRequired,funnelLogger:a.object};function h(a){var b=new g(a.urlTemplate,a.options);a.funnelLogger!=null&&(b.on("tileload",function(){a.funnelLogger.onTileLoaded()}),b.on("load",function(){a.funnelLogger.onAllVisibleTilesLoaded()}));return b}function i(a,c,d){__p&&__p();var e=d.options||{},f=e.opacity,g=e.zIndex;e=babelHelpers.objectWithoutPropertiesLoose(e,["opacity","zIndex"]);var h=c.options||{},i=h.opacity,j=h.zIndex;h=babelHelpers.objectWithoutPropertiesLoose(h,["opacity","zIndex"]);if(!b("areEqual")(h,e))return!1;i!==f&&a.setOpacity(i);j!==g&&a.setZIndex(j);c.urlTemplate!==d.urlTemplate&&a.setUrl(c.urlTemplate);return!0}e.exports=c}),null);