if (self.CavalryLogger) { CavalryLogger.start_js(["Gz8wC"]); }

__d("AdsAPIAdAssetCallToActionFields",[],(function(a,b,c,d,e,f){e.exports={ID:"id",VALUE:"value",TYPE:"type",ADLABELS:"adlabels"}}),null);
__d("AdsAPIAdAssetVideoFields",[],(function(a,b,c,d,e,f){e.exports={ID:"id",VIDEO_ID:"video_id",CAPTION_IDS:"caption_ids",URL:"url",THUMBNAIL_URL:"thumbnail_url",THUMBNAIL_HASH:"thumbnail_hash",VIDEO_NAME:"video_name",THUMBNAIL_SOURCE:"thumbnail_source",SOURCE_IMAGE_URL:"source_image_url",PORTRAIT_CUSTOMIZATIONS:"portrait_customizations"}}),null);
__d("AdsPreviewLogger",["AdsInterfacesLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:{action_type:c.actionType,ad_preview_format:c.format,adgroup_id:c.adgroupID,error_type:c.errorType,has_object_story_spec:c.hasObjectStorySpec,is_edit:c.isEdit,link_post_format:c.linkPostFormat,loading_count:c.loadingCount,media_format:c.mediaFormat,message:c.message,meta_message:c.metaMessage,time_since_load:c.timeSinceLoad,custom_event_type:c.visibilityType,component_name:c.previewParent,new_value:c.newValue,old_value:c.oldValue}})}};e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewLoggerPlugins",["AdsPreviewLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={log:function(a){__p&&__p();for(var c=a.errors.entrySeq(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b("AdsPreviewLogger").log("optimistic_preview_error",babelHelpers["extends"]({},a.loggingData,{errorType:f[0]+":"+f[1]}))}a.errors.size>1&&b("AdsPreviewLogger").log("optimistic_preview_multiple_errors",babelHelpers["extends"]({},a.loggingData,{errorType:JSON.stringify(a.errors)}))}};c={log:function(a){b("AdsPreviewLogger").log("optimistic_preview_skipped",a.loggingData)}};d={log:function(a){b("AdsPreviewLogger").log("optimistic_preview_success",babelHelpers["extends"]({},a.loggingData,{message:a.successes.toString()}))}};e.exports=d;e.exports={AdsAdgroupOptimisticAdPreviewErrorLoggerPlugin:a,AdsAdgroupOptimisticAdPreviewSkippedLoggerPlugin:c,AdsAdgroupOptimisticAdPreviewSuccessLoggerPlugin:d}}),null);
__d("AdsAdgroupOptimisticAdPreviewErrorAction",["Laminar","AdsAdgroupOptimisticAdPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupOptimisticAdPreviewLoggerPlugins.AdsAdgroupOptimisticAdPreviewErrorLoggerPlugin",b("AdsAdgroupOptimisticAdPreviewLoggerPlugins").AdsAdgroupOptimisticAdPreviewErrorLoggerPlugin,{})]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWERRROR");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewSkippedAction",["Laminar","AdsAdgroupOptimisticAdPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupOptimisticAdPreviewLoggerPlugins.AdsAdgroupOptimisticAdPreviewSkippedLoggerPlugin",b("AdsAdgroupOptimisticAdPreviewLoggerPlugins").AdsAdgroupOptimisticAdPreviewSkippedLoggerPlugin,{})]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSKIPPED");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewSuccessAction",["Laminar","AdsAdgroupOptimisticAdPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupOptimisticAdPreviewLoggerPlugins.AdsAdgroupOptimisticAdPreviewSuccessLoggerPlugin",b("AdsAdgroupOptimisticAdPreviewLoggerPlugins").AdsAdgroupOptimisticAdPreviewSuccessLoggerPlugin,{})]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSUCCESS");e.exports=a}),null);
__d("AdsAdgroupPreviewLoggerPlugins",["AdsInterfacesLogger","AdsPreviewLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={log:function(a){b("AdsPreviewLogger").log("preview_load_error",a.loggingData)}};c={log:function(a){b("AdsPreviewLogger").log("preview_load_finished",a.loggingData)}};d={log:function(a){b("AdsPreviewLogger").log("preview_load_start",a.loggingData)}};f={log:function(a){b("AdsPreviewLogger").log("preview_load_success",a.loggingData)}};var g={log:function(a){b("AdsPreviewLogger").log("selected_preview_loaded",a.loggingData)}},h={log:function(a){a.data.shouldLog&&b("AdsInterfacesLogger").log({eventName:"select_preview_section",data:{ad_preview_format:a.data.format,event_source:a.data.loggingSource}})}};e.exports={AdsAdgroupPreviewLoadErrorDataLoggerPlugin:a,AdsAdgroupPreviewLoadFinishedDataLoggerPlugin:c,AdsAdgroupPreviewLoadStartDataLoggerPlugin:d,AdsAdgroupPreviewLoadSuccessDataLoggerPlugin:f,AdsAdgroupPreviewSelectedPreviewLoadedDataLoggerPlugin:g,AdsAdgroupPreviewSwitchToFormatDataLoggerPlugin:h}}),null);
__d("AdsAdgroupPreviewLoadErrorDataAction",["Laminar","AdsAdgroupPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupPreviewLoggerPlugins.AdsAdgroupPreviewLoadErrorDataLoggerPlugin",b("AdsAdgroupPreviewLoggerPlugins").AdsAdgroupPreviewLoadErrorDataLoggerPlugin,{})]},"AdgroupPreview.LOAD.ERROR");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadFinishedDataAction",["Laminar","AdsAdgroupPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupPreviewLoggerPlugins.AdsAdgroupPreviewLoadFinishedDataLoggerPlugin",b("AdsAdgroupPreviewLoggerPlugins").AdsAdgroupPreviewLoadFinishedDataLoggerPlugin,{})]},"AdgroupPreview.LOAD.FINISHED");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadStartDataAction",["Laminar","AdsAdgroupPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupPreviewLoggerPlugins.AdsAdgroupPreviewLoadStartDataLoggerPlugin",b("AdsAdgroupPreviewLoggerPlugins").AdsAdgroupPreviewLoadStartDataLoggerPlugin,{})]},"AdgroupPreview.LOAD.START");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadSuccessDataAction",["Laminar","AdsAdgroupPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupPreviewLoggerPlugins.AdsAdgroupPreviewLoadSuccessDataLoggerPlugin",b("AdsAdgroupPreviewLoggerPlugins").AdsAdgroupPreviewLoadSuccessDataLoggerPlugin,{})]},"AdgroupPreview.LOAD.SUCCESS");e.exports=a}),null);
__d("AdsAdgroupPreviewSelectedPreviewLoadedDataAction",["Laminar","AdsAdgroupPreviewLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsAdgroupPreviewLoggerPlugins.AdsAdgroupPreviewSelectedPreviewLoadedDataLoggerPlugin",b("AdsAdgroupPreviewLoggerPlugins").AdsAdgroupPreviewSelectedPreviewLoadedDataLoggerPlugin,{})]},"AdgroupPreview.SELECTED_PREVIEW_LOADED");e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UIRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({adgroupIndex:0,formatIndexMap:b("immutable").Map([]),dynamicItemIndexMap:b("immutable").Map([]),previewComponentDisplaySettings:b("immutable").Map([]),previewFormatMap:b("immutable").Map([]),previewRenderTypeMap:b("immutable").Map([])});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsAdgroupPreviewsV2UIDataProviderPlugin",["AdsAdgroupPreviewsV2UIRecord"],(function(a,b,c,d,e,f){"use strict";a=function(){return new(b("AdsAdgroupPreviewsV2UIRecord"))()};c={initialState:a()};e.exports=c}),null);
__d("AdsAdgroupPreviewsV2UIDataProvider",["Laminar","AdsAdgroupPreviewsV2UIDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdgroupPreviewsV2UIDataProviderPlugin"),"AdsAdgroupPreviewsV2UIDataProviderPlugin")}),null);
__d("AdsCarteAccordionDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{selectedIndex:null}};e.exports=a}),null);
__d("AdsCarteAccordionDataProvider",["Laminar","AdsCarteAccordionDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCarteAccordionDataProviderPlugin"),"AdsCarteAccordionDataProviderPlugin")}),null);
__d("AdsPlacementEditorProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{assetKey:null,assetGroup:null,format:null,initialTool:null,isNewCustomization:!1,isVisible:!1}};e.exports=a}),null);
__d("AdsPlacementEditorProvider",["Laminar","AdsPlacementEditorProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsPlacementEditorProviderPlugin"),"AdsPlacementEditorProviderPlugin")}),null);
__d("CarteSelectedDimensionsDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{selectedDimensions:b("immutable").Set()}};e.exports=a}),null);
__d("CarteSelectedDimensionsDataProvider",["Laminar","CarteSelectedDimensionsDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("CarteSelectedDimensionsDataProviderPlugin"),"CarteSelectedDimensionsDataProviderPlugin")}),null);
__d("AdsBugReportUploader.react",["cx","fbt","AdsBugReportConfig","FileInput.react","FileInputUploader","List.react","React","SUIBusinessTheme","SUIButton.react","SUICloseButton.react","SUIText.react","getOwnObjectValues","objectEntries"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("getOwnObjectValues")(b("AdsBugReportConfig").products);var i={FAILURE:"failure",REMOVED:"removed",SUCCESS:"success",UPLOADING:"progress"};function j(a){switch(a.status){case i.SUCCESS:return h._("(Upload Complete)");case i.UPLOADING:a=a.bytesLoaded/a.size*100;return h._("({percentage_uploaded}\u0025 Uploaded)",[h._param("percentage_uploaded",a.toFixed(2))]);case i.FAILURE:return h._("(Upload Failed)");default:return null}}function k(a,b,c){return function(){var d=babelHelpers["extends"]({},a);d[b].status=i.REMOVED;c(d)}}function l(a){var c=a.attachedFiles,d=a.onFileListChange;a=b("objectEntries")(c).filter(function(a){a[0];a=a[1];return a.status!==i.REMOVED}).map(function(a){var e=a[0];a=a[1];return b("React").createElement("li",{key:e},b("React").createElement(b("SUICloseButton.react"),{id:e,theme:b("SUIBusinessTheme"),onClick:k(c,e,d)}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},a.name," ",j(a)))});return a.length?b("React").createElement(b("List.react"),{border:"none",className:"_3-8x",spacing:"none"},a):null}d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a,b){__p&&__p();var c=b.upload.getFile().lastModified,e={};Object.assign(e,d.props.attachedFiles);if(e[c]&&e[c].status===i.REMOVED){b.upload.abort();return}switch(a){case i.SUCCESS:e[c].status=i.SUCCESS;e[c].handle=b.response.payload.meta;break;case i.FAILURE:e[c].status=i.FAILURE;break;case i.UPLOADING:e[c]||(e[c]={status:i.UPLOADING,name:b.upload.getFile().name,size:b.event.total});e[c].bytesLoaded=b.event.loaded;break}d.props.onFileListChange(e)},d.$3=function(a){a=a.target;a=new(b("FileInputUploader"))(a).setURI("/ajax/file_handle/upload.php");a.subscribe("success",d.$4);a.subscribe("failure",d.$4);a.subscribe("progress",d.$4);a.setUploadInParallel(!0);a.send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.props.product!==b("AdsBugReportConfig").products.ADS_CREATOR&&this.props.product!==b("AdsBugReportConfig").products.ADS_MANAGER&&this.props.product!==b("AdsBugReportConfig").products.POWER_EDITOR&&this.props.product!==b("AdsBugReportConfig").products.CAMPAIGN_MANAGER&&this.props.product!==b("AdsBugReportConfig").products.CREATIVE_STUDIO&&this.props.product!==b("AdsBugReportConfig").products.BUSINESS_SITE)return null;var a=h._("Upload"),c=this.props.showLabel?b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("SUIText.react"),{size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),weight:"bold"},this.$1())," ",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("(Optional)")),b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.$2())):null;return b("React").createElement("div",null,c,b("React").createElement(b("FileInput.react"),{multiple:!0,name:"files[]",onChange:this.$3},b("React").createElement(b("SUIButton.react"),{href:"#",label:a,theme:b("SUIBusinessTheme")})),this.props.showAttachedFilesPreviewList?b("React").createElement(l,{attachedFiles:this.props.attachedFiles,onFileListChange:this.props.onFileListChange}):null)};d.$1=function(){switch(this.props.product){case b("AdsBugReportConfig").products.ADS_CREATOR:return h._("Please add a screenshot or video");case b("AdsBugReportConfig").products.ADS_MANAGER:case b("AdsBugReportConfig").products.CAMPAIGN_MANAGER:case b("AdsBugReportConfig").products.BUSINESS_SITE:case b("AdsBugReportConfig").products.POWER_EDITOR:case b("AdsBugReportConfig").products.CREATIVE_STUDIO:return h._("Please add a screenshot, video, or file");default:return null}};d.$2=function(){switch(this.props.product){case b("AdsBugReportConfig").products.ADS_CREATOR:return h._("Attach a screenshot or video to help us understand the problem");case b("AdsBugReportConfig").products.ADS_MANAGER:case b("AdsBugReportConfig").products.BUSINESS_SITE:case b("AdsBugReportConfig").products.CAMPAIGN_MANAGER:case b("AdsBugReportConfig").products.CREATIVE_STUDIO:return h._("Attach a screenshot, video or file to help us understand the problem");case b("AdsBugReportConfig").products.POWER_EDITOR:return h._("Attach a screenshot , video, or file to help us understand the problem. If you experienced a bulk import\/upload issue, please attach the excel spreadsheet that you were using");default:return null}};return c}(b("React").PureComponent);d.FileList=l;d.propTypes={attachedFiles:a.object.isRequired,product:a.oneOf(c).isRequired,showAttachedFilesPreviewList:a.bool,showLabel:a.bool,onFileListChange:a.func.isRequired};d.defaultProps={showAttachedFilesPreviewList:!0,showLabel:!0};e.exports=d;e.exports.UPLOAD_STATUS=i}),null);
__d("BugReportUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("keyMirror")({HIDDEN:null,FORM:null,SUBMISSION:null,CONFIRMATION:null});function a(a){var b=a.body,c=a.description;a=a.header;return"\n===== "+a+" =====\n"+c+"\n"+b+"\n========"}function c(a){return a.map(g.formatSection).join("\n")}var g={BUG_REPORT_FORM_STEP:d,formatSection:a,formatSectionList:c};e.exports=g}),null);
__d("AdsFeedStoryShim.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_2iwo"},b("React").createElement("div",{className:"_2iwq"},b("React").createElement("div",{className:"_2iwr"}),b("React").createElement("div",{className:"_2iws"}),b("React").createElement("div",{className:"_2iwt"}),b("React").createElement("div",{className:"_2iwu"}),b("React").createElement("div",{className:"_2iwv"}),b("React").createElement("div",{className:"_2iww"}),b("React").createElement("div",{className:"_2iwx"}),b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdFacebookStoryAdPreviewDisclaimer.react",["fbt","AdsChildAttachmentsUtils","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsChildAttachmentsUtils").isStaticCarouselAd(c)?g._("Only the first 3 images of your carousel ad will deliver in Facebook Stories."):g._("People can open your link by tapping on it or swiping up. This interaction may vary by platform or device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsInstagramStoryAdPreviewDisclaimer.react",["fbt","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.adgroupSpec;a=a.className;var c=g._("Text appearance may vary by device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsStockImageWatermarkNotice.react",["ix","cx","fbt","Image.react","React","SUIBusinessTheme","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){a=a.className;var c=g("403742");return b("React").createElement("div",{className:a},b("React").createElement(b("Image.react"),{className:"_d6- _3-90",src:c}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},i._("Watermark won't appear in the final ad image.")))}e.exports=a}),null);
__d("AdsMediaFormats$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={IMAGE:"image",VIDEO:"video"};e.exports=a}),null);
__d("AdsAdgroupIGStoryVerticalMediaRecommendation.react",["fbt","AdsCCCategory","AdsIntelligentComponentsMessageGroupEnum","AdsIntelligentInlineNux.react","AdsMediaFormats$FbtEnum","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.isStorifyEnabled;a=a.mediaFormat;c=c?g._({"IMAGE":"Your Instagram Stories ad may perform better with a fullscreen image. Select {=Customize Ad} to change your image or apply a template.","VIDEO":"Your Instagram Stories ad may perform better with a fullscreen video. Select {=Customize Ad} to change your video or apply a template."},[g._enum(a,b("AdsMediaFormats$FbtEnum")),g._param("=Customize Ad",b("React").createElement("strong",null,g._("Customize Ad")))]):g._({"IMAGE":"Your Instagram Stories ad may perform better with a fullscreen image. Select {=Customize Ad} to change or crop your image.","VIDEO":"Your Instagram Stories ad may perform better with a fullscreen video. Select {=Customize Ad} to change or crop your video."},[g._enum(a,b("AdsMediaFormats$FbtEnum")),g._param("=Customize Ad",b("React").createElement("strong",null,g._("Customize Ad")))]);return b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").RECOMMENDATION_BEST_PRACTICE,margin:"_3-8x _3-8s",textData:[{type:"PARAGRAPH",data:{text:c}}]},messageGroup:b("AdsIntelligentComponentsMessageGroupEnum").CREATION_AND_EDITING_L1,messageID:"ig_story_vertical_media_recommendation"})}e.exports=a}),null);
__d("AdsAdgroupPlacementEditorWrapper.react",["ix","cx","fbt","AdsAdgroupIGStoryVerticalMediaRecommendation.react","AdsPreviewApiFormats","FDSButton.react","FDSButtonGroup.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onCustomizeClick=function(){c.props.onCustomizeClick!=null&&c.props.previewPlugin!=null&&c.props.onCustomizeClick(c.props.previewPlugin)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderCustomizeButton=function(){var a;return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490351")}),label:i._("Customize Ad"),onClick:(a=this.onCustomizeClick)!=null?a:b("emptyFunction")})};d.render=function(){var a=this.props.shouldShowPlacementEditorEntry&&this.props.previewPlugin!=null,c=this.props.shouldRenderIGStoryRecommendation&&this.props.format===b("AdsPreviewApiFormats").INSTAGRAM_STORY;c=c?b("React").createElement(b("AdsAdgroupIGStoryVerticalMediaRecommendation.react"),{isStorifyEnabled:!!this.props.isStorifyEnabled,mediaFormat:this.props.mediaFormat}):null;return b("React").createElement(b("React").Fragment,null,c,b("React").createElement("div",{className:"_7vpk"},b("React").createElement("div",{className:a?"_7wp8":""},a?b("React").createElement("div",{className:"_7vpl"},this.renderCustomizeButton()):null,this.props.showRefreshAndReportButtons?b("React").createElement(j,null):null),b("React").createElement("div",{className:"_7vpm"},this.props.children)))};return c}(b("React").Component);function j(){return b("React").createElement("div",{className:"_7wp9"},b("React").createElement(b("FDSButtonGroup.react"),null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("580899")}),key:"Refresh preview",label:"Refresh preview",labelIsHidden:!0,size:"medium",tooltip:"Refresh preview"}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("530511")}),key:"Report problem",label:"Report problem",labelIsHidden:!0,size:"medium",tooltip:"Report problem"})))}e.exports=a}),null);
__d("AdsAdgroupPreviewDisclaimer.react",["cx","AdFacebookStoryAdPreviewDisclaimer.react","AdsInstagramStoryAdPreviewDisclaimer.react","AdsPreviewApiFormats","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Map((c={},c[b("AdsPreviewApiFormats").INSTAGRAM_STORY]=b("AdsInstagramStoryAdPreviewDisclaimer.react"),c[b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE]=b("AdFacebookStoryAdPreviewDisclaimer.react"),c));function a(a){if(!h.has(a.format))return null;var c=h.get(a.format);return b("React").createElement(c,{adgroupSpec:a.adgroupSpec,className:"_3-94 _2pic"})}e.exports=a}),null);
__d("AdsAdgroupPreviewError.react",["cx","AdsCCCategory","AdsStaticGuidanceCard.react","CenteredContainer.react","ErrorMarker.react","React"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return{category:b("AdsCCCategory").ERROR,messageID:"adgroup_preview_loading_error",textData:[{type:"PARAGRAPH",data:{text:a}}]}}function a(a){var c=a.loading;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["loading"]);return a.error==null?null:b("React").createElement(b("CenteredContainer.react"),{className:c?"_5zm":"",vertical:!0},b("React").createElement(b("ErrorMarker.react"),{name:"AdsAdgroupPreview"},b("React").createElement("div",{className:"_14-t"},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:h(a.error)}))))}e.exports=a}),null);
__d("AdsAdgroupPreviewLoader.react",["cssVar","cx","AdsPreviewApiFormats","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=(a={},a[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD]={x:320,y:387},a[b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD]={x:320,y:385},a[b("AdsPreviewApiFormats").MARKETPLACE_MOBILE]={x:378,y:407},a[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD]={x:320,y:528},a[b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_CONTEXTUAL]={x:320,y:528},a[b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_IMMERSIVE]={x:320,y:528},a[b("AdsPreviewApiFormats").INSTAGRAM_STORY]={x:320,y:567},a[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL]={x:285,y:568},a[b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE]={x:255,y:511},a[b("AdsPreviewApiFormats").MOBILE_NATIVE]={x:255,y:511},a[b("AdsPreviewApiFormats").MOBILE_BANNER]={x:324,y:148},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO]={x:320,y:387},a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA]={x:360,y:321},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_TV]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_BANNER]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INTERSTITIAL_DESKTOP]={x:285,y:568},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_OUTSTREAM_VIDEO]={x:320,y:387},a[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD]={x:320,y:387},a[b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").GROUPS_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").GROUPS_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").INSTAGRAM_IGTV]={x:320,y:387},a[b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").MARKETPLACE_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").MESSENGER_DESKTOP_THREAD_MEDIA]={x:320,y:387},a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_STORY_MEDIA]={x:320,y:387},a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_THREAD_MEDIA]={x:320,y:387},a[b("AdsPreviewApiFormats").MOBILE_FEED_BASIC]={x:320,y:387},a[b("AdsPreviewApiFormats").MOBILE_FULLWIDTH]={x:320,y:387},a[b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD]={x:320,y:387},a[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP]={x:320,y:387},a[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").WHATSAPP_STATUS_MEDIA]={x:320,y:387},a[b("AdsPreviewApiFormats").WATCH_FEED_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").MARKETPLACE_SEARCH_ADS_MOBILE]={x:320,y:387},a[b("AdsPreviewApiFormats").SEARCH_SERP_ADS_MOBILE]={x:320,y:387},a);c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_7tgm",style:{backgroundColor:"#FFFFFF",border:"1px solid #DADDE1",height:i[this.props.format].y,width:i[this.props.format].x,marginBottom:12,marginLeft:"auto",marginRight:"auto"}},b("React").createElement(b("FDSSpinner.react"),{center:!0}))};return c}(b("React").Component);e.exports=c}),null);
__d("AdsAdgroupPreviewRefreshButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isDisabled;a=a.onRefreshClick;return b("React").createElement(b("FDSButton.react"),{icon:c?b("React").createElement(b("Image.react"),{src:g("669095")}):b("React").createElement(b("Image.react"),{src:g("580899")}),isDisabled:c,label:h._("Refresh Preview"),size:"medium",onClick:a})};return c}(b("React").PureComponent);a.defaultProps={onRefreshClick:b("emptyFunction"),isDisabled:!1};e.exports=a}),null);
__d("AdsAdgroupPreviewRefreshLink.react",["cx","fbt","FDSLink.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSLink.react"),{onClick:this.props.onRefreshClick},h._("Refresh preview")),b("React").createElement("div",{className:"_1k43"},String.fromCodePoint(8226)))};return c}(b("React").PureComponent);a.defaultProps={onRefreshClick:b("emptyFunction")};e.exports=a}),null);
__d("AdsAdgroupPreviewBugReportButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isDisabled;a=a.onClick;return b("React").createElement(b("FDSButton.react"),{icon:c?b("React").createElement(b("Image.react"),{src:g("579927")}):b("React").createElement(b("Image.react"),{src:g("530511")}),isDisabled:c,label:h._("Report Problem"),size:"medium",onClick:a})};return c}(b("React").PureComponent);a.defaultProps={onClick:b("emptyFunction"),isDisabled:!1};e.exports=a}),null);
__d("AdsAdgroupPreviewBugReportLink.react",["fbt","FDSLink.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("FDSLink.react"),{onClick:this.props.onClick},g._("Report a problem with this preview"))};return c}(b("React").PureComponent);a.defaultProps={onClick:b("emptyFunction")};e.exports=a}),null);
__d("AdsBugReportCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATING_OR_USING_CONVERSION_PIXEL:"creating_or_using_conversion_pixel",MANAGING_AUDIENCES:"managing_audiences",ACCOUNT_SETTINGS:"account_settings",BILLING:"billing",OTHER:"other",AD_DELIVERY:"ad_delivery",AD_POLICY_FRAUD:"ad_policy_fraud",ADS_REPORTING:"ads_reporting",CREATING_AN_AD:"creating_an_ad",EDITING_AN_AD:"editing_an_ad",PUBLISHING_CHANGES:"publishing_changes",CANVAS_ADS:"canvas_ads",CAROUSEL_ADS:"carousel_ads",EDITING_TEXT_AND_LINKS:"editing_text_and_links",LOADING_MOCKUPS:"loading_mockups",MOBILE_PREVIEW:"mobile_preview",SAVING_MOCKUPS:"saving_mockups",SELECTING_IMAGES:"selecting_images",SELECTING_VIDEOS:"selecting_videos",SHARING_MOCKUPS:"sharing_mockups",BUYING_PLAN:"buying_plan",CREATING_PLAN:"creating_plan",PLANNER_ACCESS:"planner_access",PLANNER_OTHER:"planner_other",PREDICTION:"prediction",SHARING_PLAN:"sharing_plan",CREATING_AUDIENCE:"creating_audience",COMPARING_AUDIENCE:"comparing_audience",VIEWING_INSIGHTS:"viewing_insights",SAVED_AUDIENCE:"saved_audience",CREATING_AD:"creating_ad",BUSINESS_AD_ACCOUNTS:"business_ad_accounts",BUSINESS_NAVIGATION:"business_navigation",BUSINESS_NOTIFICATIONS:"business_notifications",BUSINESS_PERMISSIONS:"business_permissions",BUSINESS_PROJECTS:"business_projects",BUSINESS_PAGES:"business_pages",PAGES_ERROR_MESSAGE:"pages_error_message",PAGES_IMAGE:"pages_image",PAGES_INCORRECT_LIKE_ESTIMATE:"pages_incorrect_like_estimate",PAGES_INCORRECT_CLICK_ESTIMATE:"pages_incorrect_click_estimate",PAGES_TARGETING:"pages_targeting",PAGES_BUDGET:"pages_budget",PAGES_AD_SCHEDULE:"pages_ad_schedule",PAGES_ACCOUNT_ISSUE:"pages_account_issue",PAGES_AD_REVIEW_DISAPPROVAL:"pages_ad_review_disapproval",PAGES_OTHER:"pages_other",BP_POST_ISSUE:"bp_post_issue",BP_POST_IS_NOT_DELIVERY:"bp_post_not_delivery",BP_WRONG_REACH_ESTIMATE:"bp_wrong_reach_estimate",BP_DURATION_OF_AD:"bp_duration_of_ad",PP_CANNOT_PROMOTE_PAGE:"pp_cannot_promote_page",PW_CANNOT_PROMOTE_WEBSITE:"pw_cannot_promote_website",BP_APP_INSTALL_CANNOT_PROMOTE_APP:"bp_cannot_promote_app",LA_CANNOT_PROMOTE_LOCAL_AWARENESS:"la_cannot_promote_local_awareness",CCTA_CANNOT_PROMOTE_CCTA:"ccta_cannot_promote_ccta",COUPON_CANNOT_CREATE:"coupon_cannot_create",LWI_IMAGE_AND_TEXT:"image_and_text",LWI_PERFORMANCE:"performance",LWI_AUDIENCE:"audience",LWI_SETTING_A_BUDGET:"setting_a_budget",LWI_SCHEDULE_OF_MY_AD:"schedule_of_my_ad",LWI_AD_REVIEW_AND_DISAPPROVAL:"ad_review_and_disapproval",LWI_ACCOUNT_ISSUES:"account_issues",LWI_OTHER_ISSUES:"other_issues",ANALYTICS:"analytics"})}),null);
__d("AdsBugReportSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",HELP_TRAY:"help_tray",IN_PRODUCT:"in_product"})}),null);
__d("AdsBugReportSubCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OTHER:"other",BI_DISAPPROVALS:"bi_disapprovals",RISK_FRAUD:"risk_fraud",AD_SCHEDULE:"ad_schedule",SAVING_CHANGES:"saving_changes",OBJECTIVES:"objectives",ASSETS:"assets",PLACEMENTS:"placements",AUDIENCE:"audience",BUDGET:"budget",CREATIVE:"creative",AD_PREVIEW:"ad_preview",BULK_IMPORT:"bulk_import",SPLIT_TESTING:"split_testing",PLACING_ORDER:"placing_order",CREATION_DUP_EXISTING:"creation_dup_existing",DELIVERY_FLUCTUATIONS:"delivery_fluctuations",NO_DELIVERY:"no_delivery",OVER_SPEND:"over_spend",UNDER_DELIVERY:"under_delivery",ACCOUNT_PERMISSIONS:"account_permissions",ACCOUNT_CREATION_DELETION:"account_creation_deletion",ACCOUNT_INFORMATION:"account_information",AD_METRICS:"ad_metrics",BREAKDOWN:"breakdown",COLUMN_SELECTOR:"column_selector",EXPORTING:"exporting",FILTERS_DATES:"filters_dates",LOADING_ISSUE:"loading_issue",REPORTING_GRAPHS:"reporting_graphs",SCHEDULED_REPORTING:"scheduled_reporting",CHARGES_INVOICING_BALANCE:"charges_invoicing_balance",PAYMENT_METHODS:"payment_methods",SPEND_LIMITS:"spend_limits",BROWSING_LIBRARY:"browsing_library",CHOOSING_PLACEMENT:"choosing_placement",EDITING_HEADLINE:"editing_headline",EDITING_TEXT:"editing_text",UPLOADING_IMAGE:"uploading_image",PAGES_TARGETING_CANNOT_CHOOSE_AUDIENCE:"pages_targeting_cannot_choose_audience",PAGES_TARGETING_NOT_APPLIED:"pages_targeting_not_applied",PAGES_TARGETING_CANNOT_EDIT:"pages_targeting_cannot_edit",PAGES_TARGETING_WRONG_AUDIENCE:"pages_targeting_wrong_audience",PAGES_TARGETING_OTHER_ISSUE:"pages_targeting_other_issue",PAGES_BUDGET_CANNOT_SET_BUDGET:"pages_budget_cannot_set_budget",PAGES_BUDGET_OPTIONS_INCORRECT:"PAGES_BUDGET_OPTIONS_INCORRECT",PAGES_BUDGET_NOT_APPLIED:"pages_budget_not_applied",PAGES_BUDGET_CURRENCY_INCORRECT:"pages_budget_currency_incorrect",PAGES_BUDGET_OTHER_ISSUE:"pages_budget_other_issue",PAGES_SCHEDULE_CANNOT_SET:"pages_schedule_cannot_set",PAGES_SCHEDULE_OPTIONS_INCORRECT:"pages_schedule_options_incorrect",PAGES_SCHEDULE_CANNOT_PAUSESTOP_AD:"pages_schedule_cannot_pausestop_ad",PAGES_SCHEDULE_OTHER_ISSUE:"pages_schedule_other_issue",PAGES_REVIEW_INCORRECTLY_DISAPPROVED:"pages_review_incorrectly_disapproved",PAGES_REVIEW_BUDGET_WAS_SPENT_EVEN_AD_DISAPPROVED:"pages_review_budget_was_spent_even_ad_disapproved",PAGES_REVIEW_TAKING_TOO_LONG_TO_GET_REVIEWED:"pages_review_taking_too_long_to_get_reviewed",PAGES_REVIEW_OTHER_ISSUE:"pages_review_other_issue",BP_CANNOT_BOOST_MY_POST:"bp_cannnot_boost_my_post",BP_WRONG_POST_WAS_BOOSTED:"bp_wrong_post_was_boosted",BP_AD_IMAGE_IS_NOT_CORRECT:"bp_ad_image_is_not_correct",BP_DURATION_CANNOT_SET_DURATION:"bp_duration_cannot_set_duration",BP_DURATION_OPTIONS_INCORRECT:"bp_duration_options_incorrect",BP_DURATION_CANNOT_PAUSESTOP_AD:"bp_duration_cannot_pausestop_ad",BP_DURATION_OTHER_ISSUE:"bp_duration_other_issue",PAGES_ACCOUNT_AD_ACCOUNT:"pages_account_ad_account",PAGES_ACCOUNT_PAYMENT:"pages_account_payment",PAGES_ACCOUNT_TIMEZONE:"pages_account_timezone",PAGES_ACCOUNT_OTHER:"pages_account_other",LWI_CANT_EDIT_TEXT_OR_IMAGE:"pages_can_edit_text_or_image",LWI_PROMOTION_NOT_REACHING_PEOPLE:"pages_promotion_not_reacing_people",LWI_PROMOTION_REACHED_FEWER_THAN_EXPECTED:"pages_promotion_reached_fewer_than_expected",LWI_AUDIENCE_CANT_SELECT_AUDIENCE_I_WANT:"pages_audience_cant_select_audience_i_want",LWI_AUDIENCE_SELECTED_TARGETING_NOT_APPLIED:"pages_audience_selected_targeting_not_applied",LWI_AUDIENCE_CANT_EDIT_AUDIENCE:"pages_audience_cant_edit_audience",LWI_AUDIENCE_DELIVERING_TO_WRONG_AUDIENCE:"pages_audience_delivering_to_wrong_audience",LWI_PROMOTION_NOT_APPROVED:"pages_promotion_not_approved",LWI_PROMOTION_NOT_APPROVED_BUT_CHARGED:"pages_promotion_not_approved_but_charged",LWI_PROMOTION_TAKE_TOO_LONG_REVIEW:"pages_promotion_take_too_long_review",LWI_SOMETHING_ELSE:"pages_something_else",LWI_ACCOUNT_PAYMENT_METHOD_ISSUE:"pages_account_payment_method_issue",LWI_ACCOUNT_BILLING_ISSUE:"pages_account_billing_issue"})}),null);
__d("AdsLayerHideOnBlur",["csx","Parent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["#AdsPEHelpTrayContainer","#AdsCMHelpTrayContainer","._26fy"],i=2;function j(a){return!!a.parentElement&&a.parentElement.tagName==="BODY"}function k(a,c){a=b("Parent").find(a,j);c=b("Parent").find(c,j);return!!a&&!!c&&c.compareDocumentPosition(a)===i}a=function(){__p&&__p();function a(a){this.$1=a,this.$2=[],this.$3=null}var c=a.prototype;c.enable=function(){this.$2=[this.$1.subscribe("show",this.$4.bind(this)),this.$1.subscribe("hide",this.$5.bind(this))],this.$1.isShown()&&this.$4()};c.disable=function(){this.$5();while(this.$2.length)this.$2.pop().unsubscribe();this.$2=[]};c.$5=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};c.$4=function(){__p&&__p();var a=this;this.$3=this.$1.subscribe("blur",function(c,d){c=h.some(function(a){return b("Parent").bySelector(d.target,a)});if(c)return!1;c=a.$1.getContentRoot();if(c&&d.target&&k(c,d.target))return!1;a.$1.hide();return!0})};return a}();e.exports=a}),null);
__d("AdsPreviewBugReportUtils",["fbt","BugReportUtils","CurrentUser","URI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;d=Object.freeze({INCORRECT_DETAILS:g._("Incorrect preview details"),LOADING_ISSUE:g._("Problems loading a preview"),SHARING_ISSUE:g._("Problems sharing a preview"),OTHER:"Other"});f=Object.freeze({CROPPING:g._("Incorrect cropping of image or video"),CTA:g._("Incorrect call to action or display link"),HEADLINE:g._("Incorrect headline or text"),LINK_DESCRIPTION:g._("Incorrect link description")});var i=Object.freeze({INCORRECT_IMAGE_OR_VIDEO:g._("Incorrect image or video"),LOW_RESOLUTION:g._("Low resolution preview"),BLANK_PREVIEW:g._("Blank preview")}),j=Object.freeze({SHARING_LINK:g._("Share link doesn't work"),MOBILE_PREVIEW:g._("Can't preview on mobile device"),OTHER:g._("Other")}),k=Object.freeze({}),l=b("keyMirror")(d);f=Object.freeze((h={},h[l.INCORRECT_DETAILS]=f,h[l.LOADING_ISSUE]=i,h[l.SHARING_ISSUE]=j,h[l.OTHER]=k,h));i=Object.freeze({NO_CATEGORY_SELECTION:g._("No bug category selected"),PENDING_UPLOADS:g._("You have pending uploads")});function m(a){return new(b("URI"))("/intern/ads/previews").addQueryData({tab:"preview_params_json_parser_tab",preview_params:JSON.stringify(a),force_viewer:b("CurrentUser").getID()}).setDomain("our.intern.facebook.com").setProtocol("https").getQualifiedURI().toString()}function a(a){var b=a.category,c=a.subCategory;a=a.userDescription;return"\n"+a+"\n"+[b,c].join("-")}function c(a){var c=a.fbtraceID,d=a.error;a=a.previewParams;c=[{header:"PREVIEW TOOL LINK",description:"Link to Preview tool to reproduce the visible preview during the report. (Reproducing the Preview in the Ads Interfaces is still the source of truth.)",body:m(a)},{header:"PREVIEW TRACE",description:"Preview trace logged in Ads Scuba Table (i adlog)",body:c},{header:"PREVIEW ERROR",description:"Preview component error(if any):",body:JSON.stringify(d)},{header:"PREVIEW PAGELET SPEC",description:"Preview spec:",body:JSON.stringify(a,null,"\t")}];return""+b("BugReportUtils").formatSectionList(c)}e.exports={internalAttachmentInformationSummary:c,reportSummary:a,PREVIEW_BUG_CATEGORY:d,PREVIEW_BUG_CATEGORY_KEYS:l,PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY:f,SUBMIT_DISABLED_REASONS:i}}),null);
__d("LayerAbsorbWheel",["invariant","DOMEventListener"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$2=null,this.$1=a}var c=a.prototype;c.enable=function(){var a=this.$1.getRoot();a!=null||g(0,5466);this.$2=b("DOMEventListener").add(a,"wheel",this.$3,{passive:!0})};c.disable=function(){this.$2&&(this.$2.remove(),this.$2=null)};c.$3=function(a){a.stopPropagation()};return a}();e.exports=a}),null);
__d("ScreenshotCaptureInputPreviews.react",["cx","Image.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").createElement("div",{className:"_2ya4 _3-8i"},this.props.screenshotDataURIs.map(function(c,d){return b("React").createElement("div",{className:"_2ya5",key:d},b("React").createElement(b("Image.react"),{onClick:function(){return a.props.onScreenshotListChange(a.props.screenshotDataURIs["delete"](d))},className:"_2ya6",src:c}))}))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsPreviewBugReportModal.react",["cx","fbt","invariant","AdsBugReportUploader.react","AdsLayerHideOnBlur","AdsSpinner.react","BootloadedComponent.react","BugReportUtils","CurrentUser","FDSSimplePopover.react","FDSSpinner.react","SUIHorizontalLayout.react","SUILink.react","SUIModalFillViewportHeight","SUIModalOkayButton.react","SUIRadioList.react","SUISelector.react","SUISelectorOption.react","immutable","JSResource","LayerAbsorbWheel","LayerHideOnEscape","React","ScreenshotCaptureInputPreviews.react","SUIBusinessTheme","SUIButton.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","SUITextArea.react","AdsPreviewBugReportUtils","objectEntries"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsBugReportUploader.react").FileList,k=b("BugReportUtils").BUG_REPORT_FORM_STEP,l=b("SUIRadioList.react").Item,m=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY,n=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY,o=h._("Required"),p=h._("Optional");function q(a){var c=a.disableSubmitReasonList;a=a.onSurveyComplete;a=b("React").createElement(b("SUIButton.react"),{disabled:!!c,label:h._("Send Report"),layerAction:"confirm",theme:b("SUIBusinessTheme"),use:"confirm",onClick:a});return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:c!=null&&c!==""?b("React").createElement(b("FDSSimplePopover.react"),{content:c,position:"below",showIcon:!1},a):a,secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null),theme:b("SUIBusinessTheme")})}function r(a){var c=a.title,d=a.subtitle,e=a.description;a=a.node;return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},c),d!=null&&d!==""?b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")}," (",d,")"):null,e!=null&&e!==""?b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},e):null,b("React").createElement("div",{className:"_3-8x _3-96"},a))}function s(a){__p&&__p();var c=a.category,d=a.subCategory,e=a.onCategoryChange;a=a.onSubCategoryChange;var f=function(a){var c=a[0];a=a[1];return b("React").createElement(b("SUISelectorOption.react"),{key:c,theme:b("SUIBusinessTheme"),value:c},a)},g=b("objectEntries")(m).map(f);f=c?b("objectEntries")(n[c]).map(f):null;c=b("React").createElement(b("SUISelector.react"),{placeholder:h._("Select the type of issue"),theme:b("SUIBusinessTheme"),value:c,onChange:e},g);e=f&&f.length>0?b("React").createElement(b("SUISelector.react"),{placeholder:h._("Choose a specific issue"),theme:b("SUIBusinessTheme"),value:d,onChange:a},f):null;g=b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95"},c),b("React").createElement("div",null,e));return b("React").createElement(r,{node:g,subtitle:o,title:h._("What type of problem are you experiencing?")})}function t(a){var c=a.value;a=a.onChange;c=b("React").createElement(b("SUITextArea.react"),{placeholder:h._("Explain the issue you are facing and possible steps to reproduce it"),theme:b("SUIBusinessTheme"),value:c,onChange:a});return b("React").createElement(r,{description:h._("Tell us more about what happened, including the steps we can take to reproduce the problem."),node:c,subtitle:p,title:h._("Please explain the problem")})}function u(a){var c=a.attachedFiles,d=a.product,e=a.screenshotDataURIs,f=a.onFileListChange,g=a.onPostScreenshot,i=a.onPreScreenshot;a=a.onScreenshotListChange;d=b("React").createElement(b("AdsBugReportUploader.react"),{attachedFiles:c,product:d,showAttachedFilesPreviewList:!1,showLabel:!1,onFileListChange:f});g=b("CurrentUser").isEmployee()?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ScreenshotCaptureInput.react").__setRef("AdsPreviewBugReportModal.react"),bootloadPlaceholder:b("React").createElement(b("AdsSpinner.react"),null),screenshotDataURIs:e,showPreviews:!1,onPostScreenshot:g,onPreScreenshot:i,onScreenshotListChange:a}):null;i=b("React").createElement(j,{attachedFiles:c,onFileListChange:f});c=b("React").createElement(b("ScreenshotCaptureInputPreviews.react"),{screenshotDataURIs:e,onScreenshotListChange:a});f=b("React").createElement("div",null,b("React").createElement(b("SUIHorizontalLayout.react"),{theme:b("SUIBusinessTheme")},d,g),i,c);return b("React").createElement(r,{description:h._("Attach a screenshot or video to help us understand the problem."),node:f,subtitle:p,title:h._("Please add a screenshot, video, or file")})}function v(a){var c=a.loginAsPermission;a=a.onChange;if(!b("CurrentUser").isEmployee())return null;c=b("React").createElement(b("SUIRadioList.react"),{direction:"horizontal",theme:b("SUIBusinessTheme"),value:c,onChange:a},b("React").createElement(l,{value:!0},h._("Yes")),b("React").createElement(l,{value:!1},h._("No")));return b("React").createElement(r,{node:c,subtitle:h._("FB Employee Only"),title:h._("Can we log in to your account to investigate further?")})}function w(){return b("React").createElement("div",{className:"_63_3"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Sending report")),b("React").createElement("div",null,b("React").createElement(b("FDSSpinner.react"),{shade:"dark"})))}function x(){return b("React").createElement("div",{className:"_3ae4"},b("React").createElement("div",{className:"_3ae5"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Thanks for providing feedback on your Facebook Ads Experience."))),b("React").createElement("div",{className:"_3ae6"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")},h._("If you need immediate assistance, please visit our {support_page_link}",[h._param("support_page_link",b("React").createElement(b("SUILink.react"),{href:"/business/resources/",target:"_blank"},h._("Advertiser Support Page.")))]))),b("React").createElement("div",{className:"_3ae7"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",style:{marginBottom:12},theme:b("SUIBusinessTheme")},h._("While we are constantly working to improve your experience advertising on Facebook, we cannot guarantee that we will investigate or reply to every report. We may contact you for more details as we investigate.")),b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("This reporting tool does not constitute notice to Facebook or replace or modify any terms applicable to your purchase of advertising inventory from Facebook, which continue to apply to your ad campaigns."))))}function y(a){var c=a.additionalInfoValue,d=a.attachedFiles,e=a.category,f=a.product,g=a.loginAsPermission,h=a.screenshotDataURIs,i=a.step,j=a.subCategory,l=a.onCategorySelectorChange,m=a.onSubCategorySelectorChange,n=a.onAdditionalInfoTextFieldChange,o=a.onFileListChange,p=a.onLoginAsPermissionChange,q=a.onPreScreenshot,r=a.onPostScreenshot;a=a.onScreenshotListChange;switch(i){case k.FORM:return b("React").createElement("div",{className:"_2pi8"},b("React").createElement(s,{category:e,subCategory:j,onCategoryChange:l,onSubCategoryChange:m}),b("React").createElement(t,{value:c,onChange:n}),b("React").createElement(u,{attachedFiles:d,product:f,screenshotDataURIs:h,onFileListChange:o,onPostScreenshot:r,onPreScreenshot:q,onScreenshotListChange:a}),b("React").createElement(v,{loginAsPermission:g,onChange:p}));case k.SUBMISSION:return b("React").createElement(w,null);case k.CONFIRMATION:return b("React").createElement(x,null);case k.HIDDEN:return null}}function z(a){var c=a.disableSubmitReasonList,d=a.step,e=a.onHide;a=a.onSurveyComplete;switch(d){case k.FORM:return b("React").createElement(q,{disableSubmitReasonList:c,onSurveyComplete:a});case k.CONFIRMATION:return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalOkayButton.react"),{layerAction:"button",use:"confirm",onClick:e}),theme:b("SUIBusinessTheme")});case k.SUBMISSION:case k.HIDDEN:return null}}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerAbsorbWheel:b("LayerAbsorbWheel"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("AdsLayerHideOnBlur"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(z,{disableSubmitReasonList:this.props.disableSubmitReasonList,step:this.props.step,onHide:this.props.onHide,onSurveyComplete:this.props.onSurveyComplete}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Report a Problem")}),isShown:this.$1(),label:h._("Modal to report errors related to the Ads Preview Component"),theme:b("SUIBusinessTheme"),width:600,onHide:this.props.onHide},b("React").createElement(y,{additionalInfoValue:this.props.additionalInfoValue,attachedFiles:this.props.attachedFiles,category:this.props.category,loginAsPermission:this.props.loginAsPermission,product:this.props.product,screenshotDataURIs:this.props.screenshotDataURIs,step:this.props.step,subCategory:this.props.subCategory,onAdditionalInfoTextFieldChange:this.props.onAdditionalInfoTextFieldChange,onCategorySelectorChange:this.props.onCategorySelectorChange,onFileListChange:this.props.onFileListChange,onLoginAsPermissionChange:this.props.onLoginAsPermissionChange,onPostScreenshot:this.props.onPostScreenshot,onPreScreenshot:this.props.onPreScreenshot,onScreenshotListChange:this.props.onScreenshotListChange,onSubCategorySelectorChange:this.props.onSubCategorySelectorChange}))};d.$1=function(){switch(this.props.step){case k.FORM:case k.SUBMISSION:case k.CONFIRMATION:return!0;case k.HIDDEN:return!1;default:i(0,5145)}};return c}(b("React").Component);e.exports=a}),null);
__d("XAdsBugReportSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ajax/bugs/submit/",{account_id:{type:"Int"},ad_object_identifier:{type:"String"},ad_objective:{type:"String"},attached_files:{type:"StringVector"},audience_id:{type:"String"},business_id:{type:"Int"},business_emails:{type:"StringVector"},category:{type:"String",required:!0},conversion_pixel_id:{type:"String"},description:{type:"String",defaultValue:""},page_id:{type:"Int"},permission_to_login_as:{type:"Bool",defaultValue:!1},post_id:{type:"Int"},post_url:{type:"String"},product:{type:"String"},session_id:{type:"String"},source:{type:"Enum",defaultValue:"unknown",enumType:1},sub_category:{type:"String"},url_tag_or_view_tag:{type:"String"},screenshot_data_uris:{type:"StringVector"}})}),null);
__d("AdsPreviewBugReportContainer.react",["cx","fbt","Promise","AdsAccountStore","AdsAdgroupPreviewBugReportButton.react","AdsAdgroupPreviewBugReportLink.react","AdsBugReportCategory","AdsBugReportConfig","AdsBugReportSource","AdsBugReportSubCategory","AdsBugReportUploader.react","AdsFluxContainer","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesSessionConfig","AdsPreviewBugReportModal.react","AdsPreviewBugReportUtils","AsyncRequest","AsyncUploadRequest","BugReportUtils","FBTraceIDsForFailedGraphAPIRequests","React","XAdsBugReportSubmitController","gkx","immutable","objectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsInterfacesLogEvents").Event,j=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_KEYS,k=b("AdsPreviewBugReportUtils").SUBMIT_DISABLED_REASONS,l=b("AdsPreviewBugReportUtils").internalAttachmentInformationSummary,m=b("AdsPreviewBugReportUtils").reportSummary,n=b("BugReportUtils").BUG_REPORT_FORM_STEP,o={attachedFiles:{},internalAttachmentHandle:"",additionalInfo:"",category:null,loginAsPermission:!1,screenshotDataURIs:b("immutable").List(),subCategory:null},p=babelHelpers["extends"]({},o,{accountID:null,completed:!1,hasPendingUploads:!1,step:n.HIDDEN}),q=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=babelHelpers["extends"]({},p),d.$4=function(a){d.setState({category:a,subCategory:null})},d.$11=function(a){d.setState({subCategory:a})},d.$3=function(a){d.setState({additionalInfo:a})},d.$5=function(a){var c=b("objectValues")(a).some(function(a){return a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.UPLOADING});d.setState({attachedFiles:a,hasPendingUploads:c})},d.$7=function(a){d.setState({loginAsPermission:a})},d.$14=function(a){var c;b("AdsInterfacesLogger").log({eventName:i.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_SUCCESS,data:(c={},c.ad_preview_format=d.props.format,c.bug_id=a.payload.bug_id,c.error_type=[d.state.category,d.state.subCategory].join("-"),c.fbtrace_id=d.props.fbtraceID,c)})},d.$10=function(a){d.setState({screenshotDataURIs:a})},d.$9=function(){return new(b("Promise"))(function(a){d.setState({step:n.HIDDEN},function(){return window.setTimeout(a,q)})})},d.$8=function(){d.setState({step:n.FORM})},d.$1=function(){d.setState({step:n.FORM},function(){var a;b("AdsInterfacesLogger").log({eventName:i.ADGROUP_PREVIEW_BUG_REPORT_OPENED,data:(a={},a.ad_preview_format=d.props.format,a)})})},d.$6=function(){d.setState(babelHelpers["extends"]({},o,{step:n.HIDDEN}),function(){var a;return b("AdsInterfacesLogger").log({eventName:i.ADGROUP_PREVIEW_BUG_REPORT_CLOSED,data:(a={},a.ad_preview_format=d.props.format,a)})})},d.$12=function(){d.setState({step:n.SUBMISSION,completed:!0});var a=new File([l({fbtraceID:d.props.fbtraceID||"",error:d.props.error||"",previewParams:d.props.previewParams})],"preview_information.txt",{type:"text/plain"});a=new(b("AsyncUploadRequest"))("/ajax/file_handle/upload.php").setAllowCrossOrigin(!0).setFiles({file:[a]});a.subscribe("failure",function(a,c){b("AdsInterfacesLogger").log({eventName:i.ADGROUP_PREVIEW_BUG_REPORT_INTERNAL_ATTACHMENT_UPLOAD_ERROR})});a.subscribe("success",function(a,b){d.setState({internalAttachmentHandle:b.getResponse().payload.meta},function(){return d.$13()})});a.send()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("AdsAccountStore")]};c.calculateState=function(a,c){c=b("AdsAccountStore").getSelectedAccountID();return babelHelpers["extends"]({},a,{accountID:c})};var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,this.state.completed?h._("Thank you for your report."):b("gkx")("677855")?b("React").createElement(b("AdsAdgroupPreviewBugReportButton.react"),{isDisabled:this.props.isBugReportButtonDisabled,onClick:this.$1}):b("React").createElement(b("AdsAdgroupPreviewBugReportLink.react"),{onClick:this.$1}),b("React").createElement(b("AdsPreviewBugReportModal.react"),{additionalInfoValue:this.state.additionalInfo,attachedFiles:this.state.attachedFiles,category:this.state.category,disableSubmitReasonList:this.$2(),loginAsPermission:this.state.loginAsPermission,product:b("AdsBugReportConfig").products.ADS_CREATOR,screenshotDataURIs:this.state.screenshotDataURIs,step:this.state.step,subCategory:this.state.subCategory,onAdditionalInfoTextFieldChange:this.$3,onCategorySelectorChange:this.$4,onFileListChange:this.$5,onHide:this.$6,onLoginAsPermissionChange:this.$7,onPostScreenshot:this.$8,onPreScreenshot:this.$9,onScreenshotListChange:this.$10,onSubCategorySelectorChange:this.$11,onSurveyComplete:this.$12}))};d.$13=function(){var a=this,c=b("XAdsBugReportSubmitController").getURIBuilder(),d=[];Object.keys(this.state.attachedFiles).map(function(c){c=a.state.attachedFiles[c];c.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.SUCCESS&&d.push(c.handle)});d.push(this.state.internalAttachmentHandle);c.setInt("account_id",this.state.accountID).setString("category",b("AdsBugReportCategory").CREATING_AN_AD).setString("sub_category",b("AdsBugReportSubCategory").AD_PREVIEW).setEnum("source",b("AdsBugReportSource").IN_PRODUCT).setBool("permission_to_login_as",this.state.loginAsPermission);var e={attached_files:d,description:m({category:this.state.category||"",subCategory:this.state.subCategory||"",userDescription:this.state.additionalInfo,fbtraceID:this.props.fbtraceID||"",error:this.props.error||"",previewParams:this.props.previewParams}),error_fb_traces:b("FBTraceIDsForFailedGraphAPIRequests").errorFBTraces,screenshot_data_uris:this.state.screenshotDataURIs.toJSON(),session_id:b("AdsInterfacesSessionConfig").sessionID};new(b("AsyncRequest"))().setURI(c.getURI()).setData(e).setMethod("POST").setHandler(this.$14).setErrorHandler(this.$15).setFinallyHandler(function(){return a.setState(babelHelpers["extends"]({},o,{step:n.CONFIRMATION}))}).send()};d.$15=function(a){b("AdsInterfacesLogger").log({eventName:i.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_ERROR})};d.$2=function(){var a=[];(this.state.category===null||this.state.subCategory===null&&this.state.category!==j.OTHER)&&a.push(k.NO_CATEGORY_SELECTION);this.state.hasPendingUploads&&a.push(k.PENDING_UPLOADS);if(a.length>0){a=a.map(function(a){return b("React").createElement("li",{key:a},a)});return b("React").createElement("div",null,h._("You cannot submit the form for the following reasons:"),b("React").createElement("ul",{className:"_1mf8"},a))}return null};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("OptimisticAdPreviewAccuracyV2TypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:OptimisticAdPreviewAccuracyV2LoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:OptimisticAdPreviewAccuracyV2LoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:OptimisticAdPreviewAccuracyV2LoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionTypeOnError=function(a){this.$1.action_type_on_error=a;return this};c.setActiveScenarioIds=function(a){this.$1.active_scenario_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setActiveScenarios=function(a){this.$1.active_scenarios=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setActualEventTime=function(a){this.$1.actual_event_time=a;return this};c.setAdAccountIDExplicit=function(a){this.$1.ad_account_id_explicit=a;return this};c.setAdPreviewFormat=function(a){this.$1.ad_preview_format=a;return this};c.setAdgroupID=function(a){this.$1.adgroup_id=a;return this};c.setAdmarketID=function(a){this.$1.admarket_id=a;return this};c.setAhgTourStep=function(a){this.$1.ahg_tour_step=a;return this};c.setAPIRequestSource=function(a){this.$1.api_request_source=a;return this};c.setAPIResponseTime=function(a){this.$1.api_response_time=a;return this};c.setArtilleryTraceID=function(a){this.$1.artillery_trace_id=a;return this};c.setArtilleryTraceIDAtCrash=function(a){this.$1.artillery_trace_id_at_crash=a;return this};c.setAtSection=function(a){this.$1.at_section=a;return this};c.setAtTool=function(a){this.$1.at_tool=a;return this};c.setAttributionWindows=function(a){this.$1.attribution_windows=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setAudienceNetworkPositions=function(a){this.$1.audience_network_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setBlameFieldSpecs=function(a){this.$1.blame_field_specs=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setBugID=function(a){this.$1.bug_id=a;return this};c.setBusinessIDExplicit=function(a){this.$1.business_id_explicit=a;return this};c.setBuyingType=function(a){this.$1.buying_type=a;return this};c.setCallName=function(a){this.$1.call_name=a;return this};c.setCampaignGroupID=function(a){this.$1.campaign_group_id=a;return this};c.setCampaignID=function(a){this.$1.campaign_id=a;return this};c.setClientURI=function(a){this.$1.client_uri=a;return this};c.setCmsID=function(a){this.$1.cms_id=a;return this};c.setCodeBase=function(a){this.$1.code_base=a;return this};c.setCohort=function(a){this.$1.cohort=a;return this};c.setColumnCategory=function(a){this.$1.column_category=a;return this};c.setComponentName=function(a){this.$1.component_name=a;return this};c.setContextMap=function(a){this.$1.context_map=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setCrashedSessionID=function(a){this.$1.crashed_session_id=a;return this};c.setCurrentAttributionWindows=function(a){this.$1.current_attribution_windows=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCurrentDateIntervalEnd=function(a){this.$1.current_date_interval_end=a;return this};c.setCurrentDateIntervalPreset=function(a){this.$1.current_date_interval_preset=a;return this};c.setCurrentDateIntervalStart=function(a){this.$1.current_date_interval_start=a;return this};c.setCurrentInsightsDatavizMetrics=function(a){this.$1.current_insights_dataviz_metrics=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCurrentInsightsDatavizSection=function(a){this.$1.current_insights_dataviz_section=a;return this};c.setCurrentInsightsDatavizSubsection=function(a){this.$1.current_insights_dataviz_subsection=a;return this};c.setCurrentInsightsTableBreakdowns=function(a){this.$1.current_insights_table_breakdowns=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCurrentInsightsTableColumnSetID=function(a){this.$1.current_insights_table_column_set_id=a;return this};c.setCurrentInsightsTableLevel=function(a){this.$1.current_insights_table_level=a;return this};c.setCurrentInsightsTableSort=function(a){this.$1.current_insights_table_sort=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCurrentInsightsTableUserColumns=function(a){this.$1.current_insights_table_user_columns=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCurrentNormalizedFilter=function(a){this.$1.current_normalized_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCurrentUserFilter=function(a){this.$1.current_user_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setCustomEventType=function(a){this.$1.custom_event_type=a;return this};c.setCustomizedPlacement=function(a){this.$1.customized_placement=a;return this};c.setDataSource=function(a){this.$1.data_source=a;return this};c.setDevicePlatforms=function(a){this.$1.device_platforms=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setDialogType=function(a){this.$1.dialog_type=a;return this};c.setDiffSpec=function(a){this.$1.diff_spec=a;return this};c.setElementsInDomAtCrash=function(a){this.$1.elements_in_dom_at_crash=a;return this};c.setEndpoint=function(a){this.$1.endpoint=a;return this};c.setErrorCode=function(a){this.$1.error_code=a;return this};c.setErrorLine=function(a){this.$1.error_line=a;return this};c.setErrorName=function(a){this.$1.error_name=a;return this};c.setErrorScript=function(a){this.$1.error_script=a;return this};c.setErrorSubcode=function(a){this.$1.error_subcode=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEventCategory=function(a){this.$1.event_category=a;return this};c.setEventIndex=function(a){this.$1.event_index=a;return this};c.setEventIndexAtCrash=function(a){this.$1.event_index_at_crash=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setEventSource=function(a){this.$1.event_source=a;return this};c.setExcludedPublisherCategories=function(a){this.$1.excluded_publisher_categories=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setExcludedPublisherListIds=function(a){this.$1.excluded_publisher_list_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setFacebookPageID=function(a){this.$1.facebook_page_id=a;return this};c.setFacebookPositions=function(a){this.$1.facebook_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setFbtraceID=function(a){this.$1.fbtrace_id=a;return this};c.setGkAbtestControlMap=function(a){this.$1.gk_abtest_control_map=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setGkAbtestTestMap=function(a){this.$1.gk_abtest_test_map=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setGkStatusMap=function(a){this.$1.gk_status_map=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setHelpListRelatedFaqs=function(a){this.$1.help_list_related_faqs=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setHelpListRelatedFeatured=function(a){this.$1.help_list_related_featured=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setInsightsQueryBreakdowns=function(a){this.$1.insights_query_breakdowns=a;return this};c.setInsightsQueryFilters=function(a){this.$1.insights_query_filters=a;return this};c.setInsightsQuerySort=function(a){this.$1.insights_query_sort=a;return this};c.setInsightsQueryTimeRange=function(a){this.$1.insights_query_time_range=a;return this};c.setInsightsTooltipSticky=function(a){this.$1.insights_tooltip_sticky=a;return this};c.setInstagramPositions=function(a){this.$1.instagram_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setIsDefaultPlacements=function(a){this.$1.is_default_placements=a;return this};c.setIsEventFirstOfTypeInSession=function(a){this.$1.is_event_first_of_type_in_session=a;return this};c.setIsFirstPage=function(a){this.$1.is_first_page=a;return this};c.setJsBuildRevision=function(a){this.$1.js_build_revision=a;return this};c.setJsHeapSizeLimitAtCrash=function(a){this.$1.js_heap_size_limit_at_crash=a;return this};c.setJsHeapSizeTotalAtCrash=function(a){this.$1.js_heap_size_total_at_crash=a;return this};c.setJsHeapSizeUsedAtCrash=function(a){this.$1.js_heap_size_used_at_crash=a;return this};c.setJsPushPhase=function(a){this.$1.js_push_phase=a;return this};c.setKpiType=function(a){this.$1.kpi_type=a;return this};c.setLastLiveTime=function(a){this.$1.last_live_time=a;return this};c.setLoadedModuleCount=function(a){this.$1.loaded_module_count=a;return this};c.setLoadedPackageCount=function(a){this.$1.loaded_package_count=a;return this};c.setLogGroupID=function(a){this.$1.log_group_id=a;return this};c.setLogGroupIndex=function(a){this.$1.log_group_index=a;return this};c.setLogItemID=function(a){this.$1.log_item_id=a;return this};c.setMegamenuColumn=function(a){this.$1.megamenu_column=a;return this};c.setMegamenuRecentsNum=function(a){this.$1.megamenu_recents_num=a;return this};c.setMessage=function(a){this.$1.message=a;return this};c.setMessageFormat=function(a){this.$1.message_format=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setMessengerPositions=function(a){this.$1.messenger_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setMetaMessage=function(a){this.$1.meta_message=a;return this};c.setMockupID=function(a){this.$1.mockup_id=a;return this};c.setModuleName=function(a){this.$1.module_name=a;return this};c.setNewValue=function(a){this.$1.new_value=a;return this};c.setObjectIds=function(a){this.$1.object_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setObjectTypeExplicit=function(a){this.$1.object_type_explicit=a;return this};c.setObjective=function(a){this.$1.objective=a;return this};c.setOldValue=function(a){this.$1.old_value=a;return this};c.setOncall=function(a){this.$1.oncall=a;return this};c.setOptimisticPreviewSource=function(a){this.$1.optimistic_preview_source=a;return this};c.setOptimizationGoal=function(a){this.$1.optimization_goal=a;return this};c.setPageLocationTargeting=function(a){this.$1.page_location_targeting=a;return this};c.setPayloadOnError=function(a){this.$1.payload_on_error=a;return this};c.setPixelID=function(a){this.$1.pixel_id=a;return this};c.setPredictionID=function(a){this.$1.prediction_id=a;return this};c.setPreviousAttributionWindows=function(a){this.$1.previous_attribution_windows=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPreviousDateIntervalEnd=function(a){this.$1.previous_date_interval_end=a;return this};c.setPreviousDateIntervalPreset=function(a){this.$1.previous_date_interval_preset=a;return this};c.setPreviousDateIntervalStart=function(a){this.$1.previous_date_interval_start=a;return this};c.setPreviousInsightsDatavizMetrics=function(a){this.$1.previous_insights_dataviz_metrics=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPreviousInsightsDatavizSection=function(a){this.$1.previous_insights_dataviz_section=a;return this};c.setPreviousInsightsDatavizSubsection=function(a){this.$1.previous_insights_dataviz_subsection=a;return this};c.setPreviousInsightsTableBreakdowns=function(a){this.$1.previous_insights_table_breakdowns=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPreviousInsightsTableColumnSetID=function(a){this.$1.previous_insights_table_column_set_id=a;return this};c.setPreviousInsightsTableLevel=function(a){this.$1.previous_insights_table_level=a;return this};c.setPreviousInsightsTableSort=function(a){this.$1.previous_insights_table_sort=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPreviousInsightsTableUserColumns=function(a){this.$1.previous_insights_table_user_columns=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPreviousNormalizedFilter=function(a){this.$1.previous_normalized_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPreviousUserFilter=function(a){this.$1.previous_user_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPropsOnError=function(a){this.$1.props_on_error=a;return this};c.setPublisherPlatforms=function(a){this.$1.publisher_platforms=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSavedLocationID=function(a){this.$1.saved_location_id=a;return this};c.setSavedStateRetrieveError=function(a){this.$1.saved_state_retrieve_error=a;return this};c.setScenarioDuration=function(a){this.$1.scenario_duration=a;return this};c.setScenarioEnd=function(a){this.$1.scenario_end=a;return this};c.setScenarioEventOccurrenceIndex=function(a){this.$1.scenario_event_occurrence_index=a;return this};c.setScenarioStart=function(a){this.$1.scenario_start=a;return this};c.setScenarioStatus=function(a){this.$1.scenario_status=a;return this};c.setScenarioSubeventAbandonedCount=function(a){this.$1.scenario_subevent_abandoned_count=a;return this};c.setScenarioSubeventCount=function(a){this.$1.scenario_subevent_count=a;return this};c.setScenarioSubeventFailCount=function(a){this.$1.scenario_subevent_fail_count=a;return this};c.setScenarioSubeventSuccessCount=function(a){this.$1.scenario_subevent_success_count=a;return this};c.setScrollDistance=function(a){this.$1.scroll_distance=a;return this};c.setSearchQuery=function(a){this.$1.search_query=a;return this};c.setSelected=function(a){this.$1.selected=a;return this};c.setServerPreviewSource=function(a){this.$1.server_preview_source=a;return this};c.setSessionDurationAtCrash=function(a){this.$1.session_duration_at_crash=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSignalsUIComponentEnvironment=function(a){this.$1.signals_ui_component_environment=a;return this};c.setSignalsUIEventData=function(a){this.$1.signals_ui_event_data=a;return this};c.setSignalsUILoggerSessionID=function(a){this.$1.signals_ui_logger_session_id=a;return this};c.setStackTrace=function(a){this.$1.stack_trace=a;return this};c.setStateOnError=function(a){this.$1.state_on_error=a;return this};c.setStoreName=function(a){this.$1.store_name=a;return this};c.setTabCountAtCrash=function(a){this.$1.tab_count_at_crash=a;return this};c.setTargetingUIEventData=function(a){this.$1.targeting_ui_event_data=a;return this};c.setThrottledEventName=function(a){this.$1.throttled_event_name=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeSinceLoad=function(a){this.$1.time_since_load=a;return this};c.setTimeSinceNavigationStart=function(a){this.$1.time_since_navigation_start=a;return this};c.setToSection=function(a){this.$1.to_section=a;return this};c.setToTool=function(a){this.$1.to_tool=a;return this};c.setTooltipNavigatedSections=function(a){this.$1.tooltip_navigated_sections=a;return this};c.setTooltipPlacement=function(a){this.$1.tooltip_placement=a;return this};c.setTooltipType=function(a){this.$1.tooltip_type=a;return this};c.setURIAtCrash=function(a){this.$1.uri_at_crash=a;return this};c.setUserAccountIDExplicit=function(a){this.$1.user_account_id_explicit=a;return this};c.setUserDevice=function(a){this.$1.user_device=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setUserOrPageExplicit=function(a){this.$1.user_or_page_explicit=a;return this};c.setUserOs=function(a){this.$1.user_os=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVisible=function(a){this.$1.visible=a;return this};c.setWaitTimeTraceID=function(a){this.$1.wait_time_trace_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.setWindowHeight=function(a){this.$1.window_height=a;return this};c.setWindowWidth=function(a){this.$1.window_width=a;return this};c.setWirelessCarrier=function(a){this.$1.wireless_carrier=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={action_type_on_error:!0,active_scenario_ids:!0,active_scenarios:!0,actual_event_time:!0,ad_account_id_explicit:!0,ad_preview_format:!0,adgroup_id:!0,admarket_id:!0,ahg_tour_step:!0,api_request_source:!0,api_response_time:!0,artillery_trace_id:!0,artillery_trace_id_at_crash:!0,at_section:!0,at_tool:!0,attribution_windows:!0,audience_network_positions:!0,blame_field_specs:!0,bug_id:!0,business_id_explicit:!0,buying_type:!0,call_name:!0,campaign_group_id:!0,campaign_id:!0,client_uri:!0,cms_id:!0,code_base:!0,cohort:!0,column_category:!0,component_name:!0,context_map:!0,crashed_session_id:!0,current_attribution_windows:!0,current_date_interval_end:!0,current_date_interval_preset:!0,current_date_interval_start:!0,current_insights_dataviz_metrics:!0,current_insights_dataviz_section:!0,current_insights_dataviz_subsection:!0,current_insights_table_breakdowns:!0,current_insights_table_column_set_id:!0,current_insights_table_level:!0,current_insights_table_sort:!0,current_insights_table_user_columns:!0,current_normalized_filter:!0,current_user_filter:!0,custom_event_type:!0,customized_placement:!0,data_source:!0,device_platforms:!0,dialog_type:!0,diff_spec:!0,elements_in_dom_at_crash:!0,endpoint:!0,error_code:!0,error_line:!0,error_name:!0,error_script:!0,error_subcode:!0,error_type:!0,event_category:!0,event_index:!0,event_index_at_crash:!0,event_name:!0,event_source:!0,excluded_publisher_categories:!0,excluded_publisher_list_ids:!0,facebook_page_id:!0,facebook_positions:!0,fbtrace_id:!0,gk_abtest_control_map:!0,gk_abtest_test_map:!0,gk_status_map:!0,help_list_related_faqs:!0,help_list_related_featured:!0,insights_query_breakdowns:!0,insights_query_filters:!0,insights_query_sort:!0,insights_query_time_range:!0,insights_tooltip_sticky:!0,instagram_positions:!0,is_default_placements:!0,is_event_first_of_type_in_session:!0,is_first_page:!0,js_build_revision:!0,js_heap_size_limit_at_crash:!0,js_heap_size_total_at_crash:!0,js_heap_size_used_at_crash:!0,js_push_phase:!0,kpi_type:!0,last_live_time:!0,loaded_module_count:!0,loaded_package_count:!0,log_group_id:!0,log_group_index:!0,log_item_id:!0,megamenu_column:!0,megamenu_recents_num:!0,message:!0,message_format:!0,message_id:!0,messenger_positions:!0,meta_message:!0,mockup_id:!0,module_name:!0,new_value:!0,object_ids:!0,object_type_explicit:!0,objective:!0,old_value:!0,oncall:!0,optimistic_preview_source:!0,optimization_goal:!0,page_location_targeting:!0,payload_on_error:!0,pixel_id:!0,prediction_id:!0,previous_attribution_windows:!0,previous_date_interval_end:!0,previous_date_interval_preset:!0,previous_date_interval_start:!0,previous_insights_dataviz_metrics:!0,previous_insights_dataviz_section:!0,previous_insights_dataviz_subsection:!0,previous_insights_table_breakdowns:!0,previous_insights_table_column_set_id:!0,previous_insights_table_level:!0,previous_insights_table_sort:!0,previous_insights_table_user_columns:!0,previous_normalized_filter:!0,previous_user_filter:!0,props_on_error:!0,publisher_platforms:!0,saved_location_id:!0,saved_state_retrieve_error:!0,scenario_duration:!0,scenario_end:!0,scenario_event_occurrence_index:!0,scenario_start:!0,scenario_status:!0,scenario_subevent_abandoned_count:!0,scenario_subevent_count:!0,scenario_subevent_fail_count:!0,scenario_subevent_success_count:!0,scroll_distance:!0,search_query:!0,selected:!0,server_preview_source:!0,session_duration_at_crash:!0,session_id:!0,signals_ui_component_environment:!0,signals_ui_event_data:!0,signals_ui_logger_session_id:!0,stack_trace:!0,state_on_error:!0,store_name:!0,tab_count_at_crash:!0,targeting_ui_event_data:!0,throttled_event_name:!0,time:!0,time_since_load:!0,time_since_navigation_start:!0,to_section:!0,to_tool:!0,tooltip_navigated_sections:!0,tooltip_placement:!0,tooltip_type:!0,uri_at_crash:!0,user_account_id_explicit:!0,user_device:!0,user_or_page_explicit:!0,user_os:!0,vc:!0,visible:!0,wait_time_trace_id:!0,weight:!0,window_height:!0,window_width:!0,wireless_carrier:!0};e.exports=a}),null);
__d("OptimisticAdPreviewErrors",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({annotatedElementNotFound:null,carouselCardSpecNotFound:null,carouselImageContainerNotFound:null,carouselImageNotFound:null,carouselImageRemovalNotSupported:null,displayLinkRemoved:null,effectHadMultiplePathValues:null,emoticonsNotSupported:null,emojisNotSupported:null,emptyImage:null,gkFailed:null,headlineRemoved:null,iframeBlocked:null,iframeNotFound:null,imageNotFound:null,imageRemovalNotSupported:null,invalidCrops:null,invalidCTAType:null,linkDescriptionRemoved:null,mentionsNotSupported:null,noButtonCTA:null,nullValue:null,previewContainerNotFound:null,stockImagesNotSupported:null,targetElementNotFound:null,videoNotFound:null,videoRemovalNotSupported:null,videoMissingMetadata:null,carouselCardNotFound:null,carouselCardAdded:null,carouselCardRemoved:null,carouselCardHeadlineNotFound:null,carouselCardHeadlineRemoved:null,carouselCardMultipleChanges:null,carouselCardDescriptionNotFound:null,carouselCardDescriptionRemoved:null,carouselCardCTANotFound:null,unsupportedMessageString:null});e.exports=a}),null);
__d("OptimisticAdPreviewResults",[],(function(a,b,c,d,e,f){"use strict";a={SKIPPED:"SKIPPED",SUCCESS:"SUCCESS"};e.exports=a}),null);
__d("OptimisticAdPreviewANInterstitialEffect",["csx","fbt","AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsImageStore","AdsOffsiteAdInterstitialPreview.react","AdsPageStore","AdsPreviewApiFormats","ApiAdObjectTypes","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","React","ReactDOM","ShutterstockImageUtils","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={name:"an-interstitial-container",id:"an-interstitial",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC],formats:[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL],update:function(a,c,d){__p&&__p();c=a.querySelector("._72xz");if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c=l(d);if(!c)return b("OptimisticAdPreviewErrors").emptyImage;if(b("ShutterstockImageUtils").isStockImageURL(c))return b("OptimisticAdPreviewErrors").stockImagesNotSupported;b("ReactDOM").render(b("React").createElement(b("AdsOffsiteAdInterstitialPreview.react"),{ctaText:n(d),description:o(d),iconSrc:s(d),imageAspectRatio:m(d),imageSrc:c,isVideo:i(d),subtitle:r(d),title:p(d)}),a);return b("OptimisticAdPreviewResults").SUCCESS}};var i=function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)===b("ApiAdObjectTypes").VIDEO},j=function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE)},k=function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);if(!a)return null;a=b("AdsImageStore").get(a);return!a?null:a},l=function(a){if(i(a))return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL);var c=k(a);a=j(a);return c?c.url:a||null},m=function(a){a=k(a);return a?Math.floor(100*a.width/a.height)/100:1},n=function(a){a=b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE);if(!a)return null;a=b("AdsCallToActionTypes").TYPES[a];return!a?null:a.text},o=function(a){return b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE)},p=function(a){var c=h._("Headline");return b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME)||c},q=function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID);return!a?null:b("AdsPageStore").get(a)},r=function(a){a=q(a);return!a?null:a.name},s=function(a){a=q(a);return!a?null:b("getByPath")(a,["picture","data","url"])};e.exports=a}),null);
__d("camelizeProps",[],(function(a,b,c,d,e,f){function g(a){return a.replace(/_[a-z]/g,function(a){return a.charAt(1).toUpperCase()})}function h(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(typeof a[c]==="object"?b[g(c)]=h(a[c]):b[g(c)]=a[c]);return b}e.exports=h}),null);
__d("adsOptimisticPreviewQESelector",["adsCreateAdAccountQESelector","adsCreateSelector","camelizeProps"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateAdAccountQESelector")("ads_optimistic_preview");var g=["is_optimistic_carousel_ad_preview_enabled","is_optimistic_desktop_image_ad_preview_enabled","is_optimistic_empty_image_ad_preview_enabled","is_optimistic_ig_ad_preview_enabled","is_optimistic_image_ad_preview_enabled","is_optimistic_video_ad_preview_enabled","is_optimistic_an_interstitial_enabled","is_optimistic_instant_articles_enabled"],h=["is_optimistic_carousel_ad_preview_enabled","is_optimistic_desktop_image_ad_preview_enabled","is_optimistic_empty_image_ad_preview_enabled","is_optimistic_ig_ad_preview_enabled","is_optimistic_image_ad_preview_enabled","is_optimistic_video_ad_preview_enabled"];c=b("adsCreateSelector")([a],function(a){var c=a.isDone()&&a.hasValue();return b("camelizeProps")(g.reduce(function(b,d){h.includes(d)?b[d]=c&&a.getValueEnforcing().getParamBool(d,!0):b[d]=c&&a.getValueEnforcing().getParamBool(d,!1);return b},{}))},{name:e.id+".adsOptimisticPreviewQESelector"});e.exports=c}),null);
__d("OptimisticAdPreviewUtils",["AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsLinkPostFormat","AdsLoadState_LEGACY","AdsMediaFormat","AdsPreviewApiFormats","AdsWhatsAppUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","adsOptimisticPreviewQESelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="carousel-card",h=[function(a,c,d,e){return a.isOptimisticImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").IMAGE&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticVideoAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").VIDEO&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticCarouselAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").CAROUSEL&&e===b("AdsLinkPostFormat").MULTIPLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").IMAGE&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").VIDEO&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").CAROUSEL&&e===b("AdsLinkPostFormat").MULTIPLE},function(a,c,d,e){return a.isOptimisticIgAdPreviewEnabled&&c===b("AdsPreviewApiFormats").INSTAGRAM_STANDARD&&(d===b("AdsMediaFormat").IMAGE||d===b("AdsMediaFormat").VIDEO)&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticAnInterstitialEnabled&&c===b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL&&(d===b("AdsMediaFormat").IMAGE||d===b("AdsMediaFormat").VIDEO)&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){d=[b("AdsMediaFormat").IMAGE,b("AdsMediaFormat").VIDEO,b("AdsMediaFormat").CAROUSEL].includes(d);e=[b("AdsLinkPostFormat").SINGLE,b("AdsLinkPostFormat").MULTIPLE].includes(e);return a.isOptimisticInstantArticlesEnabled&&c===b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD&&d&&e}],i={validateAndApplyImageCropEffect:function(a,c,d,e,f,g){__p&&__p();f=i.getCrop(f);if(f===null)return b("OptimisticAdPreviewErrors").invalidCrops;a=a.getSelectedAccountIDX();c=c.getOneFor(a,g);a=typeof c==="string"?c:c.loadState;g=typeof c!=="string"?c:null;if(a===b("AdsLoadState_LEGACY").LOADING)return b("OptimisticAdPreviewErrors").imageNotFound;if(a!==b("AdsLoadState_LEGACY").LOADED)return b("OptimisticAdPreviewErrors").imageNotFound;if(g===null)return b("OptimisticAdPreviewErrors").imageNotFound;c=d.clientWidth;a=d.clientHeight;e.style.backgroundImage='url("'+g.url+'")';d=f[1][0]-f[0][0];var h=f[1][1]-f[0][1];e.style.backgroundSize=g.width/d*100+"% "+g.height/h*100+"%";e.style.backgroundPosition="-"+c/d*f[0][0]+"px -"+a/h*f[0][1]+"px";return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyImageEffect:function(a,c,d){if(d===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(d===null)return b("OptimisticAdPreviewErrors").imageRemovalNotSupported;a=a.get(d);if(!a)return b("OptimisticAdPreviewErrors").imageNotFound;c.style.background='center / cover url("'+a.url+'")';return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyCtaEffect:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").noButtonCTA;c=b("AdsCallToActionTypes").TYPES[c];if(!c)return b("OptimisticAdPreviewErrors").invalidCTAType;a.innerText=b("AdsWhatsAppUtils").isWhatsAppCTAType(c.name)?c.short_text:c.text;return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyCarouselEffect:function(a,c,d,e){__p&&__p();var f=a.querySelectorAll('[data-ad-preview="'+g+'"]');if(c===null||f===null)return b("OptimisticAdPreviewResults").SKIPPED;if(c.length>f.length)return b("OptimisticAdPreviewErrors").carouselCardAdded;a=c.map(function(a,c){__p&&__p();if(a===null)return b("OptimisticAdPreviewErrors").carouselCardRemoved;if(a===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(Object.keys(a).length>1)return b("OptimisticAdPreviewErrors").carouselCardMultipleChanges;if(!f[c])return b("OptimisticAdPreviewErrors").carouselCardNotFound;var g=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)[c];return!g?b("OptimisticAdPreviewErrors").carouselCardSpecNotFound:e(f[c],a,g)});c=a.filter(function(a){return Object.prototype.hasOwnProperty.call(b("OptimisticAdPreviewErrors"),a)});if(c.length)return c[0];c=a.filter(function(a){return a===b("OptimisticAdPreviewResults").SUCCESS});return c.length?b("OptimisticAdPreviewResults").SUCCESS:b("OptimisticAdPreviewResults").SKIPPED},shouldUpdate:function(a,b,c,d){return!a?!1:h.some(function(e){return a&&e(a,b,c,d)})},getCrop:function(a){var b=Object.keys(a)[0];a=a[b];if(a===null)return null;a.length===1&&(a[1]=a[0],a[0]=[0,0]);return a}};e.exports=i}),null);
__d("OptimisticAdPreviewCarouselDescriptionEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").DESCRIPTION,h={name:"carousel",id:"carousel-description",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],updateDescriptions:function(a,c){__p&&__p();c=c[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").carouselCardDescriptionRemoved;a=a.querySelector('[data-ad-preview="card-description"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardDescriptionNotFound;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS},update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h.updateDescriptions)}};e.exports=h}),null);
__d("OptimisticAdPreviewCarouselHeadlineEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").NAME,h={name:"carousel",id:"carousel-headline",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],updateHeadline:function(a,c){__p&&__p();c=c[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").carouselCardHeadlineRemoved;a=a.querySelector('[data-ad-preview="card-headline"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardHeadlineNotFound;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS},update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h.updateHeadline)}};e.exports=h}),null);
__d("OptimisticAdPreviewCarouselImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS,h=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"carousel-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};var i=function(a,c,d){__p&&__p();c=d[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var e=a.querySelector("i");return!e?b("OptimisticAdPreviewErrors").carouselImageNotFound:b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,e,c,d[h])};e.exports=a}),null);
__d("OptimisticAdPreviewCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"carousel-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h)}};var h=function(a,c){a=a.querySelector('[data-ad-preview="image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;a=a.querySelector("i");return!a?b("OptimisticAdPreviewErrors").carouselImageNotFound:b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c[g])};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"cta",id:"desktop-cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)}};e.exports=d}),null);
__d("OptimisticAdPreviewDesktopCarouselCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,h=b("ApiCallToActionFields").TYPE,i=function(a,c){a=a.querySelector('[data-ad-preview="carousel-cta"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;c=b("getByPath")(c,[g,h]);return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)};a={name:"carousel",id:"desktop-carousel-CTA",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],mediaFormats:[b("AdsMediaFormat").CAROUSEL],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCarouselImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS,h=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"desktop-carousel-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};var i=function(a,c,d){__p&&__p();c=d[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var e=a.querySelector('[data-ad-preview="carousel-image"]');if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,d[h])};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"desktop-carousel-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h)}};var h=function(a,c){__p&&__p();a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;c=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c[g]);if(c!==b("OptimisticAdPreviewResults").SUCCESS)return c;c=a.querySelector('[data-ad-preview="carousel-image"]');if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c.setAttribute("src","");return b("OptimisticAdPreviewResults").SUCCESS};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";a={name:"display-link",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").displayLinkRemoved;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",id:"desktop-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=a.querySelector("[data-ad-preview=image]");if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");e=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,e)}};e.exports=a}),null);
__d("AdsAssetFeedAssetUtils",["AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!=null?a.trim():a}var h={hasImages:function(a){return h.getImages(a).size>0},getImages:function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)||b("immutable").List()},hasVideos:function(a){return h.getVideos(a).size>0},getVideos:function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)||b("immutable").List()},hasText:function(a){return h.getText(a).size>0},getText:function(a){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.bodies;return!a?b("immutable").List():a.filter(function(a){a=a.get(b("AdsAPIAdAssetFeedBodiesFields").TEXT);return typeof a==="string"&&a.trim()})},getTextFromAdgroup:function(a){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.bodies;return a!=null?a.reduce(function(a,c,d){return a.set(d,b("immutable").Map(c))},b("immutable").List()):b("immutable").List()},hasWebsiteURL:function(a){return!!h.getWebsiteURL(a)},getWebsiteURL:function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS)||b("immutable").List();return a.size===0?null:g(a.first().get(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL))},hasHeadline:function(a){return h.getHeadline(a).size>0},getHeadline:function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES);return!a?b("immutable").List():a.filter(function(a){return g(a.get(b("AdsAPIAdAssetFeedTitlesFields").TEXT))})},hasCallToAction:function(a){return h.getCallToAction(a).size>0},getCallToAction:function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES)||b("immutable").List()},hasDisplayLink:function(a){return!!h.getDisplayLink(a)},getDisplayLink:function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS);if(!a||a.size===0)return null;a=a.first().get(b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL);return g(a||"")},hasNewsFeedLinkDescription:function(a){return h.getNewsFeedLinkDescription(a).size>0},getNewsFeedLinkDescription:function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS);return!a?b("immutable").List():a.filter(function(a){return g(a.get(b("AdsAPIAdAssetFeedDescriptionsFields").TEXT))})}};e.exports=h}),null);
__d("OptimisticAdPreviewYielders",["AdsAPIAdAssetCustomizationRuleFields","AdsLocalizedPlacementsUtils","AdsPlacementAssetTargetingRuleUtils","ApiAdCreativeFields","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={placementAssetCustomizationYielder:function(a,c,d,e,f){__p&&__p();return function(g,h){__p&&__p();var i=b("immutable").fromJS(b("getByPath")(h,b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath(),[]));i=i.find(function(d){return b("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(d).some(function(b){return b.platform===a&&b.position===c})})||b("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRule(i);var j=i&&b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(i,d);if(j==null)return void 0;i=[h,g].map(function(a){return b("immutable").List(f(a).map(b("immutable").Map))});h=i[0];g=i[1];i=h.findIndex(function(a){return(a.get(b("ApiAdCreativeFields").AD_LABELS)||[]).some(function(a){return b("getByPath")(a,[b("AdsAPIAdAssetCustomizationRuleFields").NAME])===j})});if(i===-1)return void 0;g=g.get(i);g=g!=null&&g.get(e)!==void 0;if(!g)return void 0;g=h.get(i);return g.get(e)||void 0}}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopImageEffect",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAPIFacebookPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",id:"desktop-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){c=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c);if(c!==b("OptimisticAdPreviewResults").SUCCESS)return c;c=a.querySelector('[data-ad-preview="image"]');if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c.setAttribute("src","");return b("OptimisticAdPreviewResults").SUCCESS},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").FACEBOOK,b("AdsAPIFacebookPosition").FEED,b("AdsAPIAdAssetCustomizationRuleFields").IMAGE_LABEL,b("AdsAPIAdAssetFeedImagesFields").HASH,b("AdsAssetFeedAssetUtils").getImages)]};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopVideoEffect",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetVideoFields","AdsAPIAdgroupPaths","AdsAPIFacebookPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;c=b("AdsVideoStore").get(c);if(!c)return b("OptimisticAdPreviewErrors").videoNotFound;if(c.download_sd_url==null||c.preferredThumbnail==null||c.preferredThumbnail.uri==null)return b("OptimisticAdPreviewErrors").videoMissingMetadata;a.setAttribute("src",c.download_sd_url);a.setAttribute("poster",c.preferredThumbnail.uri);return b("OptimisticAdPreviewResults").SUCCESS},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").FACEBOOK,b("AdsAPIFacebookPosition").FEED,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL,b("AdsAPIAdAssetVideoFields").VIDEO_ID,b("AdsAssetFeedAssetUtils").getVideos)]};e.exports=a}),null);
__d("OptimisticAdPreviewDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"display-link-container",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").displayLinkRemoved;a=a.querySelector("span");if(a){a.innerText=b("gkx")("859214")?c.toUpperCase():c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewHeadlineEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"headline",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD,b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").headlineRemoved;if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewIGCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"ig-cta",id:"ig-cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)}};e.exports=d}),null);
__d("OptimisticAdPreviewIGFeedImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"media-container",id:"ig-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS)||b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=b("OptimisticAdPreviewUtils").getCrop(c);if(e===null)return b("OptimisticAdPreviewErrors").invalidCrops;var f=e[1][0]-e[0][0];e=e[1][1]-e[0][1];a.style.height=e*(a.clientWidth/f)+"px";e=a.querySelector('[data-ad-preview="image"]');if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");f=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH)||b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,f)}};e.exports=a}),null);
__d("OptimisticAdPreviewIGFeedImageEffect",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"media-container",id:"ig-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c,d){__p&&__p();d=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH);d&&(c=d);d=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c);if(d!==b("OptimisticAdPreviewResults").SUCCESS)return d;d=a.querySelector('[data-ad-preview="image"]');if(!d)return b("OptimisticAdPreviewErrors").targetElementNotFound;a=b("AdsImageStore").get(b("nullthrows")(c));if(!a)return b("OptimisticAdPreviewErrors").imageNotFound;d.setAttribute("src",a.url);d.style.visibility="hidden";return b("OptimisticAdPreviewResults").SUCCESS},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").INSTAGRAM,b("AdsAPIInstagramPosition").STREAM,b("AdsAPIAdAssetCustomizationRuleFields").IMAGE_LABEL,b("AdsAPIAdAssetFeedImagesFields").HASH,b("AdsAssetFeedAssetUtils").getImages)]};e.exports=a}),null);
__d("OptimisticAdPreviewIGFeedVideoEffect",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetVideoFields","AdsAPIAdgroupPaths","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH],update:function(a,c){__p&&__p();if(c==null)return b("OptimisticAdPreviewResults").SKIPPED;c=b("AdsVideoStore").get(c);if(!c)return b("OptimisticAdPreviewErrors").videoNotFound;if(c.download_sd_url==null||c.preferredThumbnail==null||c.preferredThumbnail.uri==null)return b("OptimisticAdPreviewErrors").videoMissingMetadata;a.setAttribute("src",c.download_sd_url);a.setAttribute("poster",c.preferredThumbnail.uri);return b("OptimisticAdPreviewResults").SUCCESS},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").INSTAGRAM,b("AdsAPIInstagramPosition").STREAM,b("AdsAPIAdAssetCustomizationRuleFields").VIDEO_LABEL,b("AdsAPIAdAssetVideoFields").VIDEO_ID,b("AdsAssetFeedAssetUtils").getVideos)]};e.exports=a}),null);
__d("OptimisticAdPreviewIGMessageEffect",["cx","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdgroupPaths","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={name:"ig-message",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;c===null&&(c="");var d=c.match(/(([^\u0000-\u007F]|\w|[\'!\"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~])+)|\s+/g);if(!d)if(c==="")return b("OptimisticAdPreviewResults").SUCCESS;else return b("OptimisticAdPreviewErrors").unsupportedMessageString;if(c.length!==d.reduce(function(a,b){return a+b.length},0))return b("OptimisticAdPreviewErrors").unsupportedMessageString;Array.from(a.getElementsByTagName("span")).forEach(function(a){a.getAttribute("data-ad-preview")==="ig-caption"&&a.parentNode!=null&&a.parentNode.removeChild(a)});h(a,d);return b("OptimisticAdPreviewResults").SUCCESS},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").INSTAGRAM,b("AdsAPIInstagramPosition").STREAM,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").TEXT,b("AdsAssetFeedAssetUtils").getTextFromAdgroup)]};var h=function(a,b){__p&&__p();b.forEach(function(b){__p&&__p();var c=document.createElement("span");(b.indexOf("#")||b.indexOf("@"))&&(c.className+="_wd9");a.insertBefore(c,a.firstChild);if(b===""){var d=document.createElement("span");d.setAttribute("data-ad-preview","ig-caption");a.insertBefore(d,c.firstChild);d.innerText=" "}else if(b==="\n"){d=document.createElement("br");d.setAttribute("data-ad-preview","ig-caption");a.insertBefore(d,c.firstChild)}else{d=document.createElement("span");d.setAttribute("data-ad-preview","ig-caption");a.insertBefore(d,c.firstChild);d.innerText=b}})};e.exports=a}),null);
__d("OptimisticAdPreviewImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=a.querySelector("[data-ad-preview=image]");if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;var f=b("OptimisticAdPreviewUtils").getCrop(c);if(f===null)return b("OptimisticAdPreviewErrors").invalidCrops;var g=f[1][0]-f[0][0];f=f[1][1]-f[0][1];e.style.paddingBottom=f*(a.clientWidth/g)+"px";f=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,e,c,f)}};e.exports=a}),null);
__d("OptimisticAdPreviewImageEffect",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedImagesFields","AdsAPIAdgroupPaths","AdsAPIFacebookPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewUtils","OptimisticAdPreviewYielders"],(function(a,b,c,d,e,f){"use strict";a={name:"image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c)},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").FACEBOOK,b("AdsAPIFacebookPosition").FEED,b("AdsAPIAdAssetCustomizationRuleFields").IMAGE_LABEL,b("AdsAPIAdAssetFeedImagesFields").HASH,b("AdsAssetFeedAssetUtils").getImages)]};e.exports=a}),null);
__d("OptimisticAdPreviewLinkDescriptionEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"link-description",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.LINK_DESCRIPTION],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD,b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").linkDescriptionRemoved;if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewMessageEffect",["AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdgroupPaths","AdsAPIFacebookPosition","AdsAPIPublisherPlatform","AdsAssetFeedAssetUtils","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewYielders","React","ReactDOM","TextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"message",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();c=c;if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;c===null&&(c="");if(c.indexOf("@[")!==-1)return b("OptimisticAdPreviewErrors").mentionsNotSupported;c=c.split("\n\n");b("ReactDOM").render(b("React").createElement(b("React").Fragment,null,c.map(function(a,c){return b("React").createElement("p",{key:a+c},b("React").createElement(b("TextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.replace(/^\s*/,"")}))})),a);return b("OptimisticAdPreviewResults").SUCCESS},yielders:[b("OptimisticAdPreviewYielders").placementAssetCustomizationYielder(b("AdsAPIPublisherPlatform").FACEBOOK,b("AdsAPIFacebookPosition").FEED,b("AdsAPIAdAssetCustomizationRuleFields").BODY_LABEL,b("AdsAPIAdAssetFeedBodiesFields").TEXT,b("AdsAssetFeedAssetUtils").getTextFromAdgroup)]};e.exports=a}),null);
__d("OptimisticAdPreviewMobileCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"cta",id:"cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){a=a.querySelector("span");if(a)return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c);else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=d}),null);
__d("OptimisticAdPreviewMobileCarouselCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,h=b("ApiCallToActionFields").TYPE,i=function(a,c){a=a.querySelector("[data-ad-preview=carousel-cta]");if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;a=a.querySelector("span");if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;c=b("getByPath")(c,[g,h]);return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)};a={name:"carousel",id:"mobile-carousel-CTA",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],mediaFormats:[b("AdsMediaFormat").CAROUSEL],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};e.exports=a}),null);
__d("OptimisticAdPreviewVideoEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;var d=b("AdsVideoStore").get(c);if(!d)return b("OptimisticAdPreviewErrors").videoNotFound;var e=a.getAttribute("data-store");if(e===null||e===void 0)return b("OptimisticAdPreviewErrors").videoNotFound;e=JSON.parse(e);e.src=d.download_sd_url;e.videoID=c;e.rootID=c;a.setAttribute("data-store",JSON.stringify(e));return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewVideoThumbnailEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";a={name:"video-cover",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;a.style.background='center / cover url("'+c+'")';return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewEffectsAggregator",["AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","OptimisticAdPreviewANInterstitialEffect","OptimisticAdPreviewCarouselDescriptionEffect","OptimisticAdPreviewCarouselHeadlineEffect","OptimisticAdPreviewCarouselImageCropEffect","OptimisticAdPreviewCarouselImageEffect","OptimisticAdPreviewDesktopCarouselCTAEffect","OptimisticAdPreviewDesktopCarouselImageCropEffect","OptimisticAdPreviewDesktopCarouselImageEffect","OptimisticAdPreviewDesktopCTAEffect","OptimisticAdPreviewDesktopDisplayLinkEffect","OptimisticAdPreviewDesktopImageCropEffect","OptimisticAdPreviewDesktopImageEffect","OptimisticAdPreviewDesktopVideoEffect","OptimisticAdPreviewDisplayLinkEffect","OptimisticAdPreviewErrors","OptimisticAdPreviewHeadlineEffect","OptimisticAdPreviewIGCTAEffect","OptimisticAdPreviewIGFeedImageCropEffect","OptimisticAdPreviewIGFeedImageEffect","OptimisticAdPreviewIGFeedVideoEffect","OptimisticAdPreviewIGMessageEffect","OptimisticAdPreviewImageCropEffect","OptimisticAdPreviewImageEffect","OptimisticAdPreviewLinkDescriptionEffect","OptimisticAdPreviewMessageEffect","OptimisticAdPreviewMobileCarouselCTAEffect","OptimisticAdPreviewMobileCTAEffect","OptimisticAdPreviewResults","OptimisticAdPreviewVideoEffect","OptimisticAdPreviewVideoThumbnailEffect","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map,h=[b("OptimisticAdPreviewIGCTAEffect"),b("OptimisticAdPreviewIGMessageEffect"),b("OptimisticAdPreviewMessageEffect"),b("OptimisticAdPreviewImageCropEffect"),b("OptimisticAdPreviewImageEffect"),b("OptimisticAdPreviewMobileCTAEffect"),b("OptimisticAdPreviewHeadlineEffect"),b("OptimisticAdPreviewDisplayLinkEffect"),b("OptimisticAdPreviewLinkDescriptionEffect"),b("OptimisticAdPreviewVideoEffect"),b("OptimisticAdPreviewVideoThumbnailEffect"),b("OptimisticAdPreviewCarouselHeadlineEffect"),b("OptimisticAdPreviewCarouselDescriptionEffect"),b("OptimisticAdPreviewMobileCarouselCTAEffect"),b("OptimisticAdPreviewCarouselImageEffect"),b("OptimisticAdPreviewCarouselImageCropEffect"),b("OptimisticAdPreviewDesktopCTAEffect"),b("OptimisticAdPreviewDesktopImageEffect"),b("OptimisticAdPreviewDesktopImageCropEffect"),b("OptimisticAdPreviewDesktopDisplayLinkEffect"),b("OptimisticAdPreviewDesktopCarouselCTAEffect"),b("OptimisticAdPreviewDesktopCarouselImageEffect"),b("OptimisticAdPreviewDesktopCarouselImageCropEffect"),b("OptimisticAdPreviewDesktopVideoEffect"),b("OptimisticAdPreviewIGFeedImageEffect"),b("OptimisticAdPreviewIGFeedImageCropEffect"),b("OptimisticAdPreviewIGFeedVideoEffect"),b("OptimisticAdPreviewANInterstitialEffect")],i=function(a,c,d,e,f){__p&&__p();var g=new(b("AdsAPIAdgroupRecord"))(d);g=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(g);if(a.mediaFormats&&!a.mediaFormats.includes(g))return b("OptimisticAdPreviewResults").SKIPPED;if(a.formats&&!a.formats.includes(e))return b("OptimisticAdPreviewResults").SKIPPED;g=a.paths.map(function(a){return b("getByPath")(c,a)}).filter(function(a){return a!==void 0});e=(a.yielders||[]).map(function(a){try{return a(c,d)}catch(a){return void 0}}).filter(function(a){return a!==void 0});e=[].concat(e,g);if(e.length===0)return b("OptimisticAdPreviewResults").SKIPPED;if(e.length>1)return b("OptimisticAdPreviewErrors").effectHadMultiplePathValues;g=f.querySelector('[data-ad-preview="'+a.name+'"]');return!g?b("OptimisticAdPreviewErrors").annotatedElementNotFound:a.update(g,e[0],d)};a=function(a,c,d,e){var f=e;if(a===void 0)return g([["noSpecChanges",b("OptimisticAdPreviewResults").SKIPPED]]);return!f?g([["all",b("OptimisticAdPreviewErrors").previewContainerNotFound]]):g(h.map(function(e){return[e.id||e.name,i(e,b("nullthrows")(a),c,d,f)]}))};e.exports={run:a}}),null);
__d("getPathsFromSpec",[],(function(a,b,c,d,e,f){"use strict";e.exports=function a(b){return b&&typeof b==="object"&&b.constructor===Object&&Object.getOwnPropertyNames(b).length>0?Object.keys(b).map(function(c){return a(b[c]).map(function(a){return[c].concat(a)})}).reduce(function(a,b){return a.concat(b)},[]):[[]]}}),null);
__d("getSpecsDiff",["FBLogger","isSpecEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();if(a===c)return void 0;var d=b("isSpecEmpty")(a),e=b("isSpecEmpty")(c);if(d&&e)return void 0;if(e)return null;if(d)return c;e=typeof a;switch(e){case"number":return isNaN(a)?c:a===c?void 0:c;case"boolean":case"string":return a===c?void 0:c;case"object":if(Array.isArray(a))return!Array.isArray(c)?c:h(a,c);if(!(i(a)&&i(c))){b("FBLogger")("ads").mustfix('Unsupported spec object type "%s"',e);return!1}d=new Set(Object.keys(a).concat(Object.keys(c)));d=d.values();var f={};for(var j=d.next();j.done===!1;j=d.next()){if(j.value==="__dataID__")continue;var k=g(a[j.value],c[j.value]);k!==void 0&&(f[j.value]=k)}return Object.keys(f).length?f:void 0;default:b("FBLogger")("ads").mustfix('Unsupported spec object type "%s"',e);return void 0}}function h(a,b){var c=[];for(var d=0,e=Math.max(a.length,b.length);d<e;d++){var f=g(a[d],b[d]);f!==void 0&&(c[d]=f)}return c.length>0?c:void 0}function i(a){return Object.prototype.toString.call(a)==="[object Object]"}e.exports=g}),null);
__d("hasWatermarkNotice",["ShutterstockImageUtils"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){return a!=null&&b("ShutterstockImageUtils").isStockImageURL(a)}}),null);
__d("AdsAdgroupPreview.react",["cx","fbt","Promise","AdPreviewIFrameResizeListener","AdFacebookStoryAdPreviewDisclaimer.react","AdPreviewBorderStyles","AdPreviewLoadingOverlayTypes","AdsAdgroupOptimisticAdPreviewErrorAction","AdsAdgroupOptimisticAdPreviewSkippedAction","AdsAdgroupOptimisticAdPreviewSuccessAction","AdsAdgroupPreviewDisclaimer.react","AdsAdgroupPreviewError.react","AdsAdgroupPreviewLoader.react","AdsAdgroupPreviewLoadErrorDataAction","AdsAdgroupPreviewLoadFinishedDataAction","AdsAdgroupPreviewLoadStartDataAction","AdsAdgroupPreviewLoadSuccessDataAction","AdsAdgroupPreviewRefreshButton.react","AdsAdgroupPreviewRefreshLink.react","AdsAdgroupPreviewSelectedPreviewLoadedDataAction","AdsAdgroupTypeUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCCCategory","AdsFeedStoryShim.react","AdsInstagramStoryAdPreviewDisclaimer.react","AdsMediaFormat","AdsStaticGuidanceCard.react","AdsInterfaceCreativeLoggingEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsPerfTiming","AdsPreviewApiFormats","AdsPreviewBugReportContainer.react","AdsPreviewLogger","AdsPreviewUtils","AdsStockImageWatermarkNotice.react","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","Arbiter","BUIProgressBar.react","CenteredContainer.react","DOM","DynamicAdsPreviewRenderType","ErrorMarker.react","FBLogger","OptimisticAdPreviewAccuracyV2TypedLogger","OptimisticAdPreviewEffectsAggregator","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","React","ShutterstockImageUtils","UIPagelet","WaitTimeArea.react","WebApiApplication","AdsAdgroupPlacementEditorWrapper.react","areEqual","areSpecsEqual","deleteByPath","firstx","getByPath","getPathsFromSpec","getSpecsDiff","ghlTestUBT","gkx","guid","hasWatermarkNotice","immutable","isAdsManagerAdsPreviewScrollFixEnabled.gkx","mergeDeep","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("AdPreviewIFrameResizeListener");var i=b("AdsInterfacesLogEvents").Event,j=b("immutable").Map,k=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.STATIC_FALLBACK_SPEC.path,l=function(a,c){return b("gkx")("886306")?b("promiseDone")(b("Promise").resolve(a).then(c.dispatch)):c.dispatch(a)},m={Initial:"Initial",First:"First",Second:"Second"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.pageletContainer=b("React").createRef(),d.$1=!1,d.$2=null,d.$3=null,d.$4=!1,d.$5=!1,d.$6=!1,d.$7=null,d.$8=null,d.$9=null,d.$10=!1,d.$11=null,d.$12=0,d.state={error:null,loading:!1,pagelet:null,pageletID:null,pageletElement:null,targetID:b("guid")(),loadingCount:0,activeContainer:m.Initial,isWaitingForPreviewToLoad:!1,softError:null,fbtraceID:null},d.onRefreshClick=function(){var a;b("AdsInterfacesLogger").log({eventName:i.ADGROUP_PREVIEW_REFRESH_CLICK,data:(a={},a.ad_preview_format=d.props.format,a.adgroup_spec=d.props.adgroupSpec,a.fbtrace_id=d.state.fbtraceID,a)});b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:d.$15(1)},{line:"1625",module:"AdsAdgroupPreview.react.js"});d.$21(d.props)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("gkx")("910850")?!b("areEqual")(this.props,a)||!b("areEqual")(this.state,c):!b("areEqual")(this.props,a)||!b("areEqual")(babelHelpers["extends"]({loadingCount:0},this.state),babelHelpers["extends"]({loadingCount:0},c))};d.getNonPageLetContent=function(){return!this.state.error?null:b("React").createElement(b("ErrorMarker.react"),{name:"AdsAdgroupPreview"},b("React").createElement("div",{className:"_14-t"},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"adgroup_preview_loading_error",textData:[{type:"PARAGRAPH",data:{text:this.state.error}}]}})))};d.getDecoratorOverlay=function(){return this.props.decorator&&this.props.decorator.isDecoratorEnabled(this.props.format)?b("React").createElement("div",{className:"_n3z",ref:"previewContainerOverlayPlaceHolder"}):null};d.getWatermarkNotice=function(){return!this.props.imageURL||!b("ShutterstockImageUtils").isStockImageURL(this.props.imageURL)?null:b("React").createElement(b("AdsStockImageWatermarkNotice.react"),{className:"_3-94 _3-8x"})};d.getIGStoryDisclaimer=function(a){return this.props.format!==b("AdsPreviewApiFormats").INSTAGRAM_STORY?null:b("React").createElement(b("AdsInstagramStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(a?" _3-8w":"")+(a?"":" _3-8x")})};d.getFBStoryCaptionDisclaimer=function(a){return this.props.format!==b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE||!this.props.hasInstagramStoryFormat?null:b("React").createElement(b("AdFacebookStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(a!=null?" _3-8w":"")+(a!=null?" _3-8x":"")})};d.getNewFooterSection=function(a){return!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44 _6un-"},b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,isBugReportButtonDisabled:a,previewParams:this.$13(this.props)}),b("React").createElement("div",{className:"_3-9b"},b("React").createElement(b("AdsAdgroupPreviewRefreshButton.react"),{isDisabled:a,onRefreshClick:this.onRefreshClick})))};d.getOldFooterSection=function(){return this.state.loading&&!this.$6||!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44"+(b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")()?" _7p9v":"")},b("React").createElement(b("AdsAdgroupPreviewRefreshLink.react"),{onRefreshClick:this.onRefreshClick}),b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,isBugReportButtonDisabled:!1,previewParams:this.$13(this.props)}))};d.getCenteredContaienr=function(a){return b("React").createElement(b("CenteredContainer.react"),{className:(a==null?"hidden_elem":"")+(this.state.loading?" _5zm":""),vertical:!0},a)};d.getNewLoader=function(){var a=b("gkx")("677855");return b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+(a&&!this.state.isWaitingForPreviewToLoad?" hidden_elem":"")},b("React").createElement(b("AdsAdgroupPreviewLoader.react"),{format:this.props.format}))};d.getProgressBar=function(){var a;if(!this.state.loading||this.$6||this.props.loadingOverlay!==b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR)return null;a=(a=this.props.adgroupSpec.creative)==null?void 0:a.object_type;return b("React").createElement(n,{isLoading:this.state.loading,objectType:a})};d.getOldOverlay=function(){var a=this.props.parentContainerHeight,c=null;a=a?a:"100%";this.state.loading&&!this.$6&&(this.props.loadingOverlay===b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR?c=b("React").createElement("div",{className:"_4aqb",style:{height:a}}):c=b("React").createElement("div",{className:"_1eg2",style:{height:a}},b("React").createElement(b("AdsFeedStoryShim.react"),null)));return c};d.getPreviewContainers=function(){var a=b("gkx")("677855");return b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+" _228q"+(a&&!this.$6&&this.state.isWaitingForPreviewToLoad?" hidden_elem":""),id:this.state.targetID,key:this.state.targetID,ref:this.pageletContainer},this.props.shouldOptimisticallyUpdate?b("React").createElement("div",{className:this.state.activeContainer!==m.Second?"hidden_elem":"","data-ad-preview":this.state.activeContainer!==m.First?"previewContainer":null,id:this.state.targetID+"-1",ref:"previewContainer"}):null,b("React").createElement("div",{className:this.state.activeContainer===m.Second?"hidden_elem":"","data-ad-preview":this.state.activeContainer===m.First?"previewContainer":null,id:this.state.targetID+"-2",ref:"previewContainer2"}))};d.render=function(){var a=b("gkx")("677855"),c=b("gkx")("915580"),d=b("gkx")("917200"),e=c?null:this.getNonPageLetContent(),f=b("gkx")("898358"),g=f||this.props.shouldShowPlacementEditorEntry||this.props.shouldRenderIGStoryRecommendation,h=this.getProgressBar(),i=this.getOldOverlay(),j=this.getDecoratorOverlay(),k=a?this.getNewFooterSection(this.state.loading&&!this.$6):this.getOldFooterSection(),l=d?null:this.getWatermarkNotice(),m=d?null:this.getIGStoryDisclaimer(l!=null),n=d?null:this.getFBStoryCaptionDisclaimer(l!=null);m=m||n;n=b("React").createElement(b("React").Fragment,null,this.getPreviewContainers(),a&&!this.$6&&this.getNewLoader());var o=b("AdsAdgroupTypeUtils").isVideoAd(this.props.adgroupSpec)?b("AdsMediaFormat").VIDEO:b("AdsMediaFormat").IMAGE;g=g?b("React").createElement(b("AdsAdgroupPlacementEditorWrapper.react"),{format:this.props.format,isStorifyEnabled:this.props.isStorifyEnabled,mediaFormat:o,previewPlugin:this.props.previewPlugin,shouldRenderIGStoryRecommendation:this.props.shouldRenderIGStoryRecommendation,shouldShowPlacementEditorEntry:this.props.shouldShowPlacementEditorEntry,showRefreshAndReportButtons:f&&this.props.showFooterSection,onCustomizeClick:this.props.onPlacementEditorClick},n):n;o=d?b("hasWatermarkNotice")(this.props.imageURL):null;return b("React").createElement("div",null,b("React").createElement("div",{className:"_5zg"},!a&&h,!a&&i,g,d?b("React").createElement(b("React").Fragment,null,o?b("React").createElement(b("AdsStockImageWatermarkNotice.react"),{className:"_3-94 _3-8x"}):null,this.props.format!==b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE||this.props.hasInstagramStoryFormat?b("React").createElement(b("AdsAdgroupPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,format:this.props.format}):null):b("React").createElement(b("React").Fragment,null,l,m),c?b("React").createElement(b("AdsAdgroupPreviewError.react"),{error:this.state.error,loading:this.state.loading}):this.getCenteredContaienr(e),j),k)};d.$14=function(a,c){__p&&__p();c=c||this.$15(1);var d=j(a).filter(function(a){return Object.prototype.hasOwnProperty.call(b("OptimisticAdPreviewErrors"),a)});if(!d.isEmpty()){l({errors:d,loggingData:c},b("AdsAdgroupOptimisticAdPreviewErrorAction"));this.$6=!1;return}d=a.filter(function(a){return a===b("OptimisticAdPreviewResults").SUCCESS});this.$6=!d.isEmpty();if(!this.$6){l({loggingData:c},b("AdsAdgroupOptimisticAdPreviewSkippedAction"));return}this.$16();l({loggingData:c,successes:Array.from(d.keys())},b("AdsAdgroupOptimisticAdPreviewSuccessAction"))};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this,d=this.$17(this.props),e=this.$17(a);this.$4=!1;if(!b("areSpecsEqual")(d,e)||!this.$18(d,e,a)||!this.$19(a)||this.props.lastForceUpdateTimeStamp!==a.lastForceUpdateTimeStamp||this.props.previewRenderType!==a.previewRenderType||this.props.endDateTimeStamp!==a.endDateTimeStamp||this.props.startDateTimeStamp!==a.startDateTimeStamp){this.$4=!0;d=null;try{d=b("getSpecsDiff")(this.props.adgroupSpec,a.adgroupSpec);e=b("getPathsFromSpec")(d);this.$8=JSON.stringify(Object.assign.apply(Object,[{}].concat(e.map(function(a){var d;return d={},d[a.join(".")]=b("getByPath")(c.props.adgroupSpec,a),d}))));this.$9=JSON.stringify(Object.assign.apply(Object,[{}].concat(e.map(function(c){var d;return d={},d[c.join(".")]=b("getByPath")(a.adgroupSpec,c),d}))))}catch(a){this.$8=a.message}e=this.$15(1);l({loggingData:e},b("AdsAdgroupPreviewLoadStartDataAction"));if(this.props.shouldOptimisticallyUpdate&&!this.state.loading){d=d||b("getSpecsDiff")(this.props.adgroupSpec,a.adgroupSpec);try{this.$7=JSON.stringify(d)}catch(a){this.$7=a.message}d=this.$20(d,a.adgroupSpec);this.$14(d,e)}this.$21(a)}};d.$20=function(a,c){__p&&__p();var d=this.$22();if(this.props.format===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD){var e=d.getElementsByTagName("iframe")[0];if(!e)return j([["all",b("OptimisticAdPreviewErrors").iframeNotFound]]);try{d=e.contentWindow.document}catch(a){return j([["all",b("OptimisticAdPreviewErrors").iframeBlocked]])}}return b("OptimisticAdPreviewEffectsAggregator").run(a,c,this.props.format,d)};d.$22=function(){return this.state.activeContainer===m.First?this.refs.previewContainer2:this.refs.previewContainer};d.$23=function(){return this.state.activeContainer===m.First?this.refs.previewContainer:this.refs.previewContainer2};d.$16=function(){var a=this.$22();a=a.getElementsByTagName("iframe")[0];a&&a.contentWindow.document.documentElement&&a.contentWindow.document.documentElement.scrollHeight>0&&(a.style.height=a.contentWindow.document.documentElement.scrollHeight+"px")};d.$18=function(a,c,d){var e,f=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),g=new(b("AdsAPIAdgroupRecord"))(d.adgroupSpec);e=(e=f.creative)==null?void 0:e.object_type;if(e===b("ApiAdObjectTypes").INVALID)return!0;if(!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(f,this.props.adgroupSpecPathPlugin)||!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(g,d.adgroupSpecPathPlugin))return!0;e=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(f,this.props.adgroupSpecPathPlugin);f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(g,d.adgroupSpecPathPlugin);return b("areEqual")(b("getByPath")(a,e),b("getByPath")(c,f))};d.$19=function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path;return b("areEqual")(b("getByPath")(this.props.adgroupSpec,c),b("getByPath")(a.adgroupSpec,c))};d.componentDidMount=function(){__p&&__p();var a=this;b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$15(1)},{line:"1029",module:"AdsAdgroupPreview.react.js"});this.$1=!0;this.$21(this.props);this.$3=b("Arbiter").subscribe("AdPreview/IFrameLoadSuccess",function(c,d){__p&&__p();c=d.iframe;if(a.state.pageletID!==a.$2)return;d=null;var e=null;if(a.props.shouldOptimisticallyUpdate&&(a.$6||!a.$5)){var f=a.$23().getElementsByTagName("iframe")[0];(a.state.activeContainer===m.Initial||f&&c.id===f.id)&&(a.$22()&&(d=a.$22().getElementsByTagName("iframe")[0]),e=f,a.setState(function(a){return{activeContainer:a.activeContainer===m.First?m.Second:m.First}}))}a.$5=!0;if(e&&d)try{c=d.contentWindow.document.getElementById("viewport");f=e.contentWindow.document.getElementById("viewport");f&&c&&new(b("OptimisticAdPreviewAccuracyV2TypedLogger"))().setOptimisticPreviewSource(c.innerHTML).setServerPreviewSource(f.innerHTML).setDiffSpec(a.$7).log()}catch(c){d=babelHelpers["extends"]({},a.$15(),{errorType:c});b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:d},{line:"1095",module:"AdsAdgroupPreview.react.js"})}b("AdsPreviewLogger").log("preview_load_finished",a.$15())})};d.componentDidUpdate=function(a,c){var d=this;this.$1&&!this.state.loading&&!this.state.pageletElement&&(c.pageletElement||c.loading)&&(this.props.onFinishedLoading&&this.props.onFinishedLoading(),this.props.shouldLogLoading&&b("AdsAdgroupPreviewSelectedPreviewLoadedDataAction").dispatch({loggingData:this.$15()},{line:"1120",module:"AdsAdgroupPreview.react.js"}));b("ghlTestUBT")(function(a){d.$10=a});this.props.onErrorCleared&&(this.state.error==null&&c.error!=null||this.state.softError==null&&c.softError!=null)&&this.props.onErrorCleared()};d.componentWillUnmount=function(){this.$1=!1,this.$24(),this.$3&&b("Arbiter").unsubscribe(this.$3)};d.$24=function(){b("gkx")("910850")?this.$11&&this.$11.cancel():this.state.pagelet&&this.state.pagelet.cancel()};d.$17=function(a){var c=a.accountID,d=a.adgroupSpec,e=a.assetLabel,f=a.borderStyle,g=a.dynamicCustomization,h=a.enableMsitePlayVideo,i=a.format,j=a.hideUfiInMobileNF,k=a.isShared,l=a.loadingOverlay,m=a.locale,n=a.objective,p=a.pagePostDetails,q=a.placePageIDs,r=a.productItemIDs;a=a.isDCOPreviewWithFixedIndex;return b("gkx")("913530")?o({accountID:c,adgroupSpec:d,assetLabel:e,borderStyle:f,dynamicCustomization:g,enableMsitePlayVideo:h,format:i,hideUfiInMobileNF:j,isShared:k,loadingOverlay:l,locale:m,objective:n,pagePostDetails:p,placePageIDs:q,productItemIDs:r,isDCOPreviewWithFixedIndex:a}):{adaccountid:c,adid:d.id,appid:b("WebApiApplication").getClientID(),assetlabel:e,borderstyle:f,creative:d.creative,creativeID:d.creativeID,dynamiccustomization:g,enablemsiteplayvideo:!!h,format:i,hideufiinmobilefeed:j,isshared:!!k,loadingoverlay:l,locale:m,pagePostDetails:p,placePageID:q&&q.loadState===b("AdsLoadState_LEGACY").LOADED&&q.list&&q.list.length>0?q.list[0]:null,productitemids:r&&r.hasValue()?r.getValueEnforcing().toArray():null,videodata:{ad_objective:n},isDCOPreviewWithFixedIndex:a}};d.$13=function(a){__p&&__p();var c,d=this.$17(a),e=d.adid,f=d.creative,g=d.creativeID,h=d.isDCOPreviewWithFixedIndex;d=babelHelpers.objectWithoutPropertiesLoose(d,["adid","creative","creativeID","isDCOPreviewWithFixedIndex"]);var i=a.enableComment,j=new(b("AdsAPIAdgroupRecord"))(a.adgroupSpec);c=(c=j.creative)==null?void 0:c.object_type;if(c!==b("ApiAdObjectTypes").INVALID){c=b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(j,a.adgroupSpecPathPlugin);c=c?b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(j,a.adgroupSpecPathPlugin):null;j=c?b("getByPath")(f,c.slice(1)):null;if(j&&c){j=j.some(function(a){return a.picture&&a.image_hash});if(j){j=b("mergeDeep")(f);b("getByPath")(j,c.slice(1)).forEach(function(a){a.picture&&a.image_hash&&delete a.picture});f=j}}}c=k.slice(1);if(a.previewRenderType!==b("DynamicAdsPreviewRenderType").FALLBACK&&b("getByPath")(f,c)){j=b("mergeDeep")(f);b("deleteByPath")(j,c);f=j}c=babelHelpers["extends"]({},d,{enableComment:i,enddate:a.endDateTimeStamp,render_type:a.previewRenderType,startdate:a.startDateTimeStamp});return a.shouldRenderPreviewByID?a.hasCreativeIDOverride?babelHelpers["extends"]({},c,{creativeid:g}):babelHelpers["extends"]({},c,{adid:e}):babelHelpers["extends"]({},c,{creative:f,isDCOPreviewWithFixedIndex:h})};d.$21=function(a){__p&&__p();var c=this;a=this.$13(a);this.$24();b("gkx")("910850")?(this.$12++,this.setState({isWaitingForPreviewToLoad:!0})):this.setState(function(a){return{loadingCount:a.loadingCount+1,isWaitingForPreviewToLoad:!0}});var d=null;(this.refs.previewContainer||this.refs.previewContainer2)&&(this.$2=b("guid")(),d=b("UIPagelet").loadFromEndpoint("AdPreviewPageletController",!this.props.shouldOptimisticallyUpdate||this.$6||!this.$5?this.$23():this.$22(),babelHelpers["extends"]({},a,{version:b("AdsPreviewUtils").getPageletAPIVersion()}),{append:!1,bundle:!1,crossPage:!0,displayCallback:function(a){c.$25(c.state.targetID,a)},errorHandler:function(){c.$26(c.state.targetID)},transportErrorHandler:function(){c.$26(c.state.targetID)},finallyHandler:function(a){return c.$27(a)}}));this.props.onStartedLoading&&this.props.onStartedLoading();b("gkx")("910850")?(this.$11=d,this.setState({error:null,loading:!this.$6,pageletElement:this.refs.previewContainer||null})):this.setState({error:null,loading:!this.$6,pagelet:d,pageletElement:this.refs.previewContainer||null})};d.$28=function(){var a=b("DOM").scry(this.pageletContainer.current,"[data-preview-error]"),c=this.props.onPreviewRenderError;if(a.length>0&&c){a=b("firstx")(a).innerText;c(a);this.setState({softError:a})}else this.setState({softError:null})};d.$25=function(a,c){__p&&__p();var d=this;if(!this.$1||a!==this.state.targetID)return;b("AdsAdgroupPreviewLoadSuccessDataAction").dispatch({loggingData:this.$15()},{line:"1409",module:"AdsAdgroupPreview.react.js"});b("gkx")("910850")&&(this.$11=null);this.setState(b("gkx")("910850")?{error:null,loading:!1,isWaitingForPreviewToLoad:!1}:{error:null,loading:!1,pagelet:null,isWaitingForPreviewToLoad:!1},function(){__p&&__p();try{c();d.props.decorator&&d.props.decorator.decoratePagelet(d.$23(),d.refs.previewContainerOverlayPlaceHolder,d.props.format);var a=d.$23().getElementsByTagName("iframe")[0];if(!a){d.props.shouldOptimisticallyUpdate&&(d.$6||!d.$5)&&d.setState(function(a){return{activeContainer:a.activeContainer===m.First?m.Second:m.First}});if(d.$22()){a=d.$22().getElementsByTagName("iframe")[0];try{if(a){a=a.contentWindow.document.getElementById("viewport");a&&new(b("OptimisticAdPreviewAccuracyV2TypedLogger"))().setOptimisticPreviewSource(a.innerHTML).setServerPreviewSource(d.$23().innerHTML).setDiffSpec(d.$7).log()}}catch(c){a=babelHelpers["extends"]({},d.$15(),{errorType:c});b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:a},{line:"1483",module:"AdsAdgroupPreview.react.js"})}}b("AdsPreviewLogger").log("preview_load_finished",d.$15());d.$5=!0}d.setState({pageletElement:null,pageletID:d.$2});d.$28()}catch(a){d.setState({error:a.message}),d.props.onPageletResponseDisplayError&&d.props.onPageletResponseDisplayError(a.message),b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:d.$15()},{line:"1507",module:"AdsAdgroupPreview.react.js"})}})};d.$26=function(a){if(!this.$1||a!==this.state.targetID)return;a=h._("Unable to generate preview");b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:this.$15()},{line:"1525",module:"AdsAdgroupPreview.react.js"});b("gkx")("910850")?(this.$11=null,this.setState({error:a,loading:!1,pageletElement:null,isWaitingForPreviewToLoad:!1})):this.setState({error:a,loading:!1,pagelet:null,pageletElement:null,isWaitingForPreviewToLoad:!1});this.props.onPageletRenderError&&this.props.onPageletRenderError(a);b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").ADS_ADGROUP_PREVIEW_GENERATE_ERROR,data:(a={},a.objective=this.props.objective,a.ad_preview_format=this.props.format,a)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)};d.$27=function(a){if(!this.$1){b("FBLogger")("ads").warn("AdsAdgroupPreview tried to call setState after unmounting");return}this.setState({fbtraceID:a&&a.getResponseHeader("X-FB-Trace-ID")})};d.$15=function(a){a===void 0&&(a=0);var c=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),d=null;this.props.shouldLogLoading!==void 0&&(d=this.props.shouldLogLoading?"visible":"not_visible");return{format:this.props.format,errorType:this.$10?"adBlocker":void 0,isEdit:this.props.isEdit||this.$4,linkPostFormat:b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,this.props.adgroupSpecPathPlugin),mediaFormat:b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c),loadingCount:(b("gkx")("910850")?this.$12:this.state.loadingCount)+a,timeSinceLoad:Date.now()-b("AdsPerfTiming").start,adgroupID:b("AdsAPIAdgroupRecordUtils").getID(c),metaMessage:this.state.targetID,hasObjectStorySpec:b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c),actionType:this.$7,previewParent:this.props.previewParent,visibilityType:d,newValue:this.$9,oldValue:this.$8}};return c}(b("React").Component);a.defaultProps={borderStyle:b("AdPreviewBorderStyles").STANDARD,decorator:null,enableComment:!1,enableMsitePlayVideo:!0,hideUfiInMobileNF:!1,loadingOverlay:b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR,shouldShowPlacementEditorEntry:!1,showFooterSection:!0};function n(a){var c=a.isLoading?"visible":"hidden";a=a.objectType;var d="AdsAdgroupPreview";a===b("ApiAdObjectTypes").VIDEO&&(d="AdsAdgroupPreview - Video");return b("React").createElement("div",{className:"_5f6f","data-testid":"ads-progress-bar",style:{visibility:c}},b("React").createElement(b("WaitTimeArea.react"),{name:d,owner:"ads_advanced_creative"},b("React").createElement(b("BUIProgressBar.react"),{flexibleWidth:!0,isBuffering:!0,padding:!1})))}function o(a){var c=a.accountID,d=a.adgroupSpec,e=a.assetLabel,f=a.borderStyle,g=a.dynamicCustomization,h=a.enableMsitePlayVideo,i=a.format,j=a.hideUfiInMobileNF,k=a.isShared,l=a.loadingOverlay,m=a.locale,n=a.objective,o=a.pagePostDetails,p=a.placePageIDs,q=a.productItemIDs;a=a.isDCOPreviewWithFixedIndex;return{adaccountid:c,adid:d.id,appid:b("WebApiApplication").getClientID(),assetlabel:e,borderstyle:f,creative:d.creative,creativeID:d.creativeID,dynamiccustomization:g,enablemsiteplayvideo:!!h,format:i,hideufiinmobilefeed:j,isshared:!!k,loadingoverlay:l,locale:m,pagePostDetails:o,placePageID:p&&p.loadState===b("AdsLoadState_LEGACY").LOADED&&p.list&&p.list.length>0?p.list[0]:null,productitemids:q&&q.hasValue()?q.getValueEnforcing().toArray():null,videodata:{ad_objective:n},isDCOPreviewWithFixedIndex:a,canrenderwatchandbrowsepreview:[b("AdsAPIObjectives").CONVERSIONS,b("AdsAPIObjectives").LINK_CLICKS,b("AdsAPIObjectives").WEBSITE_CONVERSIONS].includes(n)}}e.exports=a}),null);
__d("AdsAdgroupPreviewV2InstreamPacUpsellNux.react",["cx","fbt","AdsCCCategory","AdsStaticGuidanceCard.react","React","URI","emptyFunction","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement("div",{className:"_30ub"},b("React").createElement("div",{className:"_3-8i"},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").RECOMMENDATION_BEST_PRACTICE,messageID:"vertical_video_pac_upsell",header:h._("Add a Square or Landscape Video to Reduce Your Cost Per View"),textData:[{type:"PARAGRAPH",data:{text:h._("Adding videos with multiple aspect ratios allows your campaign to deliver in more places, such as in-stream video. This could reduce your cost per 10-second view by 50\u0025 or more.")}}],ctaData:[{type:"LINK",data:{href:new(b("URI"))("/business/ads-guide/video/facebook-instream-video/video-views"),text:h._("Learn More"),onCallToAction:b("emptyFunction")}}]}})))}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2OverlayedRenderingVideoNotice.react",["cx","fbt","AdsCCCategory","AdsStaticGuidanceCard.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(!a.isOverlayedVideoRendering)return null;a=b("React").createElement("div",{className:"_101l"},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"notice that show that the overlayed video is being rendered",textData:[{type:"PARAGRAPH",data:{text:h._("The overlay on your video is being prepared.")}}]}}));return a}e.exports=a}),null);
__d("AdsPreviewApiFormatLabels",["fbt","AdsPreviewApiFormats"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={};a[b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD]=g._("Desktop Right Column");a[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD]=g._("Desktop News Feed");a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_THREAD_MEDIA]=g._("Messenger");a[b("AdsPreviewApiFormats").MESSENGER_DESKTOP_THREAD_MEDIA]=g._("Messenger");a[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD]=g._("Mobile News Feed");a[b("AdsPreviewApiFormats").MOBILE_FEED_BASIC]=g._("Feature Phone");a[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL]=g._("Audience Network Interstitial");a[b("AdsPreviewApiFormats").MOBILE_BANNER]=g._("Audience Network Banner");a[b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE]=g._("Audience Network Medium Rectangle");a[b("AdsPreviewApiFormats").MOBILE_NATIVE]=g._("Audience Network Native");a[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD]=g._("Instagram");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO]=g._("Audience Network In-Stream Video");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_TV]=g._("Connected TV");a[b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP]=g._("Facebook In-Stream Video (Desktop)");a[b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE]=g._("Facebook In-Stream Video (Mobile)");a[b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD]=g._("Instant Articles");a[b("AdsPreviewApiFormats").GROUPS_DESKTOP]=g._("Facebook Groups (Desktop)");a[b("AdsPreviewApiFormats").GROUPS_MOBILE]=g._("Facebook Groups (Mobile)");a[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP]=g._("Suggested Videos (Desktop)");a[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE]=g._("Suggested Videos (Mobile)");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO]=g._("Audience Network Rewarded Video");a[b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE]=g._("Facebook Stories");a[b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_CONTEXTUAL]=g._("Instagram Explore Feed");a[b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_IMMERSIVE]=g._("Instagram Explore Video");a[b("AdsPreviewApiFormats").INSTAGRAM_IGTV]=g._("Instagram IGTV");a[b("AdsPreviewApiFormats").INSTAGRAM_STORY]=g._("Instagram Stories");a[b("AdsPreviewApiFormats").MARKETPLACE_DESKTOP]=g._("Desktop Marketplace");a[b("AdsPreviewApiFormats").MARKETPLACE_MOBILE]=g._("Mobile Marketplace");a[b("AdsPreviewApiFormats").MARKETPLACE_SEARCH_ADS_MOBILE]=g._("Search Results (Marketplace)");a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA]=g._("Messenger Inbox");a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_STORY_MEDIA]=g._("Messenger Stories");a[b("AdsPreviewApiFormats").SEARCH_SERP_ADS_MOBILE]=g._("Search Results");a[b("AdsPreviewApiFormats").WATCH_FEED_MOBILE]=g._("Facebook Suggested Video (Facebook Watch Feed - Mobile)");a[b("AdsPreviewApiFormats").WHATSAPP_STATUS_MEDIA]=g._("WhatsApp Status");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_MOBILE]=g._("Audience Network In-Stream Video (Mobile)");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INTERSTITIAL_DESKTOP]=g._("Audience Network Interstitial (Desktop)");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP]=g._("Audience Network Medium Rectangle (Desktop)");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_BANNER]=g._("Audience Network Banner");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_DESKTOP]=g._("Audience Network (Desktop)");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_OUTSTREAM_VIDEO]=g._("Audience Network Out-Stream Video");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO_DESKTOP]=g._("Audience Network Rewarded Video (Desktop)");a[b("AdsPreviewApiFormats").MOBILE_FULLWIDTH]=g._("Mobile (Full width)");e.exports=a}),null);
__d("AdsImageInfoStoreUtils",["AdsAPIAdgroupPaths","AdsChildAttachmentsUtils","AdsImageIDUtils","AdsImageInfoStore","ApiObjectStorySpecLinkFields","getByPath","mergeDeep","setByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.generateFullSizeURLAdgroup=function(a){a=b("mergeDeep")({},a);return b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)?this.$1(a):this.$2(a)};c.getFullSizeAdsSimpleImageFromHash=function(a,c){c=b("AdsImageIDUtils").getImageID({accountID:c,hash:a});return c?b("AdsImageInfoStore").getFullSize(c).getValue():null};c.$2=function(a){this.$3(a,[b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.PICTURE]);return a};c.$1=function(a){var c=this,d=b("AdsChildAttachmentsUtils").getChildAttachmentsPathFromSpec(a);if(d==null)return a;d=b("getByPath")(a,d);d.forEach(function(a){return c.$3(a,[[b("ApiObjectStorySpecLinkFields").PICTURE]])});return a};c.$3=function(a,c){c.some(function(c){var d=b("getByPath")(a,c);d=b("AdsImageIDUtils").getImageID({url:d});if(!d)return!1;d=b("AdsImageInfoStore").getFullSizeURL(d);d=d.hasValue()?d.getValueEnforcing():null;b("setByPath")(a,c,d);return!0})};return a}();e.exports=new a()}),null);
__d("AdsSphericalPhotoErrorUtils",["AdsImageInfoStoreUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageInfoStoreUtils").getFullSizeAdsSimpleImageFromHash,h={isAnySphericalPhotoAd:function(a,b){return h.isSphericalPhotoPostAd(a,b)||h.isSphericalPhotoLinkAd(a,b)},isSphericalPhotoPostAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.photo_data)==null?void 0:a.image_hash;a=a?g(a,b):null;return!a?!1:a.isSphericalPhoto},isSphericalPhotoLinkAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.link_data)==null?void 0:a.image_hash;a=a?g(a,b):null;return!a?!1:a.isSphericalPhoto}};e.exports=h}),null);
__d("AdsAdPreviewUtils",["errorCode","errorDesc","fbt","AdPreview.react","AdsAccountUtils","AdsAdgroupSpecUtils","AdsAdgroupTypeUtils","AdsAPIObjectives","AdsAssetFeedUtils","AdsCanvasAdUtils","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsDynamicAdsUtils","AdsError","AdsInstreamCapabilityUtils","AdsLocalAwarenessUtils","AdsMovieAdsUtils","AdsPageLikeUtils","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetPluginUtils","AdsPlacementAssetUtils","AdsPlacementPluginList","AdsPreviewApiFormatLabels","AdsPreviewApiFormats","AdsPreviewsPlugins","AdsPreviewUtils","AdsSphericalPhotoErrorUtils","AdsWebsiteAdUtils","gkx","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getErrorsForAdgroup:function(a,c,d,e,f,g,k,l){__p&&__p();f=[];switch(e){case b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD:j._adgroupSupportsDesktopFeed(c,d,g)||f.push(b("AdsError").createError("desktopnewsfeed-preview-unavailable",i._("This ad format is not currently supported on desktop news feed"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MOBILE_FEED_BASIC:j._adgroupSupportsMbasic(c,d,g)||f.push(b("AdsError").createError("featurephone-preview-unavailable",i._("This ad format is not currently supported on feature phones"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));j.placementHasFlexibleImageForAssetCustomization(c,a,e,k,l)&&f.push(b("AdsError").createError(1693005,h._(function(a,b){return a._("Your ad won't be delivered to {placement} because the aspect ratio of your image is not currently compatible with it. To deliver to this placement, customize it to use a 1.91:1 (horizontal) image, either by cropping it or by uploading a new image.",[a._param("placement",b.placement)])},{placement:b("AdsPreviewApiFormatLabels")[e]}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MOBILE_BANNER:case b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL:case b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE:case b("AdsPreviewApiFormats").MOBILE_NATIVE:case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP:j._adgroupSupportsPartnerNetwork(e,c,d,g)||f.push(b("AdsError").createNotice("adnetwork-preview-unavailable",i._("This ad format is not currently supported on the Audience Network"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD:j.adgroupSupportsRightColumn(c,d,g)||f.push(b("AdsError").createError("rightcolumn-preview-unavailable",i._("This ad format is not currently supported on the right column"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTAGRAM_STANDARD:j.adgroupSupportsInstagram(c,g)||f.push(b("AdsError").createError("instagram-preview-unavailable",i._("This ad format is not currently supported on Instagram"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_CONTEXTUAL:case b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_IMMERSIVE:j._adgroupSupportsInstagramExplore(c,g)||f.push(b("AdsError").createError("instagram-preview-unavailable",i._("This ad format is not currently supported on Instagram Explore"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTAGRAM_STORY:j._adgroupSupportsInstagramStory(c,g)||f.push(b("AdsError").createError("instagram-preview-unavailable",i._("This ad format is not currently supported on Instagram Stories"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA:j._adgroupSupportsMessengerInbox(c,g)||f.push(b("AdsError").createError(2016030,h._(function(a,b){return a._("This ad format is not currently supported on Messenger Inbox.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));j.placementHasFlexibleImageForAssetCustomization(c,a,e,k,l)&&f.push(b("AdsError").createError(1693005,h._(function(a,b){return a._("Your ad won't be delivered to {placement} because the aspect ratio of your image is not currently compatible with it. To deliver to this placement, customize it to use a 1.91:1 (horizontal) image, either by cropping it or by uploading a new image.",[a._param("placement",b.placement)])},{placement:b("AdsPreviewApiFormatLabels")[e]}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE:case b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP:if(j._adgroupSupportsInstreamVideoImageAds(a,c,e,d)||j._adgroupSupportsInstreamVideoImageCarouselAds(a,c,e,d))break;if(b("AdsAdgroupTypeUtils").isVideoAd(c)&&e===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE&&(d===b("AdsAPIObjectives").CONVERSIONS&&!b("AdsAccountUtils").hasCapabilityFromList(a,"CAN_USE_FB_INSTREAM_CONVERSION_VIDEO_ADS")||d===b("AdsAPIObjectives").APP_INSTALLS&&!b("AdsAccountUtils").hasCapabilityFromList(a,"ADS_INSTREAM_VIDEO_PLACEMENT_APP_INSTALL"))){f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported on In-Stream Videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}if((d===b("AdsAPIObjectives").EVENT_RESPONSES||d===b("AdsAPIObjectives").LEAD_GENERATION)&&b("AdsAdgroupTypeUtils").isVideoAd(c)){f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported on In-Stream Videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}if(e===b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP&&d===b("AdsAPIObjectives").CONVERSIONS){f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported on In-Stream Videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}j._adgroupSupportsInstreamVideo(c)||f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported on In-Stream Videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO:j._adgroupSupportsInstreamVideo(c)||f.push(b("AdsError").createError(2016049,h._(function(a,b){return a._("This ad format is not currently supported on In-Stream Videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO:j._adgroupSupportsRewardedVideo(c)||f.push(b("AdsError").createError(2016054,h._(function(a,b){return a._("This ad format is not currently supported on Rewarded Videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD:j._adgroupSupportsInstantArticle(c,d,g)||f.push(b("AdsError").createError(2016034,h._(function(a,b){return a._("This ad format is not currently supported on Instant Articles.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));j.placementHasFlexibleImageForAssetCustomization(c,a,e,k,l)&&f.push(b("AdsError").createError(1693005,h._(function(a,b){return a._("Your ad won't be delivered to {placement} because the aspect ratio of your image is not currently compatible with it. To deliver to this placement, customize it to use a 1.91:1 (horizontal) image, either by cropping it or by uploading a new image.",[a._param("placement",b.placement)])},{placement:b("AdsPreviewApiFormatLabels")[e]}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE:case b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP:j._adgroupSupportsSuggestedVideo(c)||f.push(b("AdsError").createError(2016048,h._(function(a,b){return a._("This ad format is not currently supported on Suggested Videos")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").WATCH_FEED_MOBILE:j._adgroupSupportsWatchFeedMobile(c,g,a)||f.push(b("AdsError").createError(2016048,h._(function(a,b){return a._("This ad format is not currently supported on Suggested Videos")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MARKETPLACE_SEARCH_ADS_MOBILE:j._adgroupSupportsMarketplaceSearch(c,g,a)||f.push(b("AdsError").createError(2016078,h._(function(a,b){return a._("This ad format is not currently supported in Marketplace Search.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").SEARCH_SERP_ADS_MOBILE:j._adgroupSupportsGeneralSearch(c,g,a)||f.push(b("AdsError").createError(2016077,h._(function(a,b){return a._("This ad format is not currently supported in Search.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE:j._adgroupSupportsFBStories(c,g,a)||f.push(b("AdsError").createError(2016070,h._(function(a,b){return a._("This ad format is not currently supported on Facebook Stories.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MESSENGER_MOBILE_STORY_MEDIA:j._adgroupSupportsMessengerStories(c,g,a)||f.push(b("AdsError").createError(2016076,h._(function(a,b){return a._("This ad format is not currently supported on Messenger Stories.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").WHATSAPP_STATUS_MEDIA:j._adgroupSupportsWhatsappStatus(c,g)||f.push(b("AdsError").createError(2016080,h._(function(a,b){return a._("This ad format is currently not supported on WhatsApp Status.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MARKETPLACE_MOBILE:j._adgroupSupportsMarketplaceMobile(c)||f.push(b("AdsError").createError("mobile-marketplace-preview-unavailable",i._("This ad format is not currently supported on Mobile Marketplace"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}if(b("AdsAccountUtils").hasCapabilityFromList(a,"ALWAYS_SHOW_PAC_PHASE2_V2")){d=b("AdsPreviewUtils").getPositionFromFormat(e);b("AdsAssetFeedUtils").isPACAdgroupFromSpec(c)&&d&&a&&!b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForPlacementAssetCustomizationPhase2({platform:d.platform,position:d.position},a)&&f.push(b("AdsError").createError(2016099,h._(function(a,b){return a._("Creative customizations by placement are not compatible with {placement}.",[a._param("placement",b.placement)])},{placement:b("AdsPreviewApiFormatLabels")[e]}),{field:b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME,title:"This Ad Won't Be Delivered to This Placement."}))}return f},_adgroupSupportsDesktopFeed:function(a,c,d){return!b("AdsLocalAwarenessUtils").isLocalAwarenessAndHasCallNowCallToAction(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isSphericalPhotoLinkAd(a,d)},_adgroupSupportsMbasic:function(a,c,d){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)&&!b("AdsPageLikeUtils").isPageLikeVideo(a,c)&&!b("AdsWebsiteAdUtils").isWebsiteVideoAdgroup(a,c)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d)&&!b("AdsAdgroupTypeUtils").isVideoAd(a)},_adgroupSupportsPartnerNetwork:function(a,c,d,e){return d===b("AdsAPIObjectives").BRAND_AWARENESS&&!b("AdsAdgroupTypeUtils").isVideoAd(c)?!1:!b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(c.creative)&&(a===b("AdsPreviewApiFormats").MOBILE_BANNER?!b("AdsAdgroupTypeUtils").isVideoAd(c)&&!b("AdsChildAttachmentsUtils").isStaticCarouselAd(c):a===b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL||!(b("AdsWebsiteAdUtils").getMultiVideoProductCount(c.creative)>0))&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(c,e)&&!b("AdsMovieAdsUtils").isMovieAds(c)},adgroupSupportsRightColumn:function(a,c,d){d=d!=null&&d!==""&&b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d);return!b("AdsPageLikeUtils").isPageLikeVideo(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&d!==!0&&!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},adgroupSupportsInstagram:function(a,c){c=c!=null&&c!==""&&b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c);return!c&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsInstagramExplore:function(a,c){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&j.adgroupSupportsInstagram(a,c)},_adgroupSupportsInstagramStory:function(a,c){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&j.adgroupSupportsInstagram(a,c)},_adgroupSupportsMessengerInbox:function(a,c){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsInstreamVideo:function(a){return b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsInstreamVideoImageAds:function(a,c,d,e){return!b("AdsAdgroupTypeUtils").isVideoAd(c)&&!b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&!b("AdsChildAttachmentsUtils").isCarouselAd(c)&&d===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE&&(e===b("AdsAPIObjectives").CONVERSIONS&&b("AdsAccountUtils").hasCapabilityFromList(a,"ALLOW_INSTREAM_ONLY_FOR_NON_INTERRUPTIVE_PREVIEW")||e===b("AdsAPIObjectives").APP_INSTALLS&&b("AdsAccountUtils").hasCapabilityFromList(a,"ALLOW_INSTREAM_NON_INTERRUPTIVE_APP_INSTALL")||e===b("AdsAPIObjectives").REACH&&b("AdsAccountUtils").hasCapabilityFromList(a,"ALLOW_INSTREAM_NON_INTERRUPTIVE_REACH")||e===b("AdsAPIObjectives").LEAD_GENERATION&&b("AdsAccountUtils").hasCapabilityFromList(a,"ALLOW_INSTREAM_NON_INTERRUPTIVE_LEADGEN")||e===b("AdsAPIObjectives").EVENT_RESPONSES&&b("AdsAccountUtils").hasCapabilityFromList(a,"ALLOW_INSTREAM_NON_INTERRUPTIVE_EVENT_RESPONSES"))},_adgroupSupportsInstreamVideoImageCarouselAds:function(a,c,d,e){return!b("AdsAdgroupTypeUtils").isVideoAd(c)&&!b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&b("AdsChildAttachmentsUtils").isCarouselAd(c)&&d===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE&&b("AdsInstreamCapabilityUtils").isEligibleForInstreamImageCarouselAds(a,e)},_adgroupSupportsRewardedVideo:function(a){return b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsInstantArticle:function(a,c,d){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d)&&!b("AdsDynamicAdsUtils").isSingleImageDynamicAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsSuggestedVideo:function(a){return b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsWatchFeedMobile:function(a,c,d){c=b("AdsAccountUtils").hasCapabilityFromList(d,"ENABLE_WATCH_FEED_MOBILE_DISPLAY_FORMAT");d=b("AdsAccountUtils").hasCapabilityFromList(d,"ENABLE_WATCH_FEED_ADS_FORMAT_CTA");var e=b("AdsAdgroupSpecUtils").getCallToAction(a);return c&&b("AdsAdgroupTypeUtils").isVideoAd(a)&&(!e||e&&d)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsFBStories:function(a,c,d){var e=b("AdsAccountUtils").hasCapabilityFromList(d,"ENABLE_CANVAS_FOR_FB_STORY_ADS");d=b("AdsAccountUtils").hasCapabilityFromList(d,"ENABLE_CAROUSEL_FOR_FB_STORY_ADS");var f=b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)||b("AdsChildAttachmentsUtils").isCarouselAd(a);return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&(e||!b("AdsCanvasAdUtils").isCanvasAd(a.creative))&&(d||!f)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsWhatsappStatus:function(a,c){var d=b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)||b("AdsChildAttachmentsUtils").isCarouselAd(a);return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!d&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsMarketplaceMobile:function(a){return!b("AdsMovieAdsUtils").isMovieAds(a)&&!b("AdsDynamicAdsUtils").isDynamicAdForRetail(a)},_adgroupSupportsMarketplaceSearch:function(a,c,d){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsGeneralSearch:function(a,c,d){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsMessengerStories:function(a,c,d){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsChildAttachmentsUtils").isStaticCarouselAd(a)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsChildAttachmentsUtils").isCarouselAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},placementHasFlexibleImageForAssetCustomization:function(a,c,d,e,f){__p&&__p();a=b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)||b("AdsAssetFeedUtils").isDLOAdgroupFromSpec(a)||b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(a);if(!a||!b("AdsAccountUtils").hasCapabilityFromList(c,"ADS_SINGLE_IMAGE_FLEXIBLE_HEIGHT_FOR_PAC2")||e==null||f==null)return!1;a=e.assetsPlacements;if(a==null)return!1;c=b("AdsPlacementPluginList").getPositions(f);c=c.filter(function(a){a=a.getPreviews;return a&&b("AdsPreviewsPlugins").keys(a(f).toArray()).getList().some(function(a){a=a.apiFormat;return a===d})}).first();var g=b("AdsPlacementAssetPluginUtils").getPlatformKeyFromPositionKey(c.key),h=b("AdsPlacementAssetPluginUtils").getAPIPositionForPlacementPosition(c.key);c=a.findEntry(function(a){return a.findIndex(function(a){return a.platform===g&&a.position===h})!==-1});if(c==null)return!1;c=c[0];var i=b("gkx")("833143");if(!i){i=a.filter(function(a){return b("AdsPlacementAssetUtils").containsPlacementThatSupportsFlexibleImageAspectRatio(a)}).keySeq();a=i.some(function(a){return j._isImageAssetWithFlexibleAspectRatio(e.assets,e.cropsByAsset,a)});i=j._isImageAssetWithFlexibleAspectRatio(e.assets,e.cropsByAsset,c);return a&&i}return j._isImageAssetWithFlexibleAspectRatio(e.assets,e.cropsByAsset,c)},_isImageAssetWithFlexibleAspectRatio:function(a,b,c){__p&&__p();a=a.get(c);if(a.format!=="image")return!1;var d=0,e=0;if(b!=null&&b.has(c)){b=b.get(c);c=Object.values(b)[0];c!=null&&(d=c[1][1]-c[0][1],e=c[1][0]-c[0][0])}else d=a.height,e=a.width;return d===0?!1:e/d<=1.91*.97}};e.exports=j}),null);
__d("adsDynamicOverlayisCreativeToolsSupportedForFormat",["AdsCreativeToolsSupportedFormats","AdsDynamicAdsUtils","BanzaiODS"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=b("AdsDynamicAdsUtils").getAdgroupFormatOption(a);if(!a)return!1;var d=b("AdsCreativeToolsSupportedFormats"),e;d.supported_formats?e=d.supported_formats:(b("BanzaiODS").bumpEntityKey("dynamic_ads_overlay","old creative tools format detected"),e=d);return((d=e[a])!=null?d:[]).includes(c)}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react",["cx","fbt","AdsCCCategory","AdsChildAttachmentsUtils","AdsDynamicAdsUtils","AdsDynamicOverlayUtils","AdsOverlaysUtils","AdsStaticGuidanceCard.react","ApiObjectStorySpecFormatOption","React","adsDynamicOverlayisCreativeToolsSupportedForFormat"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.previewPlugin;a=a.previewSpec;a=a.adgroupSpec;var d=c.isCustomOverlaysSupported!=null&&c.isCustomOverlaysSupported(),e=b("AdsOverlaysUtils").hasCustomOverlaysFromSpec(a),f=c.isVideoOverlaysSupported!=null&&c.isVideoOverlaysSupported();a=b("AdsOverlaysUtils").hasVideoOverlaysFromSpec(a);return(d||!e)&&(f||!a)?null:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"placement_that_does_not_support_showing_custom_overlays",textData:[{type:"PARAGRAPH",data:{text:h._("Overlays aren't supported on this placement yet, so people on {Placement Label} will see your ad without the overlay.",[h._param("Placement Label",c.name)])}}]}}function c(a){var c=a.previewPlugin;a=a.previewSpec;a=a.adgroupSpec;var d=b("adsDynamicOverlayisCreativeToolsSupportedForFormat")(a,c.apiFormat);a=b("AdsDynamicOverlayUtils").usingCreativeTools(a);return d||!a?null:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"placement_that_does_not_support_creative_tools",textData:[{type:"PARAGRAPH",data:{text:h._("Creative tools aren't supported for {Placement Label} in this format yet, so people won't see your customizations.",[h._param("Placement Label",c.name)])}}]}}function d(a){a.previewPlugin;a=a.previewSpec;var c=a.adgroupSpec,d=b("AdsDynamicAdsUtils").getAdgroupFormatOption(c);if(d==null||d!==b("ApiObjectStorySpecFormatOption").CAROUSEL_IMAGES_MULTI_ITEMS)return null;if(b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselAd(c))return null;d=a.productItemIDs;return d==null||d.isLoading()||!d.hasValue()||d.getValueEnforcing().size!==1?null:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"single_card_dpa_carousel",textData:[{type:"PARAGRAPH",data:{text:h._("Your carousel ad has one card because there's only one eligible product in your product set.")}}]}}var i=[a,c,d];function f(a){var c=i.reduce(function(b,c){return b!=null?b:c(a)},null);return c==null?null:b("React").createElement("div",{className:"_101l"},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:c}))}e.exports=f}),null);
__d("AdsPlacementEditorPreviewFailureCard.react",["cx","CenteredContainer.react","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_2pi0",style:{height:a.height,width:a.width,boxSizing:"border-box",background:"#F2F3F5"}},b("React").createElement(b("CenteredContainer.react"),{className:"_2pi1 _3-8-",horizontal:!0},b("React").createElement("div",{className:"_2pig"},b("React").createElement(b("Image.react"),{src:"/images/instagram/ads/preview/error-icon.png"}))),b("React").createElement("div",{className:"_2pi0 _2pid"},b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",palette:"dark",textAlign:"center"},a.errorMessage)))}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Section.react",["ix","cx","errorCode","fbt","AdsAccountUtils","AdsAdgroupPreview.react","AdsAdgroupPreviewRefreshButton.react","AdsAdgroupPreviewsV2OverlayedRenderingVideoNotice.react","AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react","AdsAdgroupPreviewV2InstreamPacUpsellNux.react","AdsAdgroupTypeUtils","AdsAdPreviewUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCCCategory","AdsChildAttachmentsUtils","AdsError","AdsErrorBoundary.react","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMovieAdsUtils","AdsPlacementEditorPreviewFailureCard.react","AdsPreviewApiFormats","AdsPreviewV2ErrorUtils","AdsStaticGuidanceCard.react","ApiAdCreativeFields","CenteredContainer.react","Image.react","React","StorifyFunnelLogger","StorifyFunnelLoggerAction","adsOptimisticPreviewQESelector","asset","isAdsManagerAdsPreviewScrollFixEnabled.gkx","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("AdsInterfacesLogEvents").Event,l=b("AdsMovieAdsUtils").MOVIE_ID_PLACEHOLDER;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={forceResetErrorCount:0,serverPreviewErrorMessage:null},d.onRefreshClick=function(){var a;b("AdsInterfacesLogger").log({eventName:k.ADGROUP_PREVIEW_REFRESH_CLICK,data:(a={},a.ad_preview_format=d.props.format,a.adgroup_spec=d.props.previewSpec.adgroupSpec,a)});d.setState(function(a){return{forceResetErrorCount:a.forceResetErrorCount+1}})},d.handleServerPreviewError=function(a){var c;if(((c=d.props)==null?void 0:c.isStorify)===!0){b("StorifyFunnelLogger").logAction(b("StorifyFunnelLoggerAction").PORTAL_PREVIEW_ERROR,{portal_preview_source:(c=d.props.previewFailureCardSpec)==null?void 0:c.source})}d.setState({serverPreviewErrorMessage:a})},d.handleClearedServerPreviewError=function(){d.setState({serverPreviewErrorMessage:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_41qe"},b("React").createElement(o,babelHelpers["extends"]({forceResetErrorCount:this.state.forceResetErrorCount,handleClearedServerPreviewError:this.handleClearedServerPreviewError,handleServerPreviewError:this.handleServerPreviewError,serverPreviewErrorMessage:this.state.serverPreviewErrorMessage,onRefreshClick:this.onRefreshClick},this.props)))};return c}(b("React").PureComponent);a.defaultProps={isStorifyEnabled:!1,shouldShowPlacementEditorEntry:!1};function m(a){var c=a.previewSpec,d=c.adgroupSpec;c=c.objective;return!d.creative?[]:b("AdsPreviewV2ErrorUtils").getValidationErrors(d,a.previewSpec.dynamicPreviewItemType,c,a.previewSpec.campaign,a.previewRenderType,a.account)}function n(a,c){if(c.length===0)return null;r("preview_creative_invalid",a,c[0]);return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(c[0],b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")()&&a.sectionHeight!=null?"auto":a.sectionHeight)}function o(a){__p&&__p();var c=a.previewSpec,d=c.adgroupSpec;c=c.objective;c=b("AdsAdPreviewUtils").getErrorsForAdgroup(a.accountCapabilities,d,c,a.format,null,a.accountID,a.placementAssetSelectorProps,a.eligibilityInformation);if(c.length){c=c[0];return b("React").createElement("div",{className:"_2ph-",style:{height:a.sectionHeight}},b("React").createElement(b("AdsStaticGuidanceCard.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,header:c.title,messageID:"ads_previews_section_error",textData:[{type:"PARAGRAPH",data:{text:c.message}}]}}))}c=m(a);var e=n(a,c),f=new(b("AdsAPIAdgroupRecord"))(d);if(q(a,f,c)&&e!==null)return e;if(a.processingInstagramOrganicVideo===!0)return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(b("AdsError").createError(1815279,j._("Your video is processing. You'll see a preview here once it's finished.")),a.sectionHeight);if(b("AdsAccountUtils").hasCapabilityFromList(a.accountCapabilities,"CAN_USE_MOVIE_ADS")){var g=f.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.MOVIE_ID);if(g!=null&&g===l)return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(b("AdsError").createError(2016081,j._("Please enter a valid Facebook Movie Details Page ID to preview this ad.")),a.sectionHeight)}if((a.format===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE||a.format===b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP)&&a.shouldRenderInstreamVideoPACUpsell===!0)return b("React").createElement("div",{className:"_30ub"},b("React").createElement("div",{className:"_3-8i"},b("React").createElement(b("AdsAdgroupPreviewV2InstreamPacUpsellNux.react"),null)));if(d.creative&&d.creative[b("ApiAdCreativeFields").ASSET_FEED_SPEC]){g=d.creative;g=babelHelpers["extends"]({},g);a.shouldRenderPreviewByID===!0&&delete g[b("ApiAdCreativeFields").ASSET_FEED_SPEC];d.creative=g}g=babelHelpers["extends"]({},a.previewSpec,{adgroupSpec:d});var h=a.sectionHeight!=null&&a.sectionHeight!==0?a.sectionHeight:"100%",i=a.hasOverlayedVideoRendering===!0&&a.plugin.isVideoOverlaysSupported===!0&&a.plugin.isVideoOverlaysSupported(),k={};b("AdsAccountUtils").hasCapabilityFromList(a.accountCapabilities,"ADS_AMM_RELOAD_ADS_PREVIEW_IF_FAILS")&&(k={fallbackComponent:function(){return b("React").createElement(p,{onRefreshClick:a.onRefreshClick})},forceResetErrorCount:a.forceResetErrorCount});var o=a.serverPreviewErrorMessage!=null&&a.previewFailureCardSpec!=null;o=b("React").createElement("div",null,b("React").createElement("div",{className:o?"_1oi3":""},b("React").createElement(b("AdsAdgroupPreview.react"),babelHelpers["extends"]({},g,{accountID:a.accountID,adgroupRecord:f,adgroupSpecPathPlugin:a.adgroupSpecPathPlugin,borderStyle:a.borderStyle,decorator:a.previewSpec.decorator,enableComment:a.enableComment,enableMsitePlayVideo:!0,endDateTimeStamp:a.endDateTimeStamp,format:a.format,hasInstagramStoryFormat:a.hasInstagramStoryFormat,imageURL:a.imageURL,isEdit:a.isEdit,isStorifyEnabled:a.isStorifyEnabled,key:"ad-preview-"+d.id,lastForceUpdateTimeStamp:a.lastForceUpdateTimeStamp,loadingOverlay:a.loadingOverlay,parentContainerHeight:a.sectionHeight,previewParent:a.previewParent,previewPlugin:a.previewSpec.previewPlugins.get(a.format),previewRenderType:a.previewRenderType,shouldLogLoading:a.shouldLogLoading,shouldOptimisticallyUpdate:a.shouldOptimisticallyUpdate,shouldRenderIGStoryRecommendation:a.shouldRenderIGStoryRecommendation,shouldShowPlacementEditorEntry:a.shouldShowPlacementEditorEntry,showFooterSection:a.showFooterSection,startDateTimeStamp:a.startDateTimeStamp,onErrorCleared:a.handleClearedServerPreviewError,onFinishedLoading:a.onFinishedLoading,onPageletRenderError:a.handleServerPreviewError,onPageletResponseDisplayError:a.handleServerPreviewError,onPlacementEditorClick:a.onPlacementEditorClick,onPreviewRenderError:a.handleServerPreviewError,onStartedLoading:a.onStartedLoading}))),o?b("React").createElement(b("AdsPlacementEditorPreviewFailureCard.react"),babelHelpers["extends"]({errorMessage:(d=(g=a.previewFailureCardSpec)==null?void 0:g.errorMessage)!=null?d:a.serverPreviewErrorMessage},a.previewFailureCardSpec)):null);return b("React").createElement(b("React").Fragment,null,q(a,f,c)?null:e,b("React").createElement("div",{className:"_30ub",style:{height:h}},b("React").createElement(b("AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react"),{previewPlugin:a.plugin,previewSpec:a.previewSpec}),b("React").createElement(b("AdsAdgroupPreviewsV2OverlayedRenderingVideoNotice.react"),{isOverlayedVideoRendering:!!i}),b("React").createElement(b("AdsErrorBoundary.react"),k,b("isAdsManagerAdsPreviewScrollFixEnabled.gkx")()?b("React").createElement("div",{className:e!=null?"_1oi3":""},o):o)))}function p(a){return b("React").createElement(b("CenteredContainer.react"),{className:"_7q6_",fullHeight:!0,vertical:!0},b("React").createElement(b("Image.react"),{src:g("612933")}),b("React").createElement("div",{className:"_7q70"},j._("Failed to load ad preview")),b("React").createElement(b("AdsAdgroupPreviewRefreshButton.react"),{onRefreshClick:a.onRefreshClick}))}function q(a,c,d){return a.shouldOptimisticallyUpdate===null||a.shouldOptimisticallyUpdate===!1||!a.optimisticAdPreviewQEParams||!a.optimisticAdPreviewQEParams.isOptimisticEmptyImageAdPreviewEnabled||b("AdsAssetFeedUtils").isSpecUsingAssetFeed(c)||b("AdsAdgroupTypeUtils").isVideoAd(c)||b("AdsChildAttachmentsUtils").isCarouselVideoAd(c,a.adgroupSpecPathPlugin)||d.length!==1||d[0].key!==2016024}function r(a,c,d){var e=new(b("AdsAPIAdgroupRecord"))(c.previewSpec.adgroupSpec);b("AdsInterfacesLogger").log({eventName:a,data:{ad_preview_format:c.format,adgroup_id:b("AdsAPIAdgroupRecordUtils").getID(e),error_type:d.key,is_edit:c.isEdit,link_post_format:b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(e,c.adgroupSpecPathPlugin),media_format:b("AdsAPIAdgroupRecordUtils").getSingleMediaType(e),message:d.message}})}e.exports=a}),null);
__d("AdsPreviewTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AUTO_CAROUSEL:null,DYNAMIC_LOCAL_ADS:null,DYNAMIC_LOCAL_ADS_WITH_PRODUCT:null,DYNAMIC_PRODUCT:null,STANDARD:null});e.exports=a}),null);
__d("AdsPreviewV2Utils",["AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsAssetFeedUtils","AdsCampaignUtils","AdsDynamicPreviewItemTypes","AdsLocalizedPlacementsUtils","AdsLocalUtils","AdsPlacementEligibilityInfoUtils","AdsPlacementPluginList","AdsPreviewsPlugins","AdsPreviewTypes","AdsUEditorAdgroupImageMutators","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","ApiAdCreativeFields","ApiAdCreativeStorySpecFields","ApiObjectStorySpecFormatOption","ApiObjectStorySpecLinkFields","FBJSON","getByPath","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiAdCreativeFields").OBJECT_STORY_SPEC,h=b("ApiAdCreativeFields").PRODUCT_SET_ID,i=b("ApiAdCreativeStorySpecFields").TEMPLATE_DATA,j=b("ApiObjectStorySpecLinkFields").FORMAT_OPTION,k="NEW_ADGROUP_ID";function a(a){return a.includes(k)}function l(a,c,d,e){__p&&__p();d=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);var f=b("AdsPreviewTypes").STANDARD;if(!c)return m(b("AdsPreviewTypes").STANDARD);var k=b("getByPath")(a,[g,i,j]);switch(c){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:if(k===b("ApiObjectStorySpecFormatOption").COLLECTION_VIDEO)break;f=b("getByPath")(a,[g,i])?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").LEAD_GENERATION:if(c===b("AdsAPIObjectives").APP_INSTALLS&&!b("AdsAppUtils").isMobileAppInstall(c,d)||k===b("ApiObjectStorySpecFormatOption").COLLECTION_VIDEO)break;d=b("getByPath")(a,[g,i]);f=d&&!b("AdsAssetFeedUtils").isCreativeWithAssetFeed(a)?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsLocalUtils").isLocalObjectiveSwitch(c):if(e==null||e===""){f=b("AdsPreviewTypes").STANDARD;break}k=a[h];f=k?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;break}return m(f)}function m(a){switch(a){case b("AdsPreviewTypes").STANDARD:return b("AdsDynamicPreviewItemTypes").NONE;case b("AdsPreviewTypes").AUTO_CAROUSEL:return b("AdsDynamicPreviewItemTypes").AUTO_CAROUSEL;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS:return b("AdsDynamicPreviewItemTypes").LOCATION;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:return b("AdsDynamicPreviewItemTypes").LOCATION_AND_PRODUCT;case b("AdsPreviewTypes").DYNAMIC_PRODUCT:return b("AdsDynamicPreviewItemTypes").PRODUCT;default:return b("AdsDynamicPreviewItemTypes").NONE}}function n(a,c,d){a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,adGroup:d});return d!=null?["MESSAGE_PAGE","GET_DIRECTIONS"].includes(b("AdsAPIAdgroupRecordUtils").getCallToActionType(d,a)):!1}function c(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=!1);if(a==null||e==null||c==null||d==null)return null;var h=d.buying_type,i=c.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);h=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(c,h,a,e,[],i);a=f?b("gkx")("832161")?b("AdsAssetFeedUtils").hasTargetRules(f):b("AdsAssetFeedUtils").hasAssetCustomizationRules(f):!1;e=b("immutable").Set();g&&f!=null&&b("AdsAssetFeedUtils").isPACAdgroupFromSpec(f)&&a?e=b("AdsPlacementPluginList").getFilteredPositions(h,f.getIn(b("AdsLocalizedPlacementsUtils").getTargetOrAssetCustomizationRulesPath())):e=b("AdsPlacementPluginList").getPositions(h);i=b("AdsPlacementEligibilityInfoUtils").getPreviewsFromPositions(h,e).toJS();g=b("AdsPreviewsPlugins").keys(i).getList();return n(d,c,f)?b("immutable").OrderedMap(g.filter(function(a){return!(a.apiFormat==="AUDIENCE_NETWORK_INSTREAM_VIDEO")}).map(function(a){return[a.apiFormat,a]})):b("immutable").OrderedMap(g.map(function(a){return[a.apiFormat,a]}))}function o(a){return a===b("AdsAPIObjectives").STORE_VISITS}function d(a,c,d){return d.creative?l(d.creative.toJS(),b("AdsAPICampaignGroupRecordUtils").getObjective(a),c,b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(a)):b("AdsDynamicPreviewItemTypes").NONE}function f(a,c,d){a=b("AdsAPICampaignGroupRecordUtils").getObjective(a);if(!o(a))return void 0;a=b("AdsCampaignUtils").getPlacePageSetID(c);c=b("AdsCampaignUtils").getTargetingApiSpec(c);return a!=null&&a!==""?d(b("FBJSON").stringify({targeting:c,placePageSetID:a})):void 0}function p(a,c,d){__p&&__p();d=d;a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,cleanedAdgroup:d});c=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(d,a);c&&(d=d.deleteIn(c));c=!!((a=d.creative)==null?void 0:a.object_story_spec);c&&(d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID));d=b("AdsUEditorAdgroupImageMutators").removeRedundantImageURL(d);c=!!((a=d.creative)==null?void 0:a.asset_feed_spec);d=c?d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID):d;return d}e.exports={shouldDisableAudienceNetworkInstreamVideo:n,getDynamicPreviewItemTypeForPreviewType:m,getDynamicPreviewItemTypeFromAdgroupSpec:l,getDynamicPreviewItemTypeFromAdObjects:d,getPlacePageIDs:f,getPreviewPlugins:c,isAdBeingCreated:a,needsPlacePageID:o,cleanAdgroupForPreview:p}}),null);
__d("AdsCarteFlexibleTargetingSpecTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").List(["interests","education_schools","education_majors","education_statuses","college_years","work_positions","work_employers","relationship_statuses","interested_in","user_adclusters","excluded_user_adclusters","conjunctive_user_adclusters","family_statuses","industries","life_events","political_views","politics","behaviors","income","net_worth","home_type","home_ownership","home_value","ethnic_affinity","generation","household_composition","moms","office_type"]);e.exports=a}),null);
__d("CarteDimensionTypes",["AdsCarteFlexibleTargetingSpecTypes","immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({AGE:null,GENDER:null,LOCATION:null,FLEXIBLE:null});a=b("immutable").Map({AGE:["age_max","age_min"],GENDER:["genders"],LOCATION:["geo_locations"],FLEXIBLE:b("AdsCarteFlexibleTargetingSpecTypes").toArray()});c=b("immutable").Map([["age_max",g.AGE],["age_min",g.AGE],["genders",g.GENDER],["geo_locations",g.LOCATION]].concat(b("AdsCarteFlexibleTargetingSpecTypes").map(function(a){return[a,g.FLEXIBLE]}).toArray()));d=b("immutable").List(["age_min","age_max","genders","geo_locations","flexible_spec"]);e.exports={CarteDimensions:g,CarteDimensionSpecFields:d,DimensionToSpecFieldMap:a,SpecFieldToDimensionMap:c}}),null);
__d("AdsCarteAssetCustomizationRuleUtils",["fbt","invariant","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdLabelFields","AdsAPITargetFields","AdsTargetingConstants","CarteDimensionTypes","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsTargetingConstants").GENDERS,j=b("CarteDimensionTypes").CarteDimensions;function a(a,b){return!!a&&a.has(b)}function c(a,c){a=a.getIn([c,b("AdsAPIAdLabelFields").NAME]);typeof a==="string"||h(0,1837);return a}function d(a,c){__p&&__p();a=a.getIn([b("AdsAPIAdAssetCustomizationRuleFields").CUSTOMIZATION_SPEC]);var d=[];a.has(b("AdsAPITargetFields").AGE_MIN)&&a.has(b("AdsAPITargetFields").AGE_MAX)&&c.contains(j.AGE)&&d.push(g._("{ageMin}-{ageMax}",[g._param("ageMin",a.get(b("AdsAPITargetFields").AGE_MIN)),g._param("ageMax",a.get(b("AdsAPITargetFields").AGE_MAX))]));if(a.has(b("AdsAPITargetFields").GENDERS)&&a.get(b("AdsAPITargetFields").GENDERS)instanceof b("immutable").List&&a.get(b("AdsAPITargetFields").GENDERS).size>0){c=a.get(b("AdsAPITargetFields").GENDERS).first();c===i.Men?d.push(g._("Men")):c===i.Women&&d.push(g._("Women"))}a.has(b("AdsAPITargetFields").GEO_LOCATIONS)&&a.get(b("AdsAPITargetFields").GEO_LOCATIONS).map(function(a){a instanceof b("immutable").List&&a.size>0&&a.first()instanceof b("immutable").Map&&a.first().has("name")&&d.push(a.first().get("name"))});a.map(function(a){a instanceof b("immutable").List&&a.size>0&&a.first()instanceof b("immutable").Map&&a.first().has("name")&&d.push(a.first().get("name"))});return d.join(" ")}e.exports={hasLabelFieldInRule:a,getLabelNameFromTargetingRule:c,generateSegmentName:d}}),null);
__d("AdsUEditorCampaignCarteSectionStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getCarteSectionTitle:function(){return g._("Segment Asset Customization")},getCarteSectionSubtitle:function(){return g._("Create ads for specific segments of your audience.")},getCarteL1SectionSubtitle:function(){return g._("Select a category before adding your audience segments")},getSegmentTitle:function(a){return g._("Segment {segment number}",[g._param("segment number",a)])}};e.exports=a}),null);
__d("AdsCarteAssetCustomizationSpecSelectors",["AdsAccountUtils","AdsAPIAdAssetCallToActionFields","AdsAPIAdAssetCustomizationRuleFields","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsBulkValueUtils","AdsCarteAccordionDataProvider","AdsCarteAssetCustomizationRuleUtils","AdsEmptyValue","AdsPlacementAssetTargetingRuleUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignCarteSectionStrings","AdsUniformValue","CarteSelectedDimensionsDataProvider","adsCreateSelector","adsUEditorAccountSelector","adsUEditorSelectedAdgroupsSelector","firstx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCarteAssetCustomizationRuleUtils").generateSegmentName;c=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector"),b("adsUEditorAccountSelector")],function(a,c){if(b("AdsAccountUtils").hasCapability(c,"CAN_USE_CARTE")&&a.length>0){c=b("firstx")(a);return b("AdsAssetFeedUtils").isDCAssetCustomizationAdgroupFromSpec(c)}return!1},{name:e.id+".adsCarteHasDCAssetCustomizationAssetFeedSelector"});d=b("adsCreateSelector")([b("AdsCarteAccordionDataProvider").toFluxSelector()],function(a){return a.selectedIndex},{name:e.id+".adsCarteSelectedSegmentIndexSelector"});f=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS),b("adsUEditorAccountSelector")],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){__p&&__p();if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);var c=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID).fieldValue;c=c?new(b("AdsUniformValue"))(c):b("AdsEmptyValue").instance();var d=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL).fieldValue;d=d?new(b("AdsUniformValue"))(d):b("AdsEmptyValue").instance();a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_HASH).fieldValue;a=a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance();return{videoID:c,imageURL:d,imageHash:a}}else return{videoID:b("AdsEmptyValue").instance(),imageURL:b("AdsEmptyValue").instance(),imageHash:b("AdsEmptyValue").instance()}}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentVideoDataSelector"});var h=b("adsCreateSelector")([d,f],function(a,c){var d={videoID:b("AdsEmptyValue").instance(),imageURL:b("AdsEmptyValue").instance(),imageHash:b("AdsEmptyValue").instance()};return a!=null?c.get(a,d):d},{name:e.id+".adsCarteSelectedSegmentVideoDataSelector"}),i=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),b("adsUEditorAccountSelector")],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").BODY_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedBodiesFields").ADLABELS,a,b("AdsAPIAdAssetFeedBodiesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()}else return b("AdsEmptyValue").instance()}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentBodyTextSelector"});function a(a){__p&&__p();return b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS),b("adsUEditorAccountSelector")],function(c,d,e){__p&&__p();if(b("AdsAccountUtils").hasCapability(e,"CAN_USE_CARTE")){e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);var f=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(d);return e&&e!==b("AdsBulkValueUtils").MIXED_VALUE?e.map(function(c){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL)){c=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(c,b("AdsAPIAdAssetTargetRuleFields").LINK_URL_LABEL);c=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(f,b("AdsAPIAdAssetFeedLinkURLsFields").ADLABELS,c,a).fieldValue;return c?new(b("AdsUniformValue"))(c):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()}return b("immutable").List()},{name:e.id})}var j=a(b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);a=a(b("AdsAPIAdAssetFeedLinkURLsFields").DISPLAY_URL);var k=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),b("adsUEditorAccountSelector")],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").TITLE_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentHeadlineSelector"}),l=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),b("adsUEditorAccountSelector")],function(a,c,d){__p&&__p();if(b("AdsAccountUtils").hasCapability(d,"CAN_USE_CARTE")){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL)){a=b("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetTargetRuleFields").DESCRIPTION_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetFeedTitlesFields").ADLABELS,a,b("AdsAPIAdAssetFeedTitlesFields").TEXT).fieldValue;return a?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()}else return b("AdsEmptyValue").instance()}):b("immutable").List()}return b("immutable").List()},{name:e.id+".adsCarteSegmentDescriptionSelector"}),m=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES),b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS),b("adsUEditorAccountSelector")],function(a,c,d){d=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);return d&&d!==b("AdsBulkValueUtils").MIXED_VALUE?d.map(function(a){if(b("AdsCarteAssetCustomizationRuleUtils").hasLabelFieldInRule(a,b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL)){a=b("AdsCarteAssetCustomizationRuleUtils").getLabelNameFromTargetingRule(a,b("AdsAPIAdAssetCustomizationRuleFields").CALL_TO_ACTION_LABEL);a=b("AdsAssetFeedFieldUtils").getAssetEntryForLabel(e,b("AdsAPIAdAssetCallToActionFields").ADLABELS,a,b("AdsAPIAdAssetCallToActionFields").TYPE).fieldValue;return a?new(b("AdsUniformValue"))(a):new(b("AdsUniformValue"))("")}else return new(b("AdsUniformValue"))("")}):b("immutable").List()},{name:e.id+".adsCarteSegmentCallToActionTypeSelector"}),n=b("adsCreateSelector")([m],function(a){return a.map(function(a){return new(b("AdsUniformValue"))(!!b("AdsBulkValueUtils").getUniformValueOrDefault(a))})},{name:e.id+".adsCarteSegmentCallToActionEnabledSelector"}),o=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.ASSET_CUSTOMIZATION_RULES)],function(a){a=b("AdsBulkValueUtils").getUniformValueOrDefault(a,b("immutable").List());return a},{name:e.id+".adsCarteAssetCustomizationRulesSelector"}),p=b("adsCreateSelector")([o,b("CarteSelectedDimensionsDataProvider").toFluxSelector()],function(a,c){var d=c.selectedDimensions;return a.map(function(a,c){a=g(a,d);return a||b("AdsUEditorCampaignCarteSectionStrings").getSegmentTitle(c+1)})},{name:e.id+".adsCarteSegmentsNameSelector"}),q=b("adsCreateSelector")([o,p,f,i],function(a,c,d,e){return a.map(function(a,f){return{index:f,rule:a,bodyText:b("AdsBulkValueUtils").getUniformValueOrDefault(e.get(f)),name:c.get(f),video:d.get(f)}})},{name:e.id+".adsCarteSegmentsSelector"});e.exports={adsCarteAssetCustomizationRulesSelector:o,adsCarteHasDCAssetCustomizationAssetFeedSelector:c,adsCarteSegmentsSelector:q,adsCarteSelectedSegmentIndexSelector:d,adsCarteSegmentsNameSelector:p,adsCarteSegmentVideoDataSelector:f,adsCarteSelectedSegmentVideoDataSelector:h,adsCarteSegmentBodyTextSelector:i,adsCarteSegmentWebsiteURLSelector:j,adsCarteSegmentDisplayURLSelector:a,adsCarteSegmentHeadlineSelector:k,adsCarteSegmentDescriptionSelector:l,adsCarteSegmentCallToActionTypeSelector:m,adsCarteSegmentCallToActionEnabledSelector:n}}),null);